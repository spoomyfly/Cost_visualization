(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function eb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var gf={exports:{}},ll={};var Zg;function tb(){if(Zg)return ll;Zg=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var m in o)m!=="key"&&(f[m]=o[m])}else f=o;return o=f.ref,{$$typeof:a,type:l,key:h,ref:o!==void 0?o:null,props:f}}return ll.Fragment=t,ll.jsx=i,ll.jsxs=i,ll}var Wg;function nb(){return Wg||(Wg=1,gf.exports=tb()),gf.exports}var C=nb(),_f={exports:{}},J={};var Jg;function ib(){if(Jg)return J;Jg=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function L(S){return S===null||typeof S!="object"?null:(S=b&&S[b]||S["@@iterator"],typeof S=="function"?S:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,q={};function F(S,D,j){this.props=S,this.context=D,this.refs=q,this.updater=j||I}F.prototype.isReactComponent={},F.prototype.setState=function(S,D){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,D,"setState")},F.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function W(){}W.prototype=F.prototype;function $(S,D,j){this.props=S,this.context=D,this.refs=q,this.updater=j||I}var Ne=$.prototype=new W;Ne.constructor=$,z(Ne,F.prototype),Ne.isPureReactComponent=!0;var Ze=Array.isArray;function qe(){}var ee={H:null,A:null,T:null,S:null},Ve=Object.prototype.hasOwnProperty;function mt(S,D,j){var V=j.ref;return{$$typeof:a,type:S,key:D,ref:V!==void 0?V:null,props:j}}function qn(S,D){return mt(S.type,D,S.props)}function kt(S){return typeof S=="object"&&S!==null&&S.$$typeof===a}function rt(S){var D={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(j){return D[j]})}var hn=/\/+/g;function Xt(S,D){return typeof S=="object"&&S!==null&&S.key!=null?rt(""+S.key):D.toString(36)}function At(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(qe,qe):(S.status="pending",S.then(function(D){S.status==="pending"&&(S.status="fulfilled",S.value=D)},function(D){S.status==="pending"&&(S.status="rejected",S.reason=D)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function x(S,D,j,V,te){var ae=typeof S;(ae==="undefined"||ae==="boolean")&&(S=null);var ye=!1;if(S===null)ye=!0;else switch(ae){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(S.$$typeof){case a:case t:ye=!0;break;case E:return ye=S._init,x(ye(S._payload),D,j,V,te)}}if(ye)return te=te(S),ye=V===""?"."+Xt(S,0):V,Ze(te)?(j="",ye!=null&&(j=ye.replace(hn,"$&/")+"/"),x(te,D,j,"",function(da){return da})):te!=null&&(kt(te)&&(te=qn(te,j+(te.key==null||S&&S.key===te.key?"":(""+te.key).replace(hn,"$&/")+"/")+ye)),D.push(te)),1;ye=0;var ct=V===""?".":V+":";if(Ze(S))for(var je=0;je<S.length;je++)V=S[je],ae=ct+Xt(V,je),ye+=x(V,D,j,ae,te);else if(je=L(S),typeof je=="function")for(S=je.call(S),je=0;!(V=S.next()).done;)V=V.value,ae=ct+Xt(V,je++),ye+=x(V,D,j,ae,te);else if(ae==="object"){if(typeof S.then=="function")return x(At(S),D,j,V,te);throw D=String(S),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return ye}function B(S,D,j){if(S==null)return S;var V=[],te=0;return x(S,V,"","",function(ae){return D.call(j,ae,te++)}),V}function X(S){if(S._status===-1){var D=S._result;D=D(),D.then(function(j){(S._status===0||S._status===-1)&&(S._status=1,S._result=j)},function(j){(S._status===0||S._status===-1)&&(S._status=2,S._result=j)}),S._status===-1&&(S._status=0,S._result=D)}if(S._status===1)return S._result.default;throw S._result}var _e=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},ve={map:B,forEach:function(S,D,j){B(S,function(){D.apply(this,arguments)},j)},count:function(S){var D=0;return B(S,function(){D++}),D},toArray:function(S){return B(S,function(D){return D})||[]},only:function(S){if(!kt(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return J.Activity=y,J.Children=ve,J.Component=F,J.Fragment=i,J.Profiler=o,J.PureComponent=$,J.StrictMode=l,J.Suspense=p,J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,J.__COMPILER_RUNTIME={__proto__:null,c:function(S){return ee.H.useMemoCache(S)}},J.cache=function(S){return function(){return S.apply(null,arguments)}},J.cacheSignal=function(){return null},J.cloneElement=function(S,D,j){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var V=z({},S.props),te=S.key;if(D!=null)for(ae in D.key!==void 0&&(te=""+D.key),D)!Ve.call(D,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&D.ref===void 0||(V[ae]=D[ae]);var ae=arguments.length-2;if(ae===1)V.children=j;else if(1<ae){for(var ye=Array(ae),ct=0;ct<ae;ct++)ye[ct]=arguments[ct+2];V.children=ye}return mt(S.type,te,V)},J.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},J.createElement=function(S,D,j){var V,te={},ae=null;if(D!=null)for(V in D.key!==void 0&&(ae=""+D.key),D)Ve.call(D,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(te[V]=D[V]);var ye=arguments.length-2;if(ye===1)te.children=j;else if(1<ye){for(var ct=Array(ye),je=0;je<ye;je++)ct[je]=arguments[je+2];te.children=ct}if(S&&S.defaultProps)for(V in ye=S.defaultProps,ye)te[V]===void 0&&(te[V]=ye[V]);return mt(S,ae,te)},J.createRef=function(){return{current:null}},J.forwardRef=function(S){return{$$typeof:m,render:S}},J.isValidElement=kt,J.lazy=function(S){return{$$typeof:E,_payload:{_status:-1,_result:S},_init:X}},J.memo=function(S,D){return{$$typeof:g,type:S,compare:D===void 0?null:D}},J.startTransition=function(S){var D=ee.T,j={};ee.T=j;try{var V=S(),te=ee.S;te!==null&&te(j,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(qe,_e)}catch(ae){_e(ae)}finally{D!==null&&j.types!==null&&(D.types=j.types),ee.T=D}},J.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},J.use=function(S){return ee.H.use(S)},J.useActionState=function(S,D,j){return ee.H.useActionState(S,D,j)},J.useCallback=function(S,D){return ee.H.useCallback(S,D)},J.useContext=function(S){return ee.H.useContext(S)},J.useDebugValue=function(){},J.useDeferredValue=function(S,D){return ee.H.useDeferredValue(S,D)},J.useEffect=function(S,D){return ee.H.useEffect(S,D)},J.useEffectEvent=function(S){return ee.H.useEffectEvent(S)},J.useId=function(){return ee.H.useId()},J.useImperativeHandle=function(S,D,j){return ee.H.useImperativeHandle(S,D,j)},J.useInsertionEffect=function(S,D){return ee.H.useInsertionEffect(S,D)},J.useLayoutEffect=function(S,D){return ee.H.useLayoutEffect(S,D)},J.useMemo=function(S,D){return ee.H.useMemo(S,D)},J.useOptimistic=function(S,D){return ee.H.useOptimistic(S,D)},J.useReducer=function(S,D,j){return ee.H.useReducer(S,D,j)},J.useRef=function(S){return ee.H.useRef(S)},J.useState=function(S){return ee.H.useState(S)},J.useSyncExternalStore=function(S,D,j){return ee.H.useSyncExternalStore(S,D,j)},J.useTransition=function(){return ee.H.useTransition()},J.version="19.2.3",J}var $g;function ah(){return $g||($g=1,_f.exports=ib()),_f.exports}var Oe=ah();const e_=eb(Oe);var yf={exports:{}},rl={},vf={exports:{}},Sf={};var t_;function sb(){return t_||(t_=1,(function(a){function t(x,B){var X=x.length;x.push(B);e:for(;0<X;){var _e=X-1>>>1,ve=x[_e];if(0<o(ve,B))x[_e]=B,x[X]=ve,X=_e;else break e}}function i(x){return x.length===0?null:x[0]}function l(x){if(x.length===0)return null;var B=x[0],X=x.pop();if(X!==B){x[0]=X;e:for(var _e=0,ve=x.length,S=ve>>>1;_e<S;){var D=2*(_e+1)-1,j=x[D],V=D+1,te=x[V];if(0>o(j,X))V<ve&&0>o(te,j)?(x[_e]=te,x[V]=X,_e=V):(x[_e]=j,x[D]=X,_e=D);else if(V<ve&&0>o(te,X))x[_e]=te,x[V]=X,_e=V;else break e}}return B}function o(x,B){var X=x.sortIndex-B.sortIndex;return X!==0?X:x.id-B.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,y=null,b=3,L=!1,I=!1,z=!1,q=!1,F=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Ne(x){for(var B=i(g);B!==null;){if(B.callback===null)l(g);else if(B.startTime<=x)l(g),B.sortIndex=B.expirationTime,t(p,B);else break;B=i(g)}}function Ze(x){if(z=!1,Ne(x),!I)if(i(p)!==null)I=!0,qe||(qe=!0,rt());else{var B=i(g);B!==null&&At(Ze,B.startTime-x)}}var qe=!1,ee=-1,Ve=5,mt=-1;function qn(){return q?!0:!(a.unstable_now()-mt<Ve)}function kt(){if(q=!1,qe){var x=a.unstable_now();mt=x;var B=!0;try{e:{I=!1,z&&(z=!1,W(ee),ee=-1),L=!0;var X=b;try{t:{for(Ne(x),y=i(p);y!==null&&!(y.expirationTime>x&&qn());){var _e=y.callback;if(typeof _e=="function"){y.callback=null,b=y.priorityLevel;var ve=_e(y.expirationTime<=x);if(x=a.unstable_now(),typeof ve=="function"){y.callback=ve,Ne(x),B=!0;break t}y===i(p)&&l(p),Ne(x)}else l(p);y=i(p)}if(y!==null)B=!0;else{var S=i(g);S!==null&&At(Ze,S.startTime-x),B=!1}}break e}finally{y=null,b=X,L=!1}B=void 0}}finally{B?rt():qe=!1}}}var rt;if(typeof $=="function")rt=function(){$(kt)};else if(typeof MessageChannel<"u"){var hn=new MessageChannel,Xt=hn.port2;hn.port1.onmessage=kt,rt=function(){Xt.postMessage(null)}}else rt=function(){F(kt,0)};function At(x,B){ee=F(function(){x(a.unstable_now())},B)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(x){x.callback=null},a.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ve=0<x?Math.floor(1e3/x):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(x){switch(b){case 1:case 2:case 3:var B=3;break;default:B=b}var X=b;b=B;try{return x()}finally{b=X}},a.unstable_requestPaint=function(){q=!0},a.unstable_runWithPriority=function(x,B){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var X=b;b=x;try{return B()}finally{b=X}},a.unstable_scheduleCallback=function(x,B,X){var _e=a.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?_e+X:_e):X=_e,x){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=X+ve,x={id:E++,callback:B,priorityLevel:x,startTime:X,expirationTime:ve,sortIndex:-1},X>_e?(x.sortIndex=X,t(g,x),i(p)===null&&x===i(g)&&(z?(W(ee),ee=-1):z=!0,At(Ze,X-_e))):(x.sortIndex=ve,t(p,x),I||L||(I=!0,qe||(qe=!0,rt()))),x},a.unstable_shouldYield=qn,a.unstable_wrapCallback=function(x){var B=b;return function(){var X=b;b=B;try{return x.apply(this,arguments)}finally{b=X}}}})(Sf)),Sf}var n_;function ab(){return n_||(n_=1,vf.exports=sb()),vf.exports}var Ef={exports:{}},ot={};var i_;function lb(){if(i_)return ot;i_=1;var a=ah();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(p,g,E){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:p,containerInfo:g,implementation:E}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ot.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return f(p,g,null,E)},ot.flushSync=function(p){var g=h.T,E=l.p;try{if(h.T=null,l.p=2,p)return p()}finally{h.T=g,l.p=E,l.d.f()}},ot.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(p,g))},ot.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},ot.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,y=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?l.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:L}):E==="script"&&l.d.X(p,{crossOrigin:y,integrity:b,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ot.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);l.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(p)},ot.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,y=m(E,g.crossOrigin);l.d.L(p,E,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ot.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);l.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(p)},ot.requestFormReset=function(p){l.d.r(p)},ot.unstable_batchedUpdates=function(p,g){return p(g)},ot.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},ot.version="19.2.3",ot}var s_;function rb(){if(s_)return Ef.exports;s_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ef.exports=lb(),Ef.exports}var a_;function ob(){if(a_)return rl;a_=1;var a=ab(),t=ah(),i=rb();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(l(188))}function g(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,r=n;;){var u=s.return;if(u===null)break;var c=u.alternate;if(c===null){if(r=u.return,r!==null){s=r;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===s)return p(u),e;if(c===r)return p(u),n;c=c.sibling}throw Error(l(188))}if(s.return!==r.return)s=u,r=c;else{for(var d=!1,_=u.child;_;){if(_===s){d=!0,s=u,r=c;break}if(_===r){d=!0,r=u,s=c;break}_=_.sibling}if(!d){for(_=c.child;_;){if(_===s){d=!0,s=c,r=u;break}if(_===r){d=!0,r=c,s=u;break}_=_.sibling}if(!d)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Ze=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),mt=Symbol.for("react.activity"),qn=Symbol.for("react.memo_cache_sentinel"),kt=Symbol.iterator;function rt(e){return e===null||typeof e!="object"?null:(e=kt&&e[kt]||e["@@iterator"],typeof e=="function"?e:null)}var hn=Symbol.for("react.client.reference");function Xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===hn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case F:return"Profiler";case q:return"StrictMode";case Ze:return"Suspense";case qe:return"SuspenseList";case mt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case $:return e.displayName||"Context";case W:return(e._context.displayName||"Context")+".Consumer";case Ne:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return n=e.displayName||null,n!==null?n:Xt(e.type)||"Memo";case Ve:n=e._payload,e=e._init;try{return Xt(e(n))}catch{}}return null}var At=Array.isArray,x=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},_e=[],ve=-1;function S(e){return{current:e}}function D(e){0>ve||(e.current=_e[ve],_e[ve]=null,ve--)}function j(e,n){ve++,_e[ve]=e.current,e.current=n}var V=S(null),te=S(null),ae=S(null),ye=S(null);function ct(e,n){switch(j(ae,n),j(te,e),j(V,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?vg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=vg(n),e=Sg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(V),j(V,e)}function je(){D(V),D(te),D(ae)}function da(e){e.memoizedState!==null&&j(ye,e);var n=V.current,s=Sg(n,e.type);n!==s&&(j(te,e),j(V,s))}function Bl(e){te.current===e&&(D(V),D(te)),ye.current===e&&(D(ye),nl._currentValue=X)}var Wo,Kh;function Di(e){if(Wo===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Wo=n&&n[1]||"",Kh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wo+e+Kh}var Jo=!1;function $o(e,n){if(!e||Jo)return"";Jo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(O){var R=O}Reflect.construct(e,[],k)}else{try{k.call()}catch(O){R=O}e.call(k.prototype)}}else{try{throw Error()}catch(O){R=O}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(O){if(O&&R&&typeof O.stack=="string")return[O.stack,R.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=r.DetermineComponentFrameRoot(),d=c[0],_=c[1];if(d&&_){var v=d.split(`
`),w=_.split(`
`);for(u=r=0;r<v.length&&!v[r].includes("DetermineComponentFrameRoot");)r++;for(;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;if(r===v.length||u===w.length)for(r=v.length-1,u=w.length-1;1<=r&&0<=u&&v[r]!==w[u];)u--;for(;1<=r&&0<=u;r--,u--)if(v[r]!==w[u]){if(r!==1||u!==1)do if(r--,u--,0>u||v[r]!==w[u]){var M=`
`+v[r].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=r&&0<=u);break}}}finally{Jo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Di(s):""}function M0(e,n){switch(e.tag){case 26:case 27:case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return e.child!==n&&n!==null?Di("Suspense Fallback"):Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return $o(e.type,!1);case 11:return $o(e.type.render,!1);case 1:return $o(e.type,!0);case 31:return Di("Activity");default:return""}}function Zh(e){try{var n="",s=null;do n+=M0(e,s),s=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var eu=Object.prototype.hasOwnProperty,tu=a.unstable_scheduleCallback,nu=a.unstable_cancelCallback,x0=a.unstable_shouldYield,I0=a.unstable_requestPaint,Nt=a.unstable_now,U0=a.unstable_getCurrentPriorityLevel,Wh=a.unstable_ImmediatePriority,Jh=a.unstable_UserBlockingPriority,ql=a.unstable_NormalPriority,L0=a.unstable_LowPriority,$h=a.unstable_IdlePriority,k0=a.log,z0=a.unstable_setDisableYieldValue,ma=null,wt=null;function Vn(e){if(typeof k0=="function"&&z0(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(ma,e)}catch{}}var Rt=Math.clz32?Math.clz32:B0,j0=Math.log,H0=Math.LN2;function B0(e){return e>>>=0,e===0?32:31-(j0(e)/H0|0)|0}var Vl=256,Gl=262144,Pl=4194304;function Mi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yl(e,n,s){var r=e.pendingLanes;if(r===0)return 0;var u=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~c,r!==0?u=Mi(r):(d&=_,d!==0?u=Mi(d):s||(s=_&~e,s!==0&&(u=Mi(s))))):(_=r&~c,_!==0?u=Mi(_):d!==0?u=Mi(d):s||(s=r&~e,s!==0&&(u=Mi(s)))),u===0?0:n!==0&&n!==u&&(n&c)===0&&(c=u&-u,s=n&-n,c>=s||c===32&&(s&4194048)!==0)?n:u}function pa(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function q0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ed(){var e=Pl;return Pl<<=1,(Pl&62914560)===0&&(Pl=4194304),e}function iu(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ga(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function V0(e,n,s,r,u,c){var d=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,v=e.expirationTimes,w=e.hiddenUpdates;for(s=d&~s;0<s;){var M=31-Rt(s),k=1<<M;_[M]=0,v[M]=-1;var R=w[M];if(R!==null)for(w[M]=null,M=0;M<R.length;M++){var O=R[M];O!==null&&(O.lane&=-536870913)}s&=~k}r!==0&&td(e,r,0),c!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~n))}function td(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Rt(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function nd(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var r=31-Rt(s),u=1<<r;u&n|e[r]&n&&(e[r]|=n),s&=~u}}function id(e,n){var s=n&-n;return s=(s&42)!==0?1:su(s),(s&(e.suspendedLanes|n))!==0?0:s}function su(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function au(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sd(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:Gg(e.type))}function ad(e,n){var s=B.p;try{return B.p=e,n()}finally{B.p=s}}var Gn=Math.random().toString(36).slice(2),nt="__reactFiber$"+Gn,pt="__reactProps$"+Gn,os="__reactContainer$"+Gn,lu="__reactEvents$"+Gn,G0="__reactListeners$"+Gn,P0="__reactHandles$"+Gn,ld="__reactResources$"+Gn,_a="__reactMarker$"+Gn;function ru(e){delete e[nt],delete e[pt],delete e[lu],delete e[G0],delete e[P0]}function us(e){var n=e[nt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[os]||s[nt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=wg(e);e!==null;){if(s=e[nt])return s;e=wg(e)}return n}e=s,s=e.parentNode}return null}function cs(e){if(e=e[nt]||e[os]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ya(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function fs(e){var n=e[ld];return n||(n=e[ld]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(e){e[_a]=!0}var rd=new Set,od={};function xi(e,n){hs(e,n),hs(e+"Capture",n)}function hs(e,n){for(od[e]=n,e=0;e<n.length;e++)rd.add(n[e])}var Y0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ud={},cd={};function F0(e){return eu.call(cd,e)?!0:eu.call(ud,e)?!1:Y0.test(e)?cd[e]=!0:(ud[e]=!0,!1)}function Fl(e,n,s){if(F0(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Ql(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function dn(e,n,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+r)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Q0(e,n,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,c=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(d){s=""+d,c.call(this,d)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ou(e){if(!e._valueTracker){var n=fd(e)?"checked":"value";e._valueTracker=Q0(e,n,""+e[n])}}function hd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return e&&(r=fd(e)?e.checked?"true":"false":e.value),e=r,e!==s?(n.setValue(e),!0):!1}function Xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var X0=/[\n"\\]/g;function jt(e){return e.replace(X0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function uu(e,n,s,r,u,c,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),n!=null?d==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+zt(n)):e.value!==""+zt(n)&&(e.value=""+zt(n)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),n!=null?cu(e,d,zt(n)):s!=null?cu(e,d,zt(s)):r!=null&&e.removeAttribute("value"),u==null&&c!=null&&(e.defaultChecked=!!c),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+zt(_):e.removeAttribute("name")}function dd(e,n,s,r,u,c,d,_){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),n!=null||s!=null){if(!(c!=="submit"&&c!=="reset"||n!=null)){ou(e);return}s=s!=null?""+zt(s):"",n=n!=null?""+zt(n):s,_||n===e.value||(e.value=n),e.defaultValue=n}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),ou(e)}function cu(e,n,s){n==="number"&&Xl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ds(e,n,s,r){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&r&&(e[s].defaultSelected=!0)}else{for(s=""+zt(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function md(e,n,s){if(n!=null&&(n=""+zt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+zt(s):""}function pd(e,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(l(92));if(At(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=zt(n),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),ou(e)}function ms(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var K0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gd(e,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,s):typeof s!="number"||s===0||K0.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function _d(e,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in n)r=n[u],n.hasOwnProperty(u)&&s[u]!==r&&gd(e,u,r)}else for(var c in n)n.hasOwnProperty(c)&&gd(e,c,n[c])}function fu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kl(e){return W0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var hu=null;function du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ps=null,gs=null;function yd(e){var n=cs(e);if(n&&(e=n.stateNode)){var s=e[pt]||null;e:switch(e=n.stateNode,n.type){case"input":if(uu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+jt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==e&&r.form===e.form){var u=r[pt]||null;if(!u)throw Error(l(90));uu(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===e.form&&hd(r)}break e;case"textarea":md(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&ds(e,!!s.multiple,n,!1)}}}var mu=!1;function vd(e,n,s){if(mu)return e(n,s);mu=!0;try{var r=e(n);return r}finally{if(mu=!1,(ps!==null||gs!==null)&&(kr(),ps&&(n=ps,e=gs,gs=ps=null,yd(n),e)))for(n=0;n<e.length;n++)yd(e[n])}}function va(e,n){var s=e.stateNode;if(s===null)return null;var r=s[pt]||null;if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=!1;if(pn)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){pu=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{pu=!1}var Pn=null,gu=null,Zl=null;function Sd(){if(Zl)return Zl;var e,n=gu,s=n.length,r,u="value"in Pn?Pn.value:Pn.textContent,c=u.length;for(e=0;e<s&&n[e]===u[e];e++);var d=s-e;for(r=1;r<=d&&n[s-r]===u[c-r];r++);return Zl=u.slice(e,1<r?1-r:void 0)}function Wl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Jl(){return!0}function Ed(){return!1}function gt(e){function n(s,r,u,c,d){this._reactName=s,this._targetInst=u,this.type=r,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(c):c[_]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Jl:Ed,this.isPropagationStopped=Ed,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),n}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=gt(Ii),Ea=y({},Ii,{view:0,detail:0}),J0=gt(Ea),_u,yu,ba,er=y({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ba&&(ba&&e.type==="mousemove"?(_u=e.screenX-ba.screenX,yu=e.screenY-ba.screenY):yu=_u=0,ba=e),_u)},movementY:function(e){return"movementY"in e?e.movementY:yu}}),bd=gt(er),$0=y({},er,{dataTransfer:0}),eS=gt($0),tS=y({},Ea,{relatedTarget:0}),vu=gt(tS),nS=y({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),iS=gt(nS),sS=y({},Ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aS=gt(sS),lS=y({},Ii,{data:0}),Td=gt(lS),rS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cS(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uS[e])?!!n[e]:!1}function Su(){return cS}var fS=y({},Ea,{key:function(e){if(e.key){var n=rS[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(e){return e.type==="keypress"?Wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hS=gt(fS),dS=y({},er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=gt(dS),mS=y({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),pS=gt(mS),gS=y({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),_S=gt(gS),yS=y({},er,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vS=gt(yS),SS=y({},Ii,{newState:0,oldState:0}),ES=gt(SS),bS=[9,13,27,32],Eu=pn&&"CompositionEvent"in window,Ta=null;pn&&"documentMode"in document&&(Ta=document.documentMode);var TS=pn&&"TextEvent"in window&&!Ta,Ad=pn&&(!Eu||Ta&&8<Ta&&11>=Ta),Nd=" ",wd=!1;function Rd(e,n){switch(e){case"keyup":return bS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Od(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function CS(e,n){switch(e){case"compositionend":return Od(n);case"keypress":return n.which!==32?null:(wd=!0,Nd);case"textInput":return e=n.data,e===Nd&&wd?null:e;default:return null}}function AS(e,n){if(_s)return e==="compositionend"||!Eu&&Rd(e,n)?(e=Sd(),Zl=gu=Pn=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ad&&n.locale!=="ko"?null:n.data;default:return null}}var NS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!NS[e.type]:n==="textarea"}function Md(e,n,s,r){ps?gs?gs.push(r):gs=[r]:ps=r,n=Gr(n,"onChange"),0<n.length&&(s=new $l("onChange","change",null,s,r),e.push({event:s,listeners:n}))}var Ca=null,Aa=null;function wS(e){dg(e,0)}function tr(e){var n=ya(e);if(hd(n))return e}function xd(e,n){if(e==="change")return n}var Id=!1;if(pn){var bu;if(pn){var Tu="oninput"in document;if(!Tu){var Ud=document.createElement("div");Ud.setAttribute("oninput","return;"),Tu=typeof Ud.oninput=="function"}bu=Tu}else bu=!1;Id=bu&&(!document.documentMode||9<document.documentMode)}function Ld(){Ca&&(Ca.detachEvent("onpropertychange",kd),Aa=Ca=null)}function kd(e){if(e.propertyName==="value"&&tr(Aa)){var n=[];Md(n,Aa,e,du(e)),vd(wS,n)}}function RS(e,n,s){e==="focusin"?(Ld(),Ca=n,Aa=s,Ca.attachEvent("onpropertychange",kd)):e==="focusout"&&Ld()}function OS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tr(Aa)}function DS(e,n){if(e==="click")return tr(n)}function MS(e,n){if(e==="input"||e==="change")return tr(n)}function xS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ot=typeof Object.is=="function"?Object.is:xS;function Na(e,n){if(Ot(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var u=s[r];if(!eu.call(n,u)||!Ot(e[u],n[u]))return!1}return!0}function zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,n){var s=zd(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=n&&r>=n)return{node:s,offset:n-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zd(s)}}function Hd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Hd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Xl(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Xl(e.document)}return n}function Cu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var IS=pn&&"documentMode"in document&&11>=document.documentMode,ys=null,Au=null,wa=null,Nu=!1;function qd(e,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Nu||ys==null||ys!==Xl(r)||(r=ys,"selectionStart"in r&&Cu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wa&&Na(wa,r)||(wa=r,r=Gr(Au,"onSelect"),0<r.length&&(n=new $l("onSelect","select",null,n,s),e.push({event:n,listeners:r}),n.target=ys)))}function Ui(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var vs={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},wu={},Vd={};pn&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Li(e){if(wu[e])return wu[e];if(!vs[e])return e;var n=vs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Vd)return wu[e]=n[s];return e}var Gd=Li("animationend"),Pd=Li("animationiteration"),Yd=Li("animationstart"),US=Li("transitionrun"),LS=Li("transitionstart"),kS=Li("transitioncancel"),Fd=Li("transitionend"),Qd=new Map,Ru="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ru.push("scrollEnd");function Kt(e,n){Qd.set(e,n),xi(n,[e])}var nr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ht=[],Ss=0,Ou=0;function ir(){for(var e=Ss,n=Ou=Ss=0;n<e;){var s=Ht[n];Ht[n++]=null;var r=Ht[n];Ht[n++]=null;var u=Ht[n];Ht[n++]=null;var c=Ht[n];if(Ht[n++]=null,r!==null&&u!==null){var d=r.pending;d===null?u.next=u:(u.next=d.next,d.next=u),r.pending=u}c!==0&&Xd(s,u,c)}}function sr(e,n,s,r){Ht[Ss++]=e,Ht[Ss++]=n,Ht[Ss++]=s,Ht[Ss++]=r,Ou|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Du(e,n,s,r){return sr(e,n,s,r),ar(e)}function ki(e,n){return sr(e,null,null,n),ar(e)}function Xd(e,n,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var u=!1,c=e.return;c!==null;)c.childLanes|=s,r=c.alternate,r!==null&&(r.childLanes|=s),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(u=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,u&&n!==null&&(u=31-Rt(s),e=c.hiddenUpdates,r=e[u],r===null?e[u]=[n]:r.push(n),n.lane=s|536870912),c):null}function ar(e){if(50<Ka)throw Ka=0,Hc=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Es={};function zS(e,n,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,n,s,r){return new zS(e,n,s,r)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gn(e,n){var s=e.alternate;return s===null?(s=Dt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Kd(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function lr(e,n,s,r,u,c){var d=0;if(r=e,typeof e=="function")Mu(e)&&(d=1);else if(typeof e=="string")d=VE(e,s,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case mt:return e=Dt(31,s,n,u),e.elementType=mt,e.lanes=c,e;case z:return zi(s.children,u,c,n);case q:d=8,u|=24;break;case F:return e=Dt(12,s,n,u|2),e.elementType=F,e.lanes=c,e;case Ze:return e=Dt(13,s,n,u),e.elementType=Ze,e.lanes=c,e;case qe:return e=Dt(19,s,n,u),e.elementType=qe,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:d=10;break e;case W:d=9;break e;case Ne:d=11;break e;case ee:d=14;break e;case Ve:d=16,r=null;break e}d=29,s=Error(l(130,e===null?"null":typeof e,"")),r=null}return n=Dt(d,s,n,u),n.elementType=e,n.type=r,n.lanes=c,n}function zi(e,n,s,r){return e=Dt(7,e,r,n),e.lanes=s,e}function xu(e,n,s){return e=Dt(6,e,null,n),e.lanes=s,e}function Zd(e){var n=Dt(18,null,null,0);return n.stateNode=e,n}function Iu(e,n,s){return n=Dt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Wd=new WeakMap;function Bt(e,n){if(typeof e=="object"&&e!==null){var s=Wd.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Zh(n)},Wd.set(e,n),n)}return{value:e,source:n,stack:Zh(n)}}var bs=[],Ts=0,rr=null,Ra=0,qt=[],Vt=0,Yn=null,an=1,ln="";function _n(e,n){bs[Ts++]=Ra,bs[Ts++]=rr,rr=e,Ra=n}function Jd(e,n,s){qt[Vt++]=an,qt[Vt++]=ln,qt[Vt++]=Yn,Yn=e;var r=an;e=ln;var u=32-Rt(r)-1;r&=~(1<<u),s+=1;var c=32-Rt(n)+u;if(30<c){var d=u-u%5;c=(r&(1<<d)-1).toString(32),r>>=d,u-=d,an=1<<32-Rt(n)+u|s<<u|r,ln=c+e}else an=1<<c|s<<u|r,ln=e}function Uu(e){e.return!==null&&(_n(e,1),Jd(e,1,0))}function Lu(e){for(;e===rr;)rr=bs[--Ts],bs[Ts]=null,Ra=bs[--Ts],bs[Ts]=null;for(;e===Yn;)Yn=qt[--Vt],qt[Vt]=null,ln=qt[--Vt],qt[Vt]=null,an=qt[--Vt],qt[Vt]=null}function $d(e,n){qt[Vt++]=an,qt[Vt++]=ln,qt[Vt++]=Yn,an=n.id,ln=n.overflow,Yn=e}var it=null,Me=null,he=!1,Fn=null,Gt=!1,ku=Error(l(519));function Qn(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oa(Bt(n,e)),ku}function em(e){var n=e.stateNode,s=e.type,r=e.memoizedProps;switch(n[nt]=e,n[pt]=r,s){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(s=0;s<Wa.length;s++)re(Wa[s],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":re("invalid",n),dd(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":re("invalid",n);break;case"textarea":re("invalid",n),pd(n,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||_g(n.textContent,s)?(r.popover!=null&&(re("beforetoggle",n),re("toggle",n)),r.onScroll!=null&&re("scroll",n),r.onScrollEnd!=null&&re("scrollend",n),r.onClick!=null&&(n.onclick=mn),n=!0):n=!1,n||Qn(e,!0)}function tm(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:it=it.return}}function Cs(e){if(e!==it)return!1;if(!he)return tm(e),he=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ef(e.type,e.memoizedProps)),s=!s),s&&Me&&Qn(e),tm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=Ng(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=Ng(e)}else n===27?(n=Me,ri(e.type)?(e=lf,lf=null,Me=e):Me=n):Me=it?Yt(e.stateNode.nextSibling):null;return!0}function ji(){Me=it=null,he=!1}function zu(){var e=Fn;return e!==null&&(St===null?St=e:St.push.apply(St,e),Fn=null),e}function Oa(e){Fn===null?Fn=[e]:Fn.push(e)}var ju=S(null),Hi=null,yn=null;function Xn(e,n,s){j(ju,n._currentValue),n._currentValue=s}function vn(e){e._currentValue=ju.current,D(ju)}function Hu(e,n,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===s)break;e=e.return}}function Bu(e,n,s,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){var d=u.child;c=c.firstContext;e:for(;c!==null;){var _=c;c=u;for(var v=0;v<n.length;v++)if(_.context===n[v]){c.lanes|=s,_=c.alternate,_!==null&&(_.lanes|=s),Hu(c.return,s,e),r||(d=null);break e}c=_.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(l(341));d.lanes|=s,c=d.alternate,c!==null&&(c.lanes|=s),Hu(d,s,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function As(e,n,s,r){e=null;for(var u=n,c=!1;u!==null;){if(!c){if((u.flags&524288)!==0)c=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(l(387));if(d=d.memoizedProps,d!==null){var _=u.type;Ot(u.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(u===ye.current){if(d=u.alternate,d===null)throw Error(l(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(nl):e=[nl])}u=u.return}e!==null&&Bu(n,e,s,r),n.flags|=262144}function or(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bi(e){Hi=e,yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return nm(Hi,e)}function ur(e,n){return Hi===null&&Bi(e),nm(e,n)}function nm(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},yn===null){if(e===null)throw Error(l(308));yn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else yn=yn.next=n;return s}var jS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},HS=a.unstable_scheduleCallback,BS=a.unstable_NormalPriority,Ge={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new jS,data:new Map,refCount:0}}function Da(e){e.refCount--,e.refCount===0&&HS(BS,function(){e.controller.abort()})}var Ma=null,Vu=0,Ns=0,ws=null;function qS(e,n){if(Ma===null){var s=Ma=[];Vu=0,Ns=Yc(),ws={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Vu++,n.then(im,im),n}function im(){if(--Vu===0&&Ma!==null){ws!==null&&(ws.status="fulfilled");var e=Ma;Ma=null,Ns=0,ws=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function VS(e,n){var s=[],r={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(r.status="rejected",r.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),r}var sm=x.S;x.S=function(e,n){qp=Nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&qS(e,n),sm!==null&&sm(e,n)};var qi=S(null);function Gu(){var e=qi.current;return e!==null?e:we.pooledCache}function cr(e,n){n===null?j(qi,qi.current):j(qi,n.pool)}function am(){var e=Gu();return e===null?null:{parent:Ge._currentValue,pool:e}}var Rs=Error(l(460)),Pu=Error(l(474)),fr=Error(l(542)),hr={then:function(){}};function lm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rm(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(mn,mn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,um(e),e;default:if(typeof n.status=="string")n.then(mn,mn);else{if(e=we,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=r}},function(r){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,um(e),e}throw Gi=n,Rs}}function Vi(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Gi=s,Rs):s}}var Gi=null;function om(){if(Gi===null)throw Error(l(459));var e=Gi;return Gi=null,e}function um(e){if(e===Rs||e===fr)throw Error(l(483))}var Os=null,xa=0;function dr(e){var n=xa;return xa+=1,Os===null&&(Os=[]),rm(Os,e,n)}function Ia(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function mr(e,n){throw n.$$typeof===b?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function cm(e){function n(A,T){if(e){var N=A.deletions;N===null?(A.deletions=[T],A.flags|=16):N.push(T)}}function s(A,T){if(!e)return null;for(;T!==null;)n(A,T),T=T.sibling;return null}function r(A){for(var T=new Map;A!==null;)A.key!==null?T.set(A.key,A):T.set(A.index,A),A=A.sibling;return T}function u(A,T){return A=gn(A,T),A.index=0,A.sibling=null,A}function c(A,T,N){return A.index=N,e?(N=A.alternate,N!==null?(N=N.index,N<T?(A.flags|=67108866,T):N):(A.flags|=67108866,T)):(A.flags|=1048576,T)}function d(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function _(A,T,N,U){return T===null||T.tag!==6?(T=xu(N,A.mode,U),T.return=A,T):(T=u(T,N),T.return=A,T)}function v(A,T,N,U){var Y=N.type;return Y===z?M(A,T,N.props.children,U,N.key):T!==null&&(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ve&&Vi(Y)===T.type)?(T=u(T,N.props),Ia(T,N),T.return=A,T):(T=lr(N.type,N.key,N.props,null,A.mode,U),Ia(T,N),T.return=A,T)}function w(A,T,N,U){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=Iu(N,A.mode,U),T.return=A,T):(T=u(T,N.children||[]),T.return=A,T)}function M(A,T,N,U,Y){return T===null||T.tag!==7?(T=zi(N,A.mode,U,Y),T.return=A,T):(T=u(T,N),T.return=A,T)}function k(A,T,N){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=xu(""+T,A.mode,N),T.return=A,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case L:return N=lr(T.type,T.key,T.props,null,A.mode,N),Ia(N,T),N.return=A,N;case I:return T=Iu(T,A.mode,N),T.return=A,T;case Ve:return T=Vi(T),k(A,T,N)}if(At(T)||rt(T))return T=zi(T,A.mode,N,null),T.return=A,T;if(typeof T.then=="function")return k(A,dr(T),N);if(T.$$typeof===$)return k(A,ur(A,T),N);mr(A,T)}return null}function R(A,T,N,U){var Y=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return Y!==null?null:_(A,T,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case L:return N.key===Y?v(A,T,N,U):null;case I:return N.key===Y?w(A,T,N,U):null;case Ve:return N=Vi(N),R(A,T,N,U)}if(At(N)||rt(N))return Y!==null?null:M(A,T,N,U,null);if(typeof N.then=="function")return R(A,T,dr(N),U);if(N.$$typeof===$)return R(A,T,ur(A,N),U);mr(A,N)}return null}function O(A,T,N,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return A=A.get(N)||null,_(T,A,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case L:return A=A.get(U.key===null?N:U.key)||null,v(T,A,U,Y);case I:return A=A.get(U.key===null?N:U.key)||null,w(T,A,U,Y);case Ve:return U=Vi(U),O(A,T,N,U,Y)}if(At(U)||rt(U))return A=A.get(N)||null,M(T,A,U,Y,null);if(typeof U.then=="function")return O(A,T,N,dr(U),Y);if(U.$$typeof===$)return O(A,T,N,ur(T,U),Y);mr(T,U)}return null}function G(A,T,N,U){for(var Y=null,de=null,P=T,ie=T=0,ce=null;P!==null&&ie<N.length;ie++){P.index>ie?(ce=P,P=null):ce=P.sibling;var me=R(A,P,N[ie],U);if(me===null){P===null&&(P=ce);break}e&&P&&me.alternate===null&&n(A,P),T=c(me,T,ie),de===null?Y=me:de.sibling=me,de=me,P=ce}if(ie===N.length)return s(A,P),he&&_n(A,ie),Y;if(P===null){for(;ie<N.length;ie++)P=k(A,N[ie],U),P!==null&&(T=c(P,T,ie),de===null?Y=P:de.sibling=P,de=P);return he&&_n(A,ie),Y}for(P=r(P);ie<N.length;ie++)ce=O(P,A,ie,N[ie],U),ce!==null&&(e&&ce.alternate!==null&&P.delete(ce.key===null?ie:ce.key),T=c(ce,T,ie),de===null?Y=ce:de.sibling=ce,de=ce);return e&&P.forEach(function(hi){return n(A,hi)}),he&&_n(A,ie),Y}function Q(A,T,N,U){if(N==null)throw Error(l(151));for(var Y=null,de=null,P=T,ie=T=0,ce=null,me=N.next();P!==null&&!me.done;ie++,me=N.next()){P.index>ie?(ce=P,P=null):ce=P.sibling;var hi=R(A,P,me.value,U);if(hi===null){P===null&&(P=ce);break}e&&P&&hi.alternate===null&&n(A,P),T=c(hi,T,ie),de===null?Y=hi:de.sibling=hi,de=hi,P=ce}if(me.done)return s(A,P),he&&_n(A,ie),Y;if(P===null){for(;!me.done;ie++,me=N.next())me=k(A,me.value,U),me!==null&&(T=c(me,T,ie),de===null?Y=me:de.sibling=me,de=me);return he&&_n(A,ie),Y}for(P=r(P);!me.done;ie++,me=N.next())me=O(P,A,ie,me.value,U),me!==null&&(e&&me.alternate!==null&&P.delete(me.key===null?ie:me.key),T=c(me,T,ie),de===null?Y=me:de.sibling=me,de=me);return e&&P.forEach(function($E){return n(A,$E)}),he&&_n(A,ie),Y}function Ce(A,T,N,U){if(typeof N=="object"&&N!==null&&N.type===z&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case L:e:{for(var Y=N.key;T!==null;){if(T.key===Y){if(Y=N.type,Y===z){if(T.tag===7){s(A,T.sibling),U=u(T,N.props.children),U.return=A,A=U;break e}}else if(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ve&&Vi(Y)===T.type){s(A,T.sibling),U=u(T,N.props),Ia(U,N),U.return=A,A=U;break e}s(A,T);break}else n(A,T);T=T.sibling}N.type===z?(U=zi(N.props.children,A.mode,U,N.key),U.return=A,A=U):(U=lr(N.type,N.key,N.props,null,A.mode,U),Ia(U,N),U.return=A,A=U)}return d(A);case I:e:{for(Y=N.key;T!==null;){if(T.key===Y)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){s(A,T.sibling),U=u(T,N.children||[]),U.return=A,A=U;break e}else{s(A,T);break}else n(A,T);T=T.sibling}U=Iu(N,A.mode,U),U.return=A,A=U}return d(A);case Ve:return N=Vi(N),Ce(A,T,N,U)}if(At(N))return G(A,T,N,U);if(rt(N)){if(Y=rt(N),typeof Y!="function")throw Error(l(150));return N=Y.call(N),Q(A,T,N,U)}if(typeof N.then=="function")return Ce(A,T,dr(N),U);if(N.$$typeof===$)return Ce(A,T,ur(A,N),U);mr(A,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,T!==null&&T.tag===6?(s(A,T.sibling),U=u(T,N),U.return=A,A=U):(s(A,T),U=xu(N,A.mode,U),U.return=A,A=U),d(A)):s(A,T)}return function(A,T,N,U){try{xa=0;var Y=Ce(A,T,N,U);return Os=null,Y}catch(P){if(P===Rs||P===fr)throw P;var de=Dt(29,P,null,A.mode);return de.lanes=U,de.return=A,de}}}var Pi=cm(!0),fm=cm(!1),Kn=!1;function Yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(e,n,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ge&2)!==0){var u=r.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),r.pending=n,n=ar(e),Xd(e,null,s),n}return sr(e,r,n,s),ar(e)}function Ua(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,nd(e,s)}}function Qu(e,n){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var u=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var d={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};c===null?u=c=d:c=c.next=d,s=s.next}while(s!==null);c===null?u=c=n:c=c.next=n}else u=c=n;s={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Xu=!1;function La(){if(Xu){var e=ws;if(e!==null)throw e}}function ka(e,n,s,r){Xu=!1;var u=e.updateQueue;Kn=!1;var c=u.firstBaseUpdate,d=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var v=_,w=v.next;v.next=null,d===null?c=w:d.next=w,d=v;var M=e.alternate;M!==null&&(M=M.updateQueue,_=M.lastBaseUpdate,_!==d&&(_===null?M.firstBaseUpdate=w:_.next=w,M.lastBaseUpdate=v))}if(c!==null){var k=u.baseState;d=0,M=w=v=null,_=c;do{var R=_.lane&-536870913,O=R!==_.lane;if(O?(ue&R)===R:(r&R)===R){R!==0&&R===Ns&&(Xu=!0),M!==null&&(M=M.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var G=e,Q=_;R=n;var Ce=s;switch(Q.tag){case 1:if(G=Q.payload,typeof G=="function"){k=G.call(Ce,k,R);break e}k=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=Q.payload,R=typeof G=="function"?G.call(Ce,k,R):G,R==null)break e;k=y({},k,R);break e;case 2:Kn=!0}}R=_.callback,R!==null&&(e.flags|=64,O&&(e.flags|=8192),O=u.callbacks,O===null?u.callbacks=[R]:O.push(R))}else O={lane:R,tag:_.tag,payload:_.payload,callback:_.callback,next:null},M===null?(w=M=O,v=k):M=M.next=O,d|=R;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;O=_,_=O.next,O.next=null,u.lastBaseUpdate=O,u.shared.pending=null}}while(!0);M===null&&(v=k),u.baseState=v,u.firstBaseUpdate=w,u.lastBaseUpdate=M,c===null&&(u.shared.lanes=0),ni|=d,e.lanes=d,e.memoizedState=k}}function hm(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function dm(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)hm(s[e],n)}var Ds=S(null),pr=S(0);function mm(e,n){e=Rn,j(pr,e),j(Ds,n),Rn=e|n.baseLanes}function Ku(){j(pr,Rn),j(Ds,Ds.current)}function Zu(){Rn=pr.current,D(Ds),D(pr)}var Mt=S(null),Pt=null;function Jn(e){var n=e.alternate;j(He,He.current&1),j(Mt,e),Pt===null&&(n===null||Ds.current!==null||n.memoizedState!==null)&&(Pt=e)}function Wu(e){j(He,He.current),j(Mt,e),Pt===null&&(Pt=e)}function pm(e){e.tag===22?(j(He,He.current),j(Mt,e),Pt===null&&(Pt=e)):$n()}function $n(){j(He,He.current),j(Mt,Mt.current)}function xt(e){D(Mt),Pt===e&&(Pt=null),D(He)}var He=S(0);function gr(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||sf(s)||af(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Sn=0,ne=null,be=null,Pe=null,_r=!1,Ms=!1,Yi=!1,yr=0,za=0,xs=null,GS=0;function Le(){throw Error(l(321))}function Ju(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Ot(e[s],n[s]))return!1;return!0}function $u(e,n,s,r,u,c){return Sn=c,ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,x.H=e===null||e.memoizedState===null?Jm:mc,Yi=!1,c=s(r,u),Yi=!1,Ms&&(c=_m(n,s,r,u)),gm(e),c}function gm(e){x.H=Ba;var n=be!==null&&be.next!==null;if(Sn=0,Pe=be=ne=null,_r=!1,za=0,xs=null,n)throw Error(l(300));e===null||Ye||(e=e.dependencies,e!==null&&or(e)&&(Ye=!0))}function _m(e,n,s,r){ne=e;var u=0;do{if(Ms&&(xs=null),za=0,Ms=!1,25<=u)throw Error(l(301));if(u+=1,Pe=be=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}x.H=$m,c=n(s,r)}while(Ms);return c}function PS(){var e=x.H,n=e.useState()[0];return n=typeof n.then=="function"?ja(n):n,e=e.useState()[0],(be!==null?be.memoizedState:null)!==e&&(ne.flags|=1024),n}function ec(){var e=yr!==0;return yr=0,e}function tc(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function nc(e){if(_r){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}_r=!1}Sn=0,Pe=be=ne=null,Ms=!1,za=yr=0,xs=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ne.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Be(){if(be===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var n=Pe===null?ne.memoizedState:Pe.next;if(n!==null)Pe=n,be=e;else{if(e===null)throw ne.alternate===null?Error(l(467)):Error(l(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Pe===null?ne.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function vr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ja(e){var n=za;return za+=1,xs===null&&(xs=[]),e=rm(xs,e,n),n=ne,(Pe===null?n.memoizedState:Pe.next)===null&&(n=n.alternate,x.H=n===null||n.memoizedState===null?Jm:mc),e}function Sr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ja(e);if(e.$$typeof===$)return st(e)}throw Error(l(438,String(e)))}function ic(e){var n=null,s=ne.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=ne.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=vr(),ne.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),r=0;r<e;r++)s[r]=qn;return n.index++,s}function En(e,n){return typeof n=="function"?n(e):n}function Er(e){var n=Be();return sc(n,be,e)}function sc(e,n,s){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var u=e.baseQueue,c=r.pending;if(c!==null){if(u!==null){var d=u.next;u.next=c.next,c.next=d}n.baseQueue=u=c,r.pending=null}if(c=e.baseState,u===null)e.memoizedState=c;else{n=u.next;var _=d=null,v=null,w=n,M=!1;do{var k=w.lane&-536870913;if(k!==w.lane?(ue&k)===k:(Sn&k)===k){var R=w.revertLane;if(R===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),k===Ns&&(M=!0);else if((Sn&R)===R){w=w.next,R===Ns&&(M=!0);continue}else k={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},v===null?(_=v=k,d=c):v=v.next=k,ne.lanes|=R,ni|=R;k=w.action,Yi&&s(c,k),c=w.hasEagerState?w.eagerState:s(c,k)}else R={lane:k,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},v===null?(_=v=R,d=c):v=v.next=R,ne.lanes|=k,ni|=k;w=w.next}while(w!==null&&w!==n);if(v===null?d=c:v.next=_,!Ot(c,e.memoizedState)&&(Ye=!0,M&&(s=ws,s!==null)))throw s;e.memoizedState=c,e.baseState=d,e.baseQueue=v,r.lastRenderedState=c}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ac(e){var n=Be(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var r=s.dispatch,u=s.pending,c=n.memoizedState;if(u!==null){s.pending=null;var d=u=u.next;do c=e(c,d.action),d=d.next;while(d!==u);Ot(c,n.memoizedState)||(Ye=!0),n.memoizedState=c,n.baseQueue===null&&(n.baseState=c),s.lastRenderedState=c}return[c,r]}function ym(e,n,s){var r=ne,u=Be(),c=he;if(c){if(s===void 0)throw Error(l(407));s=s()}else s=n();var d=!Ot((be||u).memoizedState,s);if(d&&(u.memoizedState=s,Ye=!0),u=u.queue,oc(Em.bind(null,r,u,e),[e]),u.getSnapshot!==n||d||Pe!==null&&Pe.memoizedState.tag&1){if(r.flags|=2048,Is(9,{destroy:void 0},Sm.bind(null,r,u,s,n),null),we===null)throw Error(l(349));c||(Sn&127)!==0||vm(r,n,s)}return s}function vm(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=ne.updateQueue,n===null?(n=vr(),ne.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Sm(e,n,s,r){n.value=s,n.getSnapshot=r,bm(n)&&Tm(e)}function Em(e,n,s){return s(function(){bm(n)&&Tm(e)})}function bm(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Ot(e,s)}catch{return!0}}function Tm(e){var n=ki(e,2);n!==null&&Et(n,e,2)}function lc(e){var n=ft();if(typeof e=="function"){var s=e;if(e=s(),Yi){Vn(!0);try{s()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:e},n}function Cm(e,n,s,r){return e.baseState=s,sc(e,be,typeof r=="function"?r:En)}function YS(e,n,s,r,u){if(Cr(e))throw Error(l(485));if(e=n.action,e!==null){var c={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};x.T!==null?s(!0):c.isTransition=!1,r(c),s=n.pending,s===null?(c.next=n.pending=c,Am(n,c)):(c.next=s.next,n.pending=s.next=c)}}function Am(e,n){var s=n.action,r=n.payload,u=e.state;if(n.isTransition){var c=x.T,d={};x.T=d;try{var _=s(u,r),v=x.S;v!==null&&v(d,_),Nm(e,n,_)}catch(w){rc(e,n,w)}finally{c!==null&&d.types!==null&&(c.types=d.types),x.T=c}}else try{c=s(u,r),Nm(e,n,c)}catch(w){rc(e,n,w)}}function Nm(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){wm(e,n,r)},function(r){return rc(e,n,r)}):wm(e,n,s)}function wm(e,n,s){n.status="fulfilled",n.value=s,Rm(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Am(e,s)))}function rc(e,n,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,Rm(n),n=n.next;while(n!==r)}e.action=null}function Rm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Om(e,n){return n}function Dm(e,n){if(he){var s=we.formState;if(s!==null){e:{var r=ne;if(he){if(Me){t:{for(var u=Me,c=Gt;u.nodeType!==8;){if(!c){u=null;break t}if(u=Yt(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){Me=Yt(u.nextSibling),r=u.data==="F!";break e}}Qn(r)}r=!1}r&&(n=s[0])}}return s=ft(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:n},s.queue=r,s=Km.bind(null,ne,r),r.dispatch=s,r=lc(!1),c=dc.bind(null,ne,!1,r.queue),r=ft(),u={state:n,dispatch:null,action:e,pending:null},r.queue=u,s=YS.bind(null,ne,u,c,s),u.dispatch=s,r.memoizedState=e,[n,s,!1]}function Mm(e){var n=Be();return xm(n,be,e)}function xm(e,n,s){if(n=sc(e,n,Om)[0],e=Er(En)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=ja(n)}catch(d){throw d===Rs?fr:d}else r=n;n=Be();var u=n.queue,c=u.dispatch;return s!==n.memoizedState&&(ne.flags|=2048,Is(9,{destroy:void 0},FS.bind(null,u,s),null)),[r,c,e]}function FS(e,n){e.action=n}function Im(e){var n=Be(),s=be;if(s!==null)return xm(n,s,e);Be(),n=n.memoizedState,s=Be();var r=s.queue.dispatch;return s.memoizedState=e,[n,r,!1]}function Is(e,n,s,r){return e={tag:e,create:s,deps:r,inst:n,next:null},n=ne.updateQueue,n===null&&(n=vr(),ne.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,n.lastEffect=e),e}function Um(){return Be().memoizedState}function br(e,n,s,r){var u=ft();ne.flags|=e,u.memoizedState=Is(1|n,{destroy:void 0},s,r===void 0?null:r)}function Tr(e,n,s,r){var u=Be();r=r===void 0?null:r;var c=u.memoizedState.inst;be!==null&&r!==null&&Ju(r,be.memoizedState.deps)?u.memoizedState=Is(n,c,s,r):(ne.flags|=e,u.memoizedState=Is(1|n,c,s,r))}function Lm(e,n){br(8390656,8,e,n)}function oc(e,n){Tr(2048,8,e,n)}function QS(e){ne.flags|=4;var n=ne.updateQueue;if(n===null)n=vr(),ne.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function km(e){var n=Be().memoizedState;return QS({ref:n,nextImpl:e}),function(){if((ge&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function zm(e,n){return Tr(4,2,e,n)}function jm(e,n){return Tr(4,4,e,n)}function Hm(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bm(e,n,s){s=s!=null?s.concat([e]):null,Tr(4,4,Hm.bind(null,n,e),s)}function uc(){}function qm(e,n){var s=Be();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&Ju(n,r[1])?r[0]:(s.memoizedState=[e,n],e)}function Vm(e,n){var s=Be();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&Ju(n,r[1]))return r[0];if(r=e(),Yi){Vn(!0);try{e()}finally{Vn(!1)}}return s.memoizedState=[r,n],r}function cc(e,n,s){return s===void 0||(Sn&1073741824)!==0&&(ue&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Gp(),ne.lanes|=e,ni|=e,s)}function Gm(e,n,s,r){return Ot(s,n)?s:Ds.current!==null?(e=cc(e,s,r),Ot(e,n)||(Ye=!0),e):(Sn&42)===0||(Sn&1073741824)!==0&&(ue&261930)===0?(Ye=!0,e.memoizedState=s):(e=Gp(),ne.lanes|=e,ni|=e,n)}function Pm(e,n,s,r,u){var c=B.p;B.p=c!==0&&8>c?c:8;var d=x.T,_={};x.T=_,dc(e,!1,n,s);try{var v=u(),w=x.S;if(w!==null&&w(_,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var M=VS(v,r);Ha(e,n,M,Lt(e))}else Ha(e,n,r,Lt(e))}catch(k){Ha(e,n,{then:function(){},status:"rejected",reason:k},Lt())}finally{B.p=c,d!==null&&_.types!==null&&(d.types=_.types),x.T=d}}function XS(){}function fc(e,n,s,r){if(e.tag!==5)throw Error(l(476));var u=Ym(e).queue;Pm(e,u,n,X,s===null?XS:function(){return Fm(e),s(r)})}function Ym(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:X},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fm(e){var n=Ym(e);n.next===null&&(n=e.alternate.memoizedState),Ha(e,n.next.queue,{},Lt())}function hc(){return st(nl)}function Qm(){return Be().memoizedState}function Xm(){return Be().memoizedState}function KS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Lt();e=Zn(s);var r=Wn(n,e,s);r!==null&&(Et(r,n,s),Ua(r,n,s)),n={cache:qu()},e.payload=n;return}n=n.return}}function ZS(e,n,s){var r=Lt();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Cr(e)?Zm(n,s):(s=Du(e,n,s,r),s!==null&&(Et(s,e,r),Wm(s,n,r)))}function Km(e,n,s){var r=Lt();Ha(e,n,s,r)}function Ha(e,n,s,r){var u={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Cr(e))Zm(n,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=n.lastRenderedReducer,c!==null))try{var d=n.lastRenderedState,_=c(d,s);if(u.hasEagerState=!0,u.eagerState=_,Ot(_,d))return sr(e,n,u,0),we===null&&ir(),!1}catch{}if(s=Du(e,n,u,r),s!==null)return Et(s,e,r),Wm(s,n,r),!0}return!1}function dc(e,n,s,r){if(r={lane:2,revertLane:Yc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Cr(e)){if(n)throw Error(l(479))}else n=Du(e,s,r,2),n!==null&&Et(n,e,2)}function Cr(e){var n=e.alternate;return e===ne||n!==null&&n===ne}function Zm(e,n){Ms=_r=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Wm(e,n,s){if((s&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,nd(e,s)}}var Ba={readContext:st,use:Sr,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};Ba.useEffectEvent=Le;var Jm={readContext:st,use:Sr,useCallback:function(e,n){return ft().memoizedState=[e,n===void 0?null:n],e},useContext:st,useEffect:Lm,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,br(4194308,4,Hm.bind(null,n,e),s)},useLayoutEffect:function(e,n){return br(4194308,4,e,n)},useInsertionEffect:function(e,n){br(4,2,e,n)},useMemo:function(e,n){var s=ft();n=n===void 0?null:n;var r=e();if(Yi){Vn(!0);try{e()}finally{Vn(!1)}}return s.memoizedState=[r,n],r},useReducer:function(e,n,s){var r=ft();if(s!==void 0){var u=s(n);if(Yi){Vn(!0);try{s(n)}finally{Vn(!1)}}}else u=n;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=ZS.bind(null,ne,e),[r.memoizedState,e]},useRef:function(e){var n=ft();return e={current:e},n.memoizedState=e},useState:function(e){e=lc(e);var n=e.queue,s=Km.bind(null,ne,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:uc,useDeferredValue:function(e,n){var s=ft();return cc(s,e,n)},useTransition:function(){var e=lc(!1);return e=Pm.bind(null,ne,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var r=ne,u=ft();if(he){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),we===null)throw Error(l(349));(ue&127)!==0||vm(r,n,s)}u.memoizedState=s;var c={value:s,getSnapshot:n};return u.queue=c,Lm(Em.bind(null,r,c,e),[e]),r.flags|=2048,Is(9,{destroy:void 0},Sm.bind(null,r,c,s,n),null),s},useId:function(){var e=ft(),n=we.identifierPrefix;if(he){var s=ln,r=an;s=(r&~(1<<32-Rt(r)-1)).toString(32)+s,n="_"+n+"R_"+s,s=yr++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=GS++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:hc,useFormState:Dm,useActionState:Dm,useOptimistic:function(e){var n=ft();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=dc.bind(null,ne,!0,s),s.dispatch=n,[e,n]},useMemoCache:ic,useCacheRefresh:function(){return ft().memoizedState=KS.bind(null,ne)},useEffectEvent:function(e){var n=ft(),s={impl:e};return n.memoizedState=s,function(){if((ge&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},mc={readContext:st,use:Sr,useCallback:qm,useContext:st,useEffect:oc,useImperativeHandle:Bm,useInsertionEffect:zm,useLayoutEffect:jm,useMemo:Vm,useReducer:Er,useRef:Um,useState:function(){return Er(En)},useDebugValue:uc,useDeferredValue:function(e,n){var s=Be();return Gm(s,be.memoizedState,e,n)},useTransition:function(){var e=Er(En)[0],n=Be().memoizedState;return[typeof e=="boolean"?e:ja(e),n]},useSyncExternalStore:ym,useId:Qm,useHostTransitionStatus:hc,useFormState:Mm,useActionState:Mm,useOptimistic:function(e,n){var s=Be();return Cm(s,be,e,n)},useMemoCache:ic,useCacheRefresh:Xm};mc.useEffectEvent=km;var $m={readContext:st,use:Sr,useCallback:qm,useContext:st,useEffect:oc,useImperativeHandle:Bm,useInsertionEffect:zm,useLayoutEffect:jm,useMemo:Vm,useReducer:ac,useRef:Um,useState:function(){return ac(En)},useDebugValue:uc,useDeferredValue:function(e,n){var s=Be();return be===null?cc(s,e,n):Gm(s,be.memoizedState,e,n)},useTransition:function(){var e=ac(En)[0],n=Be().memoizedState;return[typeof e=="boolean"?e:ja(e),n]},useSyncExternalStore:ym,useId:Qm,useHostTransitionStatus:hc,useFormState:Im,useActionState:Im,useOptimistic:function(e,n){var s=Be();return be!==null?Cm(s,be,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ic,useCacheRefresh:Xm};$m.useEffectEvent=km;function pc(e,n,s,r){n=e.memoizedState,s=s(r,n),s=s==null?n:y({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var gc={enqueueSetState:function(e,n,s){e=e._reactInternals;var r=Lt(),u=Zn(r);u.payload=n,s!=null&&(u.callback=s),n=Wn(e,u,r),n!==null&&(Et(n,e,r),Ua(n,e,r))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var r=Lt(),u=Zn(r);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=Wn(e,u,r),n!==null&&(Et(n,e,r),Ua(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Lt(),r=Zn(s);r.tag=2,n!=null&&(r.callback=n),n=Wn(e,r,s),n!==null&&(Et(n,e,s),Ua(n,e,s))}};function ep(e,n,s,r,u,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,d):n.prototype&&n.prototype.isPureReactComponent?!Na(s,r)||!Na(u,c):!0}function tp(e,n,s,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==e&&gc.enqueueReplaceState(n,n.state,null)}function Fi(e,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(e=e.defaultProps){s===n&&(s=y({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}function np(e){nr(e)}function ip(e){console.error(e)}function sp(e){nr(e)}function Ar(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function ap(e,n,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function _c(e,n,s){return s=Zn(s),s.tag=3,s.payload={element:null},s.callback=function(){Ar(e,n)},s}function lp(e){return e=Zn(e),e.tag=3,e}function rp(e,n,s,r){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var c=r.value;e.payload=function(){return u(c)},e.callback=function(){ap(n,s,r)}}var d=s.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){ap(n,s,r),typeof u!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function WS(e,n,s,r,u){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&As(n,s,u,!0),s=Mt.current,s!==null){switch(s.tag){case 31:case 13:return Pt===null?zr():s.alternate===null&&ke===0&&(ke=3),s.flags&=-257,s.flags|=65536,s.lanes=u,r===hr?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),Vc(e,r,u)),!1;case 22:return s.flags|=65536,r===hr?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),Vc(e,r,u)),!1}throw Error(l(435,s.tag))}return Vc(e,r,u),zr(),!1}if(he)return n=Mt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,r!==ku&&(e=Error(l(422),{cause:r}),Oa(Bt(e,s)))):(r!==ku&&(n=Error(l(423),{cause:r}),Oa(Bt(n,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=Bt(r,s),u=_c(e.stateNode,r,u),Qu(e,u),ke!==4&&(ke=2)),!1;var c=Error(l(520),{cause:r});if(c=Bt(c,s),Xa===null?Xa=[c]:Xa.push(c),ke!==4&&(ke=2),n===null)return!0;r=Bt(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=_c(s.stateNode,r,e),Qu(s,e),!1;case 1:if(n=s.type,c=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ii===null||!ii.has(c))))return s.flags|=65536,u&=-u,s.lanes|=u,u=lp(u),rp(u,e,s,r),Qu(s,u),!1}s=s.return}while(s!==null);return!1}var yc=Error(l(461)),Ye=!1;function at(e,n,s,r){n.child=e===null?fm(n,null,s,r):Pi(n,e.child,s,r)}function op(e,n,s,r,u){s=s.render;var c=n.ref;if("ref"in r){var d={};for(var _ in r)_!=="ref"&&(d[_]=r[_])}else d=r;return Bi(n),r=$u(e,n,s,d,c,u),_=ec(),e!==null&&!Ye?(tc(e,n,u),bn(e,n,u)):(he&&_&&Uu(n),n.flags|=1,at(e,n,r,u),n.child)}function up(e,n,s,r,u){if(e===null){var c=s.type;return typeof c=="function"&&!Mu(c)&&c.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=c,cp(e,n,c,r,u)):(e=lr(s.type,null,r,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(c=e.child,!Nc(e,u)){var d=c.memoizedProps;if(s=s.compare,s=s!==null?s:Na,s(d,r)&&e.ref===n.ref)return bn(e,n,u)}return n.flags|=1,e=gn(c,r),e.ref=n.ref,e.return=n,n.child=e}function cp(e,n,s,r,u){if(e!==null){var c=e.memoizedProps;if(Na(c,r)&&e.ref===n.ref)if(Ye=!1,n.pendingProps=r=c,Nc(e,u))(e.flags&131072)!==0&&(Ye=!0);else return n.lanes=e.lanes,bn(e,n,u)}return vc(e,n,s,r,u)}function fp(e,n,s,r){var u=r.children,c=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(c=c!==null?c.baseLanes|s:s,e!==null){for(r=n.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~c}else r=0,n.child=null;return hp(e,n,c,s,r)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&cr(n,c!==null?c.cachePool:null),c!==null?mm(n,c):Ku(),pm(n);else return r=n.lanes=536870912,hp(e,n,c!==null?c.baseLanes|s:s,s,r)}else c!==null?(cr(n,c.cachePool),mm(n,c),$n(),n.memoizedState=null):(e!==null&&cr(n,null),Ku(),$n());return at(e,n,u,s),n.child}function qa(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hp(e,n,s,r,u){var c=Gu();return c=c===null?null:{parent:Ge._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},e!==null&&cr(n,null),Ku(),pm(n),e!==null&&As(e,n,r,!0),n.childLanes=u,null}function Nr(e,n){return n=Rr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function dp(e,n,s){return Pi(n,e.child,null,s),e=Nr(n,n.pendingProps),e.flags|=2,xt(n),n.memoizedState=null,e}function JS(e,n,s){var r=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(he){if(r.mode==="hidden")return e=Nr(n,r),n.lanes=536870912,qa(null,e);if(Wu(n),(e=Me)?(e=Ag(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:an,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},s=Zd(e),s.return=n,n.child=s,it=n,Me=null)):e=null,e===null)throw Qn(n);return n.lanes=536870912,null}return Nr(n,r)}var c=e.memoizedState;if(c!==null){var d=c.dehydrated;if(Wu(n),u)if(n.flags&256)n.flags&=-257,n=dp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(Ye||As(e,n,s,!1),u=(s&e.childLanes)!==0,Ye||u){if(r=we,r!==null&&(d=id(r,s),d!==0&&d!==c.retryLane))throw c.retryLane=d,ki(e,d),Et(r,e,d),yc;zr(),n=dp(e,n,s)}else e=c.treeContext,Me=Yt(d.nextSibling),it=n,he=!0,Fn=null,Gt=!1,e!==null&&$d(n,e),n=Nr(n,r),n.flags|=4096;return n}return e=gn(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function wr(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function vc(e,n,s,r,u){return Bi(n),s=$u(e,n,s,r,void 0,u),r=ec(),e!==null&&!Ye?(tc(e,n,u),bn(e,n,u)):(he&&r&&Uu(n),n.flags|=1,at(e,n,s,u),n.child)}function mp(e,n,s,r,u,c){return Bi(n),n.updateQueue=null,s=_m(n,r,s,u),gm(e),r=ec(),e!==null&&!Ye?(tc(e,n,c),bn(e,n,c)):(he&&r&&Uu(n),n.flags|=1,at(e,n,s,c),n.child)}function pp(e,n,s,r,u){if(Bi(n),n.stateNode===null){var c=Es,d=s.contextType;typeof d=="object"&&d!==null&&(c=st(d)),c=new s(r,c),n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=gc,n.stateNode=c,c._reactInternals=n,c=n.stateNode,c.props=r,c.state=n.memoizedState,c.refs={},Yu(n),d=s.contextType,c.context=typeof d=="object"&&d!==null?st(d):Es,c.state=n.memoizedState,d=s.getDerivedStateFromProps,typeof d=="function"&&(pc(n,s,d,r),c.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&gc.enqueueReplaceState(c,c.state,null),ka(n,r,c,u),La(),c.state=n.memoizedState),typeof c.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){c=n.stateNode;var _=n.memoizedProps,v=Fi(s,_);c.props=v;var w=c.context,M=s.contextType;d=Es,typeof M=="object"&&M!==null&&(d=st(M));var k=s.getDerivedStateFromProps;M=typeof k=="function"||typeof c.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,M||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(_||w!==d)&&tp(n,c,r,d),Kn=!1;var R=n.memoizedState;c.state=R,ka(n,r,c,u),La(),w=n.memoizedState,_||R!==w||Kn?(typeof k=="function"&&(pc(n,s,k,r),w=n.memoizedState),(v=Kn||ep(n,s,v,r,R,w,d))?(M||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(n.flags|=4194308)):(typeof c.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=w),c.props=r,c.state=w,c.context=d,r=v):(typeof c.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{c=n.stateNode,Fu(e,n),d=n.memoizedProps,M=Fi(s,d),c.props=M,k=n.pendingProps,R=c.context,w=s.contextType,v=Es,typeof w=="object"&&w!==null&&(v=st(w)),_=s.getDerivedStateFromProps,(w=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==k||R!==v)&&tp(n,c,r,v),Kn=!1,R=n.memoizedState,c.state=R,ka(n,r,c,u),La();var O=n.memoizedState;d!==k||R!==O||Kn||e!==null&&e.dependencies!==null&&or(e.dependencies)?(typeof _=="function"&&(pc(n,s,_,r),O=n.memoizedState),(M=Kn||ep(n,s,M,r,R,O,v)||e!==null&&e.dependencies!==null&&or(e.dependencies))?(w||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,O,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,O,v)),typeof c.componentDidUpdate=="function"&&(n.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=O),c.props=r,c.state=O,c.context=v,r=M):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),r=!1)}return c=r,wr(e,n),r=(n.flags&128)!==0,c||r?(c=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:c.render(),n.flags|=1,e!==null&&r?(n.child=Pi(n,e.child,null,u),n.child=Pi(n,null,s,u)):at(e,n,s,u),n.memoizedState=c.state,e=n.child):e=bn(e,n,u),e}function gp(e,n,s,r){return ji(),n.flags|=256,at(e,n,s,r),n.child}var Sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ec(e){return{baseLanes:e,cachePool:am()}}function bc(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Ut),e}function _p(e,n,s){var r=n.pendingProps,u=!1,c=(n.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(He.current&2)!==0),d&&(u=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,e===null){if(he){if(u?Jn(n):$n(),(e=Me)?(e=Ag(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:an,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},s=Zd(e),s.return=n,n.child=s,it=n,Me=null)):e=null,e===null)throw Qn(n);return af(e)?n.lanes=32:n.lanes=536870912,null}var _=r.children;return r=r.fallback,u?($n(),u=n.mode,_=Rr({mode:"hidden",children:_},u),r=zi(r,u,s,null),_.return=n,r.return=n,_.sibling=r,n.child=_,r=n.child,r.memoizedState=Ec(s),r.childLanes=bc(e,d,s),n.memoizedState=Sc,qa(null,r)):(Jn(n),Tc(n,_))}var v=e.memoizedState;if(v!==null&&(_=v.dehydrated,_!==null)){if(c)n.flags&256?(Jn(n),n.flags&=-257,n=Cc(e,n,s)):n.memoizedState!==null?($n(),n.child=e.child,n.flags|=128,n=null):($n(),_=r.fallback,u=n.mode,r=Rr({mode:"visible",children:r.children},u),_=zi(_,u,s,null),_.flags|=2,r.return=n,_.return=n,r.sibling=_,n.child=r,Pi(n,e.child,null,s),r=n.child,r.memoizedState=Ec(s),r.childLanes=bc(e,d,s),n.memoizedState=Sc,n=qa(null,r));else if(Jn(n),af(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var w=d.dgst;d=w,r=Error(l(419)),r.stack="",r.digest=d,Oa({value:r,source:null,stack:null}),n=Cc(e,n,s)}else if(Ye||As(e,n,s,!1),d=(s&e.childLanes)!==0,Ye||d){if(d=we,d!==null&&(r=id(d,s),r!==0&&r!==v.retryLane))throw v.retryLane=r,ki(e,r),Et(d,e,r),yc;sf(_)||zr(),n=Cc(e,n,s)}else sf(_)?(n.flags|=192,n.child=e.child,n=null):(e=v.treeContext,Me=Yt(_.nextSibling),it=n,he=!0,Fn=null,Gt=!1,e!==null&&$d(n,e),n=Tc(n,r.children),n.flags|=4096);return n}return u?($n(),_=r.fallback,u=n.mode,v=e.child,w=v.sibling,r=gn(v,{mode:"hidden",children:r.children}),r.subtreeFlags=v.subtreeFlags&65011712,w!==null?_=gn(w,_):(_=zi(_,u,s,null),_.flags|=2),_.return=n,r.return=n,r.sibling=_,n.child=r,qa(null,r),r=n.child,_=e.child.memoizedState,_===null?_=Ec(s):(u=_.cachePool,u!==null?(v=Ge._currentValue,u=u.parent!==v?{parent:v,pool:v}:u):u=am(),_={baseLanes:_.baseLanes|s,cachePool:u}),r.memoizedState=_,r.childLanes=bc(e,d,s),n.memoizedState=Sc,qa(e.child,r)):(Jn(n),s=e.child,e=s.sibling,s=gn(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,e!==null&&(d=n.deletions,d===null?(n.deletions=[e],n.flags|=16):d.push(e)),n.child=s,n.memoizedState=null,s)}function Tc(e,n){return n=Rr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Rr(e,n){return e=Dt(22,e,null,n),e.lanes=0,e}function Cc(e,n,s){return Pi(n,e.child,null,s),e=Tc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function yp(e,n,s){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),Hu(e.return,n,s)}function Ac(e,n,s,r,u,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:u,treeForkCount:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=s,d.tailMode=u,d.treeForkCount=c)}function vp(e,n,s){var r=n.pendingProps,u=r.revealOrder,c=r.tail;r=r.children;var d=He.current,_=(d&2)!==0;if(_?(d=d&1|2,n.flags|=128):d&=1,j(He,d),at(e,n,r,s),r=he?Ra:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yp(e,s,n);else if(e.tag===19)yp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&gr(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),Ac(n,!1,u,s,c,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&gr(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}Ac(n,!0,s,null,c,r);break;case"together":Ac(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function bn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ni|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(As(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=gn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=gn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Nc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&or(e)))}function $S(e,n,s){switch(n.tag){case 3:ct(n,n.stateNode.containerInfo),Xn(n,Ge,e.memoizedState.cache),ji();break;case 27:case 5:da(n);break;case 4:ct(n,n.stateNode.containerInfo);break;case 10:Xn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wu(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(Jn(n),n.flags|=128,null):(s&n.child.childLanes)!==0?_p(e,n,s):(Jn(n),e=bn(e,n,s),e!==null?e.sibling:null);Jn(n);break;case 19:var u=(e.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(As(e,n,s,!1),r=(s&n.childLanes)!==0),u){if(r)return vp(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),j(He,He.current),r)break;return null;case 22:return n.lanes=0,fp(e,n,s,n.pendingProps);case 24:Xn(n,Ge,e.memoizedState.cache)}return bn(e,n,s)}function Sp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ye=!0;else{if(!Nc(e,s)&&(n.flags&128)===0)return Ye=!1,$S(e,n,s);Ye=(e.flags&131072)!==0}else Ye=!1,he&&(n.flags&1048576)!==0&&Jd(n,Ra,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Vi(n.elementType),n.type=e,typeof e=="function")Mu(e)?(r=Fi(e,r),n.tag=1,n=pp(null,n,e,r,s)):(n.tag=0,n=vc(null,n,e,r,s));else{if(e!=null){var u=e.$$typeof;if(u===Ne){n.tag=11,n=op(null,n,e,r,s);break e}else if(u===ee){n.tag=14,n=up(null,n,e,r,s);break e}}throw n=Xt(e)||e,Error(l(306,n,""))}}return n;case 0:return vc(e,n,n.type,n.pendingProps,s);case 1:return r=n.type,u=Fi(r,n.pendingProps),pp(e,n,r,u,s);case 3:e:{if(ct(n,n.stateNode.containerInfo),e===null)throw Error(l(387));r=n.pendingProps;var c=n.memoizedState;u=c.element,Fu(e,n),ka(n,r,null,s);var d=n.memoizedState;if(r=d.cache,Xn(n,Ge,r),r!==c.cache&&Bu(n,[Ge],s,!0),La(),r=d.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=gp(e,n,r,s);break e}else if(r!==u){u=Bt(Error(l(424)),n),Oa(u),n=gp(e,n,r,s);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Me=Yt(e.firstChild),it=n,he=!0,Fn=null,Gt=!0,s=fm(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ji(),r===u){n=bn(e,n,s);break e}at(e,n,r,s)}n=n.child}return n;case 26:return wr(e,n),e===null?(s=Mg(n.type,null,n.pendingProps,null))?n.memoizedState=s:he||(s=n.type,e=n.pendingProps,r=Pr(ae.current).createElement(s),r[nt]=n,r[pt]=e,lt(r,s,e),We(r),n.stateNode=r):n.memoizedState=Mg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return da(n),e===null&&he&&(r=n.stateNode=Rg(n.type,n.pendingProps,ae.current),it=n,Gt=!0,u=Me,ri(n.type)?(lf=u,Me=Yt(r.firstChild)):Me=u),at(e,n,n.pendingProps.children,s),wr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&he&&((u=r=Me)&&(r=OE(r,n.type,n.pendingProps,Gt),r!==null?(n.stateNode=r,it=n,Me=Yt(r.firstChild),Gt=!1,u=!0):u=!1),u||Qn(n)),da(n),u=n.type,c=n.pendingProps,d=e!==null?e.memoizedProps:null,r=c.children,ef(u,c)?r=null:d!==null&&ef(u,d)&&(n.flags|=32),n.memoizedState!==null&&(u=$u(e,n,PS,null,null,s),nl._currentValue=u),wr(e,n),at(e,n,r,s),n.child;case 6:return e===null&&he&&((e=s=Me)&&(s=DE(s,n.pendingProps,Gt),s!==null?(n.stateNode=s,it=n,Me=null,e=!0):e=!1),e||Qn(n)),null;case 13:return _p(e,n,s);case 4:return ct(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Pi(n,null,r,s):at(e,n,r,s),n.child;case 11:return op(e,n,n.type,n.pendingProps,s);case 7:return at(e,n,n.pendingProps,s),n.child;case 8:return at(e,n,n.pendingProps.children,s),n.child;case 12:return at(e,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,Xn(n,n.type,r.value),at(e,n,r.children,s),n.child;case 9:return u=n.type._context,r=n.pendingProps.children,Bi(n),u=st(u),r=r(u),n.flags|=1,at(e,n,r,s),n.child;case 14:return up(e,n,n.type,n.pendingProps,s);case 15:return cp(e,n,n.type,n.pendingProps,s);case 19:return vp(e,n,s);case 31:return JS(e,n,s);case 22:return fp(e,n,s,n.pendingProps);case 24:return Bi(n),r=st(Ge),e===null?(u=Gu(),u===null&&(u=we,c=qu(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=s),u=c),n.memoizedState={parent:r,cache:u},Yu(n),Xn(n,Ge,u)):((e.lanes&s)!==0&&(Fu(e,n),ka(n,null,null,s),La()),u=e.memoizedState,c=n.memoizedState,u.parent!==r?(u={parent:r,cache:r},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Xn(n,Ge,r)):(r=c.cache,Xn(n,Ge,r),r!==u.cache&&Bu(n,[Ge],s,!0))),at(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Tn(e){e.flags|=4}function wc(e,n,s,r,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Qp())e.flags|=8192;else throw Gi=hr,Pu}else e.flags&=-16777217}function Ep(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kg(n))if(Qp())e.flags|=8192;else throw Gi=hr,Pu}function Or(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ed():536870912,e.lanes|=n,zs|=n)}function Va(e,n){if(!he)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=s,n}function eE(e,n,s){var r=n.pendingProps;switch(Lu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(n),null;case 1:return xe(n),null;case 3:return s=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),vn(Ge),je(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Cs(n)?Tn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zu())),xe(n),null;case 26:var u=n.type,c=n.memoizedState;return e===null?(Tn(n),c!==null?(xe(n),Ep(n,c)):(xe(n),wc(n,u,null,r,s))):c?c!==e.memoizedState?(Tn(n),xe(n),Ep(n,c)):(xe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&Tn(n),xe(n),wc(n,u,e,r,s)),null;case 27:if(Bl(n),s=ae.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Tn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return xe(n),null}e=V.current,Cs(n)?em(n):(e=Rg(u,r,s),n.stateNode=e,Tn(n))}return xe(n),null;case 5:if(Bl(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Tn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return xe(n),null}if(c=V.current,Cs(n))em(n);else{var d=Pr(ae.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?c.multiple=!0:r.size&&(c.size=r.size);break;default:c=typeof r.is=="string"?d.createElement(u,{is:r.is}):d.createElement(u)}}c[nt]=n,c[pt]=r;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=c;e:switch(lt(c,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Tn(n)}}return xe(n),wc(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&Tn(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(e=ae.current,Cs(n)){if(e=n.stateNode,s=n.memoizedProps,r=null,u=it,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[nt]=n,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||_g(e.nodeValue,s)),e||Qn(n,!0)}else e=Pr(e).createTextNode(r),e[nt]=n,n.stateNode=e}return xe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(r=Cs(n),s!==null){if(e===null){if(!r)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[nt]=n}else ji(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xe(n),e=!1}else s=zu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(xt(n),n):(xt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return xe(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Cs(n),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[nt]=n}else ji(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xe(n),u=!1}else u=zu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(xt(n),n):(xt(n),null)}return xt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=n.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==u&&(r.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Or(n,n.updateQueue),xe(n),null);case 4:return je(),e===null&&Kc(n.stateNode.containerInfo),xe(n),null;case 10:return vn(n.type),xe(n),null;case 19:if(D(He),r=n.memoizedState,r===null)return xe(n),null;if(u=(n.flags&128)!==0,c=r.rendering,c===null)if(u)Va(r,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(c=gr(e),c!==null){for(n.flags|=128,Va(r,!1),e=c.updateQueue,n.updateQueue=e,Or(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Kd(s,e),s=s.sibling;return j(He,He.current&1|2),he&&_n(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&Nt()>Ur&&(n.flags|=128,u=!0,Va(r,!1),n.lanes=4194304)}else{if(!u)if(e=gr(c),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Or(n,e),Va(r,!0),r.tail===null&&r.tailMode==="hidden"&&!c.alternate&&!he)return xe(n),null}else 2*Nt()-r.renderingStartTime>Ur&&s!==536870912&&(n.flags|=128,u=!0,Va(r,!1),n.lanes=4194304);r.isBackwards?(c.sibling=n.child,n.child=c):(e=r.last,e!==null?e.sibling=c:n.child=c,r.last=c)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Nt(),e.sibling=null,s=He.current,j(He,u?s&1|2:s&1),he&&_n(n,r.treeForkCount),e):(xe(n),null);case 22:case 23:return xt(n),Zu(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(xe(n),n.subtreeFlags&6&&(n.flags|=8192)):xe(n),s=n.updateQueue,s!==null&&Or(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),e!==null&&D(qi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),vn(Ge),xe(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function tE(e,n){switch(Lu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return vn(Ge),je(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Bl(n),null;case 31:if(n.memoizedState!==null){if(xt(n),n.alternate===null)throw Error(l(340));ji()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));ji()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return D(He),null;case 4:return je(),null;case 10:return vn(n.type),null;case 22:case 23:return xt(n),Zu(),e!==null&&D(qi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return vn(Ge),null;case 25:return null;default:return null}}function bp(e,n){switch(Lu(n),n.tag){case 3:vn(Ge),je();break;case 26:case 27:case 5:Bl(n);break;case 4:je();break;case 31:n.memoizedState!==null&&xt(n);break;case 13:xt(n);break;case 19:D(He);break;case 10:vn(n.type);break;case 22:case 23:xt(n),Zu(),e!==null&&D(qi);break;case 24:vn(Ge)}}function Ga(e,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){r=void 0;var c=s.create,d=s.inst;r=c(),d.destroy=r}s=s.next}while(s!==u)}}catch(_){Ee(n,n.return,_)}}function ei(e,n,s){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var c=u.next;r=c;do{if((r.tag&e)===e){var d=r.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,u=n;var v=s,w=_;try{w()}catch(M){Ee(u,v,M)}}}r=r.next}while(r!==c)}}catch(M){Ee(n,n.return,M)}}function Tp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{dm(n,s)}catch(r){Ee(e,e.return,r)}}}function Cp(e,n,s){s.props=Fi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){Ee(e,n,r)}}function Pa(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(u){Ee(e,n,u)}}function rn(e,n){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(u){Ee(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Ee(e,n,u)}else s.current=null}function Ap(e){var n=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(u){Ee(e,e.return,u)}}function Rc(e,n,s){try{var r=e.stateNode;TE(r,e.type,s,n),r[pt]=n}catch(u){Ee(e,e.return,u)}}function Np(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ri(e.type)||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ri(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dc(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=mn));else if(r!==4&&(r===27&&ri(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Dc(e,n,s),e=e.sibling;e!==null;)Dc(e,n,s),e=e.sibling}function Dr(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(r!==4&&(r===27&&ri(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Dr(e,n,s),e=e.sibling;e!==null;)Dr(e,n,s),e=e.sibling}function wp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);lt(n,r,s),n[nt]=e,n[pt]=s}catch(c){Ee(e,e.return,c)}}var Cn=!1,Fe=!1,Mc=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,Je=null;function nE(e,n){if(e=e.containerInfo,Jc=Wr,e=Bd(e),Cu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var u=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var d=0,_=-1,v=-1,w=0,M=0,k=e,R=null;t:for(;;){for(var O;k!==s||u!==0&&k.nodeType!==3||(_=d+u),k!==c||r!==0&&k.nodeType!==3||(v=d+r),k.nodeType===3&&(d+=k.nodeValue.length),(O=k.firstChild)!==null;)R=k,k=O;for(;;){if(k===e)break t;if(R===s&&++w===u&&(_=d),R===c&&++M===r&&(v=d),(O=k.nextSibling)!==null)break;k=R,R=k.parentNode}k=O}s=_===-1||v===-1?null:{start:_,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for($c={focusedElem:e,selectionRange:s},Wr=!1,Je=n;Je!==null;)if(n=Je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Je=e;else for(;Je!==null;){switch(n=Je,c=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)u=e[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,s=n,u=c.memoizedProps,c=c.memoizedState,r=s.stateNode;try{var G=Fi(s.type,u);e=r.getSnapshotBeforeUpdate(G,c),r.__reactInternalSnapshotBeforeUpdate=e}catch(Q){Ee(s,s.return,Q)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)nf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,Je=e;break}Je=n.return}}function Op(e,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Nn(e,s),r&4&&Ga(5,s);break;case 1:if(Nn(e,s),r&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(d){Ee(s,s.return,d)}else{var u=Fi(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ee(s,s.return,d)}}r&64&&Tp(s),r&512&&Pa(s,s.return);break;case 3:if(Nn(e,s),r&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{dm(e,n)}catch(d){Ee(s,s.return,d)}}break;case 27:n===null&&r&4&&wp(s);case 26:case 5:Nn(e,s),n===null&&r&4&&Ap(s),r&512&&Pa(s,s.return);break;case 12:Nn(e,s);break;case 31:Nn(e,s),r&4&&xp(e,s);break;case 13:Nn(e,s),r&4&&Ip(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=fE.bind(null,s),ME(e,s))));break;case 22:if(r=s.memoizedState!==null||Cn,!r){n=n!==null&&n.memoizedState!==null||Fe,u=Cn;var c=Fe;Cn=r,(Fe=n)&&!c?wn(e,s,(s.subtreeFlags&8772)!==0):Nn(e,s),Cn=u,Fe=c}break;case 30:break;default:Nn(e,s)}}function Dp(e){var n=e.alternate;n!==null&&(e.alternate=null,Dp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ru(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,_t=!1;function An(e,n,s){for(s=s.child;s!==null;)Mp(e,n,s),s=s.sibling}function Mp(e,n,s){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(ma,s)}catch{}switch(s.tag){case 26:Fe||rn(s,n),An(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Fe||rn(s,n);var r=Ue,u=_t;ri(s.type)&&(Ue=s.stateNode,_t=!1),An(e,n,s),$a(s.stateNode),Ue=r,_t=u;break;case 5:Fe||rn(s,n);case 6:if(r=Ue,u=_t,Ue=null,An(e,n,s),Ue=r,_t=u,Ue!==null)if(_t)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(s.stateNode)}catch(c){Ee(s,n,c)}else try{Ue.removeChild(s.stateNode)}catch(c){Ee(s,n,c)}break;case 18:Ue!==null&&(_t?(e=Ue,Tg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ys(e)):Tg(Ue,s.stateNode));break;case 4:r=Ue,u=_t,Ue=s.stateNode.containerInfo,_t=!0,An(e,n,s),Ue=r,_t=u;break;case 0:case 11:case 14:case 15:ei(2,s,n),Fe||ei(4,s,n),An(e,n,s);break;case 1:Fe||(rn(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Cp(s,n,r)),An(e,n,s);break;case 21:An(e,n,s);break;case 22:Fe=(r=Fe)||s.memoizedState!==null,An(e,n,s),Fe=r;break;default:An(e,n,s)}}function xp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ys(e)}catch(s){Ee(n,n.return,s)}}}function Ip(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ys(e)}catch(s){Ee(n,n.return,s)}}function iE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Rp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Rp),n;default:throw Error(l(435,e.tag))}}function Mr(e,n){var s=iE(e);n.forEach(function(r){if(!s.has(r)){s.add(r);var u=hE.bind(null,e,r);r.then(u,u)}})}function yt(e,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var u=s[r],c=e,d=n,_=d;e:for(;_!==null;){switch(_.tag){case 27:if(ri(_.type)){Ue=_.stateNode,_t=!1;break e}break;case 5:Ue=_.stateNode,_t=!1;break e;case 3:case 4:Ue=_.stateNode.containerInfo,_t=!0;break e}_=_.return}if(Ue===null)throw Error(l(160));Mp(c,d,u),Ue=null,_t=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Up(n,e),n=n.sibling}var Zt=null;function Up(e,n){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(n,e),vt(e),r&4&&(ei(3,e,e.return),Ga(3,e),ei(5,e,e.return));break;case 1:yt(n,e),vt(e),r&512&&(Fe||s===null||rn(s,s.return)),r&64&&Cn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var u=Zt;if(yt(n,e),vt(e),r&512&&(Fe||s===null||rn(s,s.return)),r&4){var c=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":c=u.getElementsByTagName("title")[0],(!c||c[_a]||c[nt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(r),u.head.insertBefore(c,u.querySelector("head > title"))),lt(c,r,s),c[nt]=e,We(c),r=c;break e;case"link":var d=Ug("link","href",u).get(r+(s.href||""));if(d){for(var _=0;_<d.length;_++)if(c=d[_],c.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&c.getAttribute("rel")===(s.rel==null?null:s.rel)&&c.getAttribute("title")===(s.title==null?null:s.title)&&c.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){d.splice(_,1);break t}}c=u.createElement(r),lt(c,r,s),u.head.appendChild(c);break;case"meta":if(d=Ug("meta","content",u).get(r+(s.content||""))){for(_=0;_<d.length;_++)if(c=d[_],c.getAttribute("content")===(s.content==null?null:""+s.content)&&c.getAttribute("name")===(s.name==null?null:s.name)&&c.getAttribute("property")===(s.property==null?null:s.property)&&c.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&c.getAttribute("charset")===(s.charSet==null?null:s.charSet)){d.splice(_,1);break t}}c=u.createElement(r),lt(c,r,s),u.head.appendChild(c);break;default:throw Error(l(468,r))}c[nt]=e,We(c),r=c}e.stateNode=r}else Lg(u,e.type,e.stateNode);else e.stateNode=Ig(u,r,e.memoizedProps);else c!==r?(c===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):c.count--,r===null?Lg(u,e.type,e.stateNode):Ig(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Rc(e,e.memoizedProps,s.memoizedProps)}break;case 27:yt(n,e),vt(e),r&512&&(Fe||s===null||rn(s,s.return)),s!==null&&r&4&&Rc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(yt(n,e),vt(e),r&512&&(Fe||s===null||rn(s,s.return)),e.flags&32){u=e.stateNode;try{ms(u,"")}catch(G){Ee(e,e.return,G)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,Rc(e,u,s!==null?s.memoizedProps:u)),r&1024&&(Mc=!0);break;case 6:if(yt(n,e),vt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(G){Ee(e,e.return,G)}}break;case 3:if(Qr=null,u=Zt,Zt=Yr(n.containerInfo),yt(n,e),Zt=u,vt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Ys(n.containerInfo)}catch(G){Ee(e,e.return,G)}Mc&&(Mc=!1,Lp(e));break;case 4:r=Zt,Zt=Yr(e.stateNode.containerInfo),yt(n,e),vt(e),Zt=r;break;case 12:yt(n,e),vt(e);break;case 31:yt(n,e),vt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Mr(e,r)));break;case 13:yt(n,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ir=Nt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Mr(e,r)));break;case 22:u=e.memoizedState!==null;var v=s!==null&&s.memoizedState!==null,w=Cn,M=Fe;if(Cn=w||u,Fe=M||v,yt(n,e),Fe=M,Cn=w,vt(e),r&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||v||Cn||Fe||Qi(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){v=s=n;try{if(c=v.stateNode,u)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=v.stateNode;var k=v.memoizedProps.style,R=k!=null&&k.hasOwnProperty("display")?k.display:null;_.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(G){Ee(v,v.return,G)}}}else if(n.tag===6){if(s===null){v=n;try{v.stateNode.nodeValue=u?"":v.memoizedProps}catch(G){Ee(v,v.return,G)}}}else if(n.tag===18){if(s===null){v=n;try{var O=v.stateNode;u?Cg(O,!0):Cg(v.stateNode,!1)}catch(G){Ee(v,v.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Mr(e,s))));break;case 19:yt(n,e),vt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Mr(e,r)));break;case 30:break;case 21:break;default:yt(n,e),vt(e)}}function vt(e){var n=e.flags;if(n&2){try{for(var s,r=e.return;r!==null;){if(Np(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var u=s.stateNode,c=Oc(e);Dr(e,c,u);break;case 5:var d=s.stateNode;s.flags&32&&(ms(d,""),s.flags&=-33);var _=Oc(e);Dr(e,_,d);break;case 3:case 4:var v=s.stateNode.containerInfo,w=Oc(e);Dc(e,w,v);break;default:throw Error(l(161))}}catch(M){Ee(e,e.return,M)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Lp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Lp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Nn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Op(e,n.alternate,n),n=n.sibling}function Qi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ei(4,n,n.return),Qi(n);break;case 1:rn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Cp(n,n.return,s),Qi(n);break;case 27:$a(n.stateNode);case 26:case 5:rn(n,n.return),Qi(n);break;case 22:n.memoizedState===null&&Qi(n);break;case 30:Qi(n);break;default:Qi(n)}e=e.sibling}}function wn(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,u=e,c=n,d=c.flags;switch(c.tag){case 0:case 11:case 15:wn(u,c,s),Ga(4,c);break;case 1:if(wn(u,c,s),r=c,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(w){Ee(r,r.return,w)}if(r=c,u=r.updateQueue,u!==null){var _=r.stateNode;try{var v=u.shared.hiddenCallbacks;if(v!==null)for(u.shared.hiddenCallbacks=null,u=0;u<v.length;u++)hm(v[u],_)}catch(w){Ee(r,r.return,w)}}s&&d&64&&Tp(c),Pa(c,c.return);break;case 27:wp(c);case 26:case 5:wn(u,c,s),s&&r===null&&d&4&&Ap(c),Pa(c,c.return);break;case 12:wn(u,c,s);break;case 31:wn(u,c,s),s&&d&4&&xp(u,c);break;case 13:wn(u,c,s),s&&d&4&&Ip(u,c);break;case 22:c.memoizedState===null&&wn(u,c,s),Pa(c,c.return);break;case 30:break;default:wn(u,c,s)}n=n.sibling}}function xc(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Da(s))}function Ic(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Da(e))}function Wt(e,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kp(e,n,s,r),n=n.sibling}function kp(e,n,s,r){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Wt(e,n,s,r),u&2048&&Ga(9,n);break;case 1:Wt(e,n,s,r);break;case 3:Wt(e,n,s,r),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Da(e)));break;case 12:if(u&2048){Wt(e,n,s,r),e=n.stateNode;try{var c=n.memoizedProps,d=c.id,_=c.onPostCommit;typeof _=="function"&&_(d,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Ee(n,n.return,v)}}else Wt(e,n,s,r);break;case 31:Wt(e,n,s,r);break;case 13:Wt(e,n,s,r);break;case 23:break;case 22:c=n.stateNode,d=n.alternate,n.memoizedState!==null?c._visibility&2?Wt(e,n,s,r):Ya(e,n):c._visibility&2?Wt(e,n,s,r):(c._visibility|=2,Us(e,n,s,r,(n.subtreeFlags&10256)!==0||!1)),u&2048&&xc(d,n);break;case 24:Wt(e,n,s,r),u&2048&&Ic(n.alternate,n);break;default:Wt(e,n,s,r)}}function Us(e,n,s,r,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var c=e,d=n,_=s,v=r,w=d.flags;switch(d.tag){case 0:case 11:case 15:Us(c,d,_,v,u),Ga(8,d);break;case 23:break;case 22:var M=d.stateNode;d.memoizedState!==null?M._visibility&2?Us(c,d,_,v,u):Ya(c,d):(M._visibility|=2,Us(c,d,_,v,u)),u&&w&2048&&xc(d.alternate,d);break;case 24:Us(c,d,_,v,u),u&&w&2048&&Ic(d.alternate,d);break;default:Us(c,d,_,v,u)}n=n.sibling}}function Ya(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,r=n,u=r.flags;switch(r.tag){case 22:Ya(s,r),u&2048&&xc(r.alternate,r);break;case 24:Ya(s,r),u&2048&&Ic(r.alternate,r);break;default:Ya(s,r)}n=n.sibling}}var Fa=8192;function Ls(e,n,s){if(e.subtreeFlags&Fa)for(e=e.child;e!==null;)zp(e,n,s),e=e.sibling}function zp(e,n,s){switch(e.tag){case 26:Ls(e,n,s),e.flags&Fa&&e.memoizedState!==null&&GE(s,Zt,e.memoizedState,e.memoizedProps);break;case 5:Ls(e,n,s);break;case 3:case 4:var r=Zt;Zt=Yr(e.stateNode.containerInfo),Ls(e,n,s),Zt=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Fa,Fa=16777216,Ls(e,n,s),Fa=r):Ls(e,n,s));break;default:Ls(e,n,s)}}function jp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Qa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];Je=r,Bp(r,e)}jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hp(e),e=e.sibling}function Hp(e){switch(e.tag){case 0:case 11:case 15:Qa(e),e.flags&2048&&ei(9,e,e.return);break;case 3:Qa(e);break;case 12:Qa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,xr(e)):Qa(e);break;default:Qa(e)}}function xr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];Je=r,Bp(r,e)}jp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ei(8,n,n.return),xr(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,xr(n));break;default:xr(n)}e=e.sibling}}function Bp(e,n){for(;Je!==null;){var s=Je;switch(s.tag){case 0:case 11:case 15:ei(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Da(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,Je=r;else e:for(s=e;Je!==null;){r=Je;var u=r.sibling,c=r.return;if(Dp(r),r===s){Je=null;break e}if(u!==null){u.return=c,Je=u;break e}Je=c}}}var sE={getCacheForType:function(e){var n=st(Ge),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return st(Ge).controller.signal}},aE=typeof WeakMap=="function"?WeakMap:Map,ge=0,we=null,le=null,ue=0,Se=0,It=null,ti=!1,ks=!1,Uc=!1,Rn=0,ke=0,ni=0,Xi=0,Lc=0,Ut=0,zs=0,Xa=null,St=null,kc=!1,Ir=0,qp=0,Ur=1/0,Lr=null,ii=null,Qe=0,si=null,js=null,On=0,zc=0,jc=null,Vp=null,Ka=0,Hc=null;function Lt(){return(ge&2)!==0&&ue!==0?ue&-ue:x.T!==null?Yc():sd()}function Gp(){if(Ut===0)if((ue&536870912)===0||he){var e=Gl;Gl<<=1,(Gl&3932160)===0&&(Gl=262144),Ut=e}else Ut=536870912;return e=Mt.current,e!==null&&(e.flags|=32),Ut}function Et(e,n,s){(e===we&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(Hs(e,0),ai(e,ue,Ut,!1)),ga(e,s),((ge&2)===0||e!==we)&&(e===we&&((ge&2)===0&&(Xi|=s),ke===4&&ai(e,ue,Ut,!1)),on(e))}function Pp(e,n,s){if((ge&6)!==0)throw Error(l(327));var r=!s&&(n&127)===0&&(n&e.expiredLanes)===0||pa(e,n),u=r?oE(e,n):qc(e,n,!0),c=r;do{if(u===0){ks&&!r&&ai(e,n,0,!1);break}else{if(s=e.current.alternate,c&&!lE(s)){u=qc(e,n,!1),c=!1;continue}if(u===2){if(c=n,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var _=e;u=Xa;var v=_.current.memoizedState.isDehydrated;if(v&&(Hs(_,d).flags|=256),d=qc(_,d,!1),d!==2){if(Uc&&!v){_.errorRecoveryDisabledLanes|=c,Xi|=c,u=4;break e}c=St,St=u,c!==null&&(St===null?St=c:St.push.apply(St,c))}u=d}if(c=!1,u!==2)continue}}if(u===1){Hs(e,0),ai(e,n,0,!0);break}e:{switch(r=e,c=u,c){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:ai(r,n,Ut,!ti);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=Ir+300-Nt(),10<u)){if(ai(r,n,Ut,!ti),Yl(r,0,!0)!==0)break e;On=n,r.timeoutHandle=Eg(Yp.bind(null,r,s,St,Lr,kc,n,Ut,Xi,zs,ti,c,"Throttled",-0,0),u);break e}Yp(r,s,St,Lr,kc,n,Ut,Xi,zs,ti,c,null,-0,0)}}break}while(!0);on(e)}function Yp(e,n,s,r,u,c,d,_,v,w,M,k,R,O){if(e.timeoutHandle=-1,k=n.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},zp(n,c,k);var G=(c&62914560)===c?Ir-Nt():(c&4194048)===c?qp-Nt():0;if(G=PE(k,G),G!==null){On=c,e.cancelPendingCommit=G($p.bind(null,e,n,c,s,r,u,d,_,v,M,k,null,R,O)),ai(e,c,d,!w);return}}$p(e,n,c,s,r,u,d,_,v)}function lE(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var u=s[r],c=u.getSnapshot;u=u.value;try{if(!Ot(c(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ai(e,n,s,r){n&=~Lc,n&=~Xi,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var u=n;0<u;){var c=31-Rt(u),d=1<<c;r[c]=-1,u&=~d}s!==0&&td(e,s,n)}function kr(){return(ge&6)===0?(Za(0),!1):!0}function Bc(){if(le!==null){if(Se===0)var e=le.return;else e=le,yn=Hi=null,nc(e),Os=null,xa=0,e=le;for(;e!==null;)bp(e.alternate,e),e=e.return;le=null}}function Hs(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,NE(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),On=0,Bc(),we=e,le=s=gn(e.current,null),ue=n,Se=0,It=null,ti=!1,ks=pa(e,n),Uc=!1,zs=Ut=Lc=Xi=ni=ke=0,St=Xa=null,kc=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var u=31-Rt(r),c=1<<u;n|=e[u],r&=~c}return Rn=n,ir(),s}function Fp(e,n){ne=null,x.H=Ba,n===Rs||n===fr?(n=om(),Se=3):n===Pu?(n=om(),Se=4):Se=n===yc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,It=n,le===null&&(ke=1,Ar(e,Bt(n,e.current)))}function Qp(){var e=Mt.current;return e===null?!0:(ue&4194048)===ue?Pt===null:(ue&62914560)===ue||(ue&536870912)!==0?e===Pt:!1}function Xp(){var e=x.H;return x.H=Ba,e===null?Ba:e}function Kp(){var e=x.A;return x.A=sE,e}function zr(){ke=4,ti||(ue&4194048)!==ue&&Mt.current!==null||(ks=!0),(ni&134217727)===0&&(Xi&134217727)===0||we===null||ai(we,ue,Ut,!1)}function qc(e,n,s){var r=ge;ge|=2;var u=Xp(),c=Kp();(we!==e||ue!==n)&&(Lr=null,Hs(e,n)),n=!1;var d=ke;e:do try{if(Se!==0&&le!==null){var _=le,v=It;switch(Se){case 8:Bc(),d=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(n=!0);var w=Se;if(Se=0,It=null,Bs(e,_,v,w),s&&ks){d=0;break e}break;default:w=Se,Se=0,It=null,Bs(e,_,v,w)}}rE(),d=ke;break}catch(M){Fp(e,M)}while(!0);return n&&e.shellSuspendCounter++,yn=Hi=null,ge=r,x.H=u,x.A=c,le===null&&(we=null,ue=0,ir()),d}function rE(){for(;le!==null;)Zp(le)}function oE(e,n){var s=ge;ge|=2;var r=Xp(),u=Kp();we!==e||ue!==n?(Lr=null,Ur=Nt()+500,Hs(e,n)):ks=pa(e,n);e:do try{if(Se!==0&&le!==null){n=le;var c=It;t:switch(Se){case 1:Se=0,It=null,Bs(e,n,c,1);break;case 2:case 9:if(lm(c)){Se=0,It=null,Wp(n);break}n=function(){Se!==2&&Se!==9||we!==e||(Se=7),on(e)},c.then(n,n);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:lm(c)?(Se=0,It=null,Wp(n)):(Se=0,It=null,Bs(e,n,c,7));break;case 5:var d=null;switch(le.tag){case 26:d=le.memoizedState;case 5:case 27:var _=le;if(d?kg(d):_.stateNode.complete){Se=0,It=null;var v=_.sibling;if(v!==null)le=v;else{var w=_.return;w!==null?(le=w,jr(w)):le=null}break t}}Se=0,It=null,Bs(e,n,c,5);break;case 6:Se=0,It=null,Bs(e,n,c,6);break;case 8:Bc(),ke=6;break e;default:throw Error(l(462))}}uE();break}catch(M){Fp(e,M)}while(!0);return yn=Hi=null,x.H=r,x.A=u,ge=s,le!==null?0:(we=null,ue=0,ir(),ke)}function uE(){for(;le!==null&&!x0();)Zp(le)}function Zp(e){var n=Sp(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,n===null?jr(e):le=n}function Wp(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=mp(s,n,n.pendingProps,n.type,void 0,ue);break;case 11:n=mp(s,n,n.pendingProps,n.type.render,n.ref,ue);break;case 5:nc(n);default:bp(s,n),n=le=Kd(n,Rn),n=Sp(s,n,Rn)}e.memoizedProps=e.pendingProps,n===null?jr(e):le=n}function Bs(e,n,s,r){yn=Hi=null,nc(n),Os=null,xa=0;var u=n.return;try{if(WS(e,u,n,s,ue)){ke=1,Ar(e,Bt(s,e.current)),le=null;return}}catch(c){if(u!==null)throw le=u,c;ke=1,Ar(e,Bt(s,e.current)),le=null;return}n.flags&32768?(he||r===1?e=!0:ks||(ue&536870912)!==0?e=!1:(ti=e=!0,(r===2||r===9||r===3||r===6)&&(r=Mt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Jp(n,e)):jr(n)}function jr(e){var n=e;do{if((n.flags&32768)!==0){Jp(n,ti);return}e=n.return;var s=eE(n.alternate,n,Rn);if(s!==null){le=s;return}if(n=n.sibling,n!==null){le=n;return}le=n=e}while(n!==null);ke===0&&(ke=5)}function Jp(e,n){do{var s=tE(e.alternate,e);if(s!==null){s.flags&=32767,le=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){le=e;return}le=e=s}while(e!==null);ke=6,le=null}function $p(e,n,s,r,u,c,d,_,v){e.cancelPendingCommit=null;do Hr();while(Qe!==0);if((ge&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(c=n.lanes|n.childLanes,c|=Ou,V0(e,s,c,d,_,v),e===we&&(le=we=null,ue=0),js=n,si=e,On=s,zc=c,jc=u,Vp=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dE(ql,function(){return sg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=x.T,x.T=null,u=B.p,B.p=2,d=ge,ge|=4;try{nE(e,n,s)}finally{ge=d,B.p=u,x.T=r}}Qe=1,eg(),tg(),ng()}}function eg(){if(Qe===1){Qe=0;var e=si,n=js,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=x.T,x.T=null;var r=B.p;B.p=2;var u=ge;ge|=4;try{Up(n,e);var c=$c,d=Bd(e.containerInfo),_=c.focusedElem,v=c.selectionRange;if(d!==_&&_&&_.ownerDocument&&Hd(_.ownerDocument.documentElement,_)){if(v!==null&&Cu(_)){var w=v.start,M=v.end;if(M===void 0&&(M=w),"selectionStart"in _)_.selectionStart=w,_.selectionEnd=Math.min(M,_.value.length);else{var k=_.ownerDocument||document,R=k&&k.defaultView||window;if(R.getSelection){var O=R.getSelection(),G=_.textContent.length,Q=Math.min(v.start,G),Ce=v.end===void 0?Q:Math.min(v.end,G);!O.extend&&Q>Ce&&(d=Ce,Ce=Q,Q=d);var A=jd(_,Q),T=jd(_,Ce);if(A&&T&&(O.rangeCount!==1||O.anchorNode!==A.node||O.anchorOffset!==A.offset||O.focusNode!==T.node||O.focusOffset!==T.offset)){var N=k.createRange();N.setStart(A.node,A.offset),O.removeAllRanges(),Q>Ce?(O.addRange(N),O.extend(T.node,T.offset)):(N.setEnd(T.node,T.offset),O.addRange(N))}}}}for(k=[],O=_;O=O.parentNode;)O.nodeType===1&&k.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<k.length;_++){var U=k[_];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Wr=!!Jc,$c=Jc=null}finally{ge=u,B.p=r,x.T=s}}e.current=n,Qe=2}}function tg(){if(Qe===2){Qe=0;var e=si,n=js,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=x.T,x.T=null;var r=B.p;B.p=2;var u=ge;ge|=4;try{Op(e,n.alternate,n)}finally{ge=u,B.p=r,x.T=s}}Qe=3}}function ng(){if(Qe===4||Qe===3){Qe=0,I0();var e=si,n=js,s=On,r=Vp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,js=si=null,ig(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ii=null),au(s),n=n.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(ma,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=x.T,u=B.p,B.p=2,x.T=null;try{for(var c=e.onRecoverableError,d=0;d<r.length;d++){var _=r[d];c(_.value,{componentStack:_.stack})}}finally{x.T=n,B.p=u}}(On&3)!==0&&Hr(),on(e),u=e.pendingLanes,(s&261930)!==0&&(u&42)!==0?e===Hc?Ka++:(Ka=0,Hc=e):Ka=0,Za(0)}}function ig(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Da(n)))}function Hr(){return eg(),tg(),ng(),sg()}function sg(){if(Qe!==5)return!1;var e=si,n=zc;zc=0;var s=au(On),r=x.T,u=B.p;try{B.p=32>s?32:s,x.T=null,s=jc,jc=null;var c=si,d=On;if(Qe=0,js=si=null,On=0,(ge&6)!==0)throw Error(l(331));var _=ge;if(ge|=4,Hp(c.current),kp(c,c.current,d,s),ge=_,Za(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(ma,c)}catch{}return!0}finally{B.p=u,x.T=r,ig(e,n)}}function ag(e,n,s){n=Bt(s,n),n=_c(e.stateNode,n,2),e=Wn(e,n,2),e!==null&&(ga(e,2),on(e))}function Ee(e,n,s){if(e.tag===3)ag(e,e,s);else for(;n!==null;){if(n.tag===3){ag(n,e,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r))){e=Bt(s,e),s=lp(2),r=Wn(n,s,2),r!==null&&(rp(s,r,n,e),ga(r,2),on(r));break}}n=n.return}}function Vc(e,n,s){var r=e.pingCache;if(r===null){r=e.pingCache=new aE;var u=new Set;r.set(n,u)}else u=r.get(n),u===void 0&&(u=new Set,r.set(n,u));u.has(s)||(Uc=!0,u.add(s),e=cE.bind(null,e,n,s),n.then(e,e))}function cE(e,n,s){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,we===e&&(ue&s)===s&&(ke===4||ke===3&&(ue&62914560)===ue&&300>Nt()-Ir?(ge&2)===0&&Hs(e,0):Lc|=s,zs===ue&&(zs=0)),on(e)}function lg(e,n){n===0&&(n=ed()),e=ki(e,n),e!==null&&(ga(e,n),on(e))}function fE(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),lg(e,s)}function hE(e,n){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),lg(e,s)}function dE(e,n){return tu(e,n)}var Br=null,qs=null,Gc=!1,qr=!1,Pc=!1,li=0;function on(e){e!==qs&&e.next===null&&(qs===null?Br=qs=e:qs=qs.next=e),qr=!0,Gc||(Gc=!0,pE())}function Za(e,n){if(!Pc&&qr){Pc=!0;do for(var s=!1,r=Br;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var c=0;else{var d=r.suspendedLanes,_=r.pingedLanes;c=(1<<31-Rt(42|e)+1)-1,c&=u&~(d&~_),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(s=!0,cg(r,c))}else c=ue,c=Yl(r,r===we?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(c&3)===0||pa(r,c)||(s=!0,cg(r,c));r=r.next}while(s);Pc=!1}}function mE(){rg()}function rg(){qr=Gc=!1;var e=0;li!==0&&AE()&&(e=li);for(var n=Nt(),s=null,r=Br;r!==null;){var u=r.next,c=og(r,n);c===0?(r.next=null,s===null?Br=u:s.next=u,u===null&&(qs=s)):(s=r,(e!==0||(c&3)!==0)&&(qr=!0)),r=u}Qe!==0&&Qe!==5||Za(e),li!==0&&(li=0)}function og(e,n){for(var s=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-Rt(c),_=1<<d,v=u[d];v===-1?((_&s)===0||(_&r)!==0)&&(u[d]=q0(_,n)):v<=n&&(e.expiredLanes|=_),c&=~_}if(n=we,s=ue,s=Yl(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===n&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&nu(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||pa(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(r!==null&&nu(r),au(s)){case 2:case 8:s=Jh;break;case 32:s=ql;break;case 268435456:s=$h;break;default:s=ql}return r=ug.bind(null,e),s=tu(s,r),e.callbackPriority=n,e.callbackNode=s,n}return r!==null&&r!==null&&nu(r),e.callbackPriority=2,e.callbackNode=null,2}function ug(e,n){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Hr()&&e.callbackNode!==s)return null;var r=ue;return r=Yl(e,e===we?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Pp(e,r,n),og(e,Nt()),e.callbackNode!=null&&e.callbackNode===s?ug.bind(null,e):null)}function cg(e,n){if(Hr())return null;Pp(e,n,!0)}function pE(){wE(function(){(ge&6)!==0?tu(Wh,mE):rg()})}function Yc(){if(li===0){var e=Ns;e===0&&(e=Vl,Vl<<=1,(Vl&261888)===0&&(Vl=256)),li=e}return li}function fg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Kl(""+e)}function hg(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function gE(e,n,s,r,u){if(n==="submit"&&s&&s.stateNode===u){var c=fg((u[pt]||null).action),d=r.submitter;d&&(n=(n=d[pt]||null)?fg(n.formAction):d.getAttribute("formAction"),n!==null&&(c=n,d=null));var _=new $l("action","action",null,r,u);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(li!==0){var v=d?hg(u,d):new FormData(u);fc(s,{pending:!0,data:v,method:u.method,action:c},null,v)}}else typeof c=="function"&&(_.preventDefault(),v=d?hg(u,d):new FormData(u),fc(s,{pending:!0,data:v,method:u.method,action:c},c,v))},currentTarget:u}]})}}for(var Fc=0;Fc<Ru.length;Fc++){var Qc=Ru[Fc],_E=Qc.toLowerCase(),yE=Qc[0].toUpperCase()+Qc.slice(1);Kt(_E,"on"+yE)}Kt(Gd,"onAnimationEnd"),Kt(Pd,"onAnimationIteration"),Kt(Yd,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(US,"onTransitionRun"),Kt(LS,"onTransitionStart"),Kt(kS,"onTransitionCancel"),Kt(Fd,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wa));function dg(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],u=r.event;r=r.listeners;e:{var c=void 0;if(n)for(var d=r.length-1;0<=d;d--){var _=r[d],v=_.instance,w=_.currentTarget;if(_=_.listener,v!==c&&u.isPropagationStopped())break e;c=_,u.currentTarget=w;try{c(u)}catch(M){nr(M)}u.currentTarget=null,c=v}else for(d=0;d<r.length;d++){if(_=r[d],v=_.instance,w=_.currentTarget,_=_.listener,v!==c&&u.isPropagationStopped())break e;c=_,u.currentTarget=w;try{c(u)}catch(M){nr(M)}u.currentTarget=null,c=v}}}}function re(e,n){var s=n[lu];s===void 0&&(s=n[lu]=new Set);var r=e+"__bubble";s.has(r)||(mg(n,e,2,!1),s.add(r))}function Xc(e,n,s){var r=0;n&&(r|=4),mg(s,e,r,n)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Kc(e){if(!e[Vr]){e[Vr]=!0,rd.forEach(function(s){s!=="selectionchange"&&(vE.has(s)||Xc(s,!1,e),Xc(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Vr]||(n[Vr]=!0,Xc("selectionchange",!1,n))}}function mg(e,n,s,r){switch(Gg(n)){case 2:var u=QE;break;case 8:u=XE;break;default:u=ff}s=u.bind(null,n,s,e),u=void 0,!pu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function Zc(e,n,s,r,u){var c=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var _=r.stateNode.containerInfo;if(_===u)break;if(d===4)for(d=r.return;d!==null;){var v=d.tag;if((v===3||v===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;_!==null;){if(d=us(_),d===null)return;if(v=d.tag,v===5||v===6||v===26||v===27){r=c=d;continue e}_=_.parentNode}}r=r.return}vd(function(){var w=c,M=du(s),k=[];e:{var R=Qd.get(e);if(R!==void 0){var O=$l,G=e;switch(e){case"keypress":if(Wl(s)===0)break e;case"keydown":case"keyup":O=hS;break;case"focusin":G="focus",O=vu;break;case"focusout":G="blur",O=vu;break;case"beforeblur":case"afterblur":O=vu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=eS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=pS;break;case Gd:case Pd:case Yd:O=iS;break;case Fd:O=_S;break;case"scroll":case"scrollend":O=J0;break;case"wheel":O=vS;break;case"copy":case"cut":case"paste":O=aS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Cd;break;case"toggle":case"beforetoggle":O=ES}var Q=(n&4)!==0,Ce=!Q&&(e==="scroll"||e==="scrollend"),A=Q?R!==null?R+"Capture":null:R;Q=[];for(var T=w,N;T!==null;){var U=T;if(N=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||N===null||A===null||(U=va(T,A),U!=null&&Q.push(Ja(T,U,N))),Ce)break;T=T.return}0<Q.length&&(R=new O(R,G,null,s,M),k.push({event:R,listeners:Q}))}}if((n&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",R&&s!==hu&&(G=s.relatedTarget||s.fromElement)&&(us(G)||G[os]))break e;if((O||R)&&(R=M.window===M?M:(R=M.ownerDocument)?R.defaultView||R.parentWindow:window,O?(G=s.relatedTarget||s.toElement,O=w,G=G?us(G):null,G!==null&&(Ce=f(G),Q=G.tag,G!==Ce||Q!==5&&Q!==27&&Q!==6)&&(G=null)):(O=null,G=w),O!==G)){if(Q=bd,U="onMouseLeave",A="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(Q=Cd,U="onPointerLeave",A="onPointerEnter",T="pointer"),Ce=O==null?R:ya(O),N=G==null?R:ya(G),R=new Q(U,T+"leave",O,s,M),R.target=Ce,R.relatedTarget=N,U=null,us(M)===w&&(Q=new Q(A,T+"enter",G,s,M),Q.target=N,Q.relatedTarget=Ce,U=Q),Ce=U,O&&G)t:{for(Q=SE,A=O,T=G,N=0,U=A;U;U=Q(U))N++;U=0;for(var Y=T;Y;Y=Q(Y))U++;for(;0<N-U;)A=Q(A),N--;for(;0<U-N;)T=Q(T),U--;for(;N--;){if(A===T||T!==null&&A===T.alternate){Q=A;break t}A=Q(A),T=Q(T)}Q=null}else Q=null;O!==null&&pg(k,R,O,Q,!1),G!==null&&Ce!==null&&pg(k,Ce,G,Q,!0)}}e:{if(R=w?ya(w):window,O=R.nodeName&&R.nodeName.toLowerCase(),O==="select"||O==="input"&&R.type==="file")var de=xd;else if(Dd(R))if(Id)de=MS;else{de=OS;var P=RS}else O=R.nodeName,!O||O.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?w&&fu(w.elementType)&&(de=xd):de=DS;if(de&&(de=de(e,w))){Md(k,de,s,M);break e}P&&P(e,R,w),e==="focusout"&&w&&R.type==="number"&&w.memoizedProps.value!=null&&cu(R,"number",R.value)}switch(P=w?ya(w):window,e){case"focusin":(Dd(P)||P.contentEditable==="true")&&(ys=P,Au=w,wa=null);break;case"focusout":wa=Au=ys=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,qd(k,s,M);break;case"selectionchange":if(IS)break;case"keydown":case"keyup":qd(k,s,M)}var ie;if(Eu)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else _s?Rd(e,s)&&(ce="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ce="onCompositionStart");ce&&(Ad&&s.locale!=="ko"&&(_s||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&_s&&(ie=Sd()):(Pn=M,gu="value"in Pn?Pn.value:Pn.textContent,_s=!0)),P=Gr(w,ce),0<P.length&&(ce=new Td(ce,e,null,s,M),k.push({event:ce,listeners:P}),ie?ce.data=ie:(ie=Od(s),ie!==null&&(ce.data=ie)))),(ie=TS?CS(e,s):AS(e,s))&&(ce=Gr(w,"onBeforeInput"),0<ce.length&&(P=new Td("onBeforeInput","beforeinput",null,s,M),k.push({event:P,listeners:ce}),P.data=ie)),gE(k,e,w,s,M)}dg(k,n)})}function Ja(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Gr(e,n){for(var s=n+"Capture",r=[];e!==null;){var u=e,c=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=va(e,s),u!=null&&r.unshift(Ja(e,u,c)),u=va(e,n),u!=null&&r.push(Ja(e,u,c))),e.tag===3)return r;e=e.return}return[]}function SE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pg(e,n,s,r,u){for(var c=n._reactName,d=[];s!==null&&s!==r;){var _=s,v=_.alternate,w=_.stateNode;if(_=_.tag,v!==null&&v===r)break;_!==5&&_!==26&&_!==27||w===null||(v=w,u?(w=va(s,c),w!=null&&d.unshift(Ja(s,w,v))):u||(w=va(s,c),w!=null&&d.push(Ja(s,w,v)))),s=s.return}d.length!==0&&e.push({event:n,listeners:d})}var EE=/\r\n?/g,bE=/\u0000|\uFFFD/g;function gg(e){return(typeof e=="string"?e:""+e).replace(EE,`
`).replace(bE,"")}function _g(e,n){return n=gg(n),gg(e)===n}function Te(e,n,s,r,u,c){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||ms(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&ms(e,""+r);break;case"className":Ql(e,"class",r);break;case"tabIndex":Ql(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ql(e,s,r);break;case"style":_d(e,r,c);break;case"data":if(n!=="object"){Ql(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=Kl(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(s==="formAction"?(n!=="input"&&Te(e,n,"name",u.name,u,null),Te(e,n,"formEncType",u.formEncType,u,null),Te(e,n,"formMethod",u.formMethod,u,null),Te(e,n,"formTarget",u.formTarget,u,null)):(Te(e,n,"encType",u.encType,u,null),Te(e,n,"method",u.method,u,null),Te(e,n,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=Kl(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=mn);break;case"onScroll":r!=null&&re("scroll",e);break;case"onScrollEnd":r!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=Kl(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":re("beforetoggle",e),re("toggle",e),Fl(e,"popover",r);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Fl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Z0.get(s)||s,Fl(e,s,r))}}function Wc(e,n,s,r,u,c){switch(s){case"style":_d(e,r,c);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof r=="string"?ms(e,r):(typeof r=="number"||typeof r=="bigint")&&ms(e,""+r);break;case"onScroll":r!=null&&re("scroll",e);break;case"onScrollEnd":r!=null&&re("scrollend",e);break;case"onClick":r!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!od.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),c=e[pt]||null,c=c!=null?c[s]:null,typeof c=="function"&&e.removeEventListener(n,c,u),typeof r=="function")){typeof c!="function"&&c!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,r,u);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):Fl(e,s,r)}}}function lt(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var r=!1,u=!1,c;for(c in s)if(s.hasOwnProperty(c)){var d=s[c];if(d!=null)switch(c){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Te(e,n,c,d,s,null)}}u&&Te(e,n,"srcSet",s.srcSet,s,null),r&&Te(e,n,"src",s.src,s,null);return;case"input":re("invalid",e);var _=c=d=u=null,v=null,w=null;for(r in s)if(s.hasOwnProperty(r)){var M=s[r];if(M!=null)switch(r){case"name":u=M;break;case"type":d=M;break;case"checked":v=M;break;case"defaultChecked":w=M;break;case"value":c=M;break;case"defaultValue":_=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(l(137,n));break;default:Te(e,n,r,M,s,null)}}dd(e,c,_,v,w,d,u,!1);return;case"select":re("invalid",e),r=d=c=null;for(u in s)if(s.hasOwnProperty(u)&&(_=s[u],_!=null))switch(u){case"value":c=_;break;case"defaultValue":d=_;break;case"multiple":r=_;default:Te(e,n,u,_,s,null)}n=c,s=d,e.multiple=!!r,n!=null?ds(e,!!r,n,!1):s!=null&&ds(e,!!r,s,!0);return;case"textarea":re("invalid",e),c=u=r=null;for(d in s)if(s.hasOwnProperty(d)&&(_=s[d],_!=null))switch(d){case"value":r=_;break;case"defaultValue":u=_;break;case"children":c=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Te(e,n,d,_,s,null)}pd(e,r,u,c);return;case"option":for(v in s)s.hasOwnProperty(v)&&(r=s[v],r!=null)&&(v==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Te(e,n,v,r,s,null));return;case"dialog":re("beforetoggle",e),re("toggle",e),re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(r=0;r<Wa.length;r++)re(Wa[r],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in s)if(s.hasOwnProperty(w)&&(r=s[w],r!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Te(e,n,w,r,s,null)}return;default:if(fu(n)){for(M in s)s.hasOwnProperty(M)&&(r=s[M],r!==void 0&&Wc(e,n,M,r,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(r=s[_],r!=null&&Te(e,n,_,r,s,null))}function TE(e,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,d=null,_=null,v=null,w=null,M=null;for(O in s){var k=s[O];if(s.hasOwnProperty(O)&&k!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":v=k;default:r.hasOwnProperty(O)||Te(e,n,O,null,r,k)}}for(var R in r){var O=r[R];if(k=s[R],r.hasOwnProperty(R)&&(O!=null||k!=null))switch(R){case"type":c=O;break;case"name":u=O;break;case"checked":w=O;break;case"defaultChecked":M=O;break;case"value":d=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,n));break;default:O!==k&&Te(e,n,R,O,r,k)}}uu(e,d,_,v,w,M,c,u);return;case"select":O=d=_=R=null;for(c in s)if(v=s[c],s.hasOwnProperty(c)&&v!=null)switch(c){case"value":break;case"multiple":O=v;default:r.hasOwnProperty(c)||Te(e,n,c,null,r,v)}for(u in r)if(c=r[u],v=s[u],r.hasOwnProperty(u)&&(c!=null||v!=null))switch(u){case"value":R=c;break;case"defaultValue":_=c;break;case"multiple":d=c;default:c!==v&&Te(e,n,u,c,r,v)}n=_,s=d,r=O,R!=null?ds(e,!!s,R,!1):!!r!=!!s&&(n!=null?ds(e,!!s,n,!0):ds(e,!!s,s?[]:"",!1));return;case"textarea":O=R=null;for(_ in s)if(u=s[_],s.hasOwnProperty(_)&&u!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Te(e,n,_,null,r,u)}for(d in r)if(u=r[d],c=s[d],r.hasOwnProperty(d)&&(u!=null||c!=null))switch(d){case"value":R=u;break;case"defaultValue":O=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==c&&Te(e,n,d,u,r,c)}md(e,R,O);return;case"option":for(var G in s)R=s[G],s.hasOwnProperty(G)&&R!=null&&!r.hasOwnProperty(G)&&(G==="selected"?e.selected=!1:Te(e,n,G,null,r,R));for(v in r)R=r[v],O=s[v],r.hasOwnProperty(v)&&R!==O&&(R!=null||O!=null)&&(v==="selected"?e.selected=R&&typeof R!="function"&&typeof R!="symbol":Te(e,n,v,R,r,O));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Q in s)R=s[Q],s.hasOwnProperty(Q)&&R!=null&&!r.hasOwnProperty(Q)&&Te(e,n,Q,null,r,R);for(w in r)if(R=r[w],O=s[w],r.hasOwnProperty(w)&&R!==O&&(R!=null||O!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,n));break;default:Te(e,n,w,R,r,O)}return;default:if(fu(n)){for(var Ce in s)R=s[Ce],s.hasOwnProperty(Ce)&&R!==void 0&&!r.hasOwnProperty(Ce)&&Wc(e,n,Ce,void 0,r,R);for(M in r)R=r[M],O=s[M],!r.hasOwnProperty(M)||R===O||R===void 0&&O===void 0||Wc(e,n,M,R,r,O);return}}for(var A in s)R=s[A],s.hasOwnProperty(A)&&R!=null&&!r.hasOwnProperty(A)&&Te(e,n,A,null,r,R);for(k in r)R=r[k],O=s[k],!r.hasOwnProperty(k)||R===O||R==null&&O==null||Te(e,n,k,R,r,O)}function yg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var u=s[r],c=u.transferSize,d=u.initiatorType,_=u.duration;if(c&&_&&yg(d)){for(d=0,_=u.responseEnd,r+=1;r<s.length;r++){var v=s[r],w=v.startTime;if(w>_)break;var M=v.transferSize,k=v.initiatorType;M&&yg(k)&&(v=v.responseEnd,d+=M*(v<_?1:(_-w)/(v-w)))}if(--r,n+=8*(c+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jc=null,$c=null;function Pr(e){return e.nodeType===9?e:e.ownerDocument}function vg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ef(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tf=null;function AE(){var e=window.event;return e&&e.type==="popstate"?e===tf?!1:(tf=e,!0):(tf=null,!1)}var Eg=typeof setTimeout=="function"?setTimeout:void 0,NE=typeof clearTimeout=="function"?clearTimeout:void 0,bg=typeof Promise=="function"?Promise:void 0,wE=typeof queueMicrotask=="function"?queueMicrotask:typeof bg<"u"?function(e){return bg.resolve(null).then(e).catch(RE)}:Eg;function RE(e){setTimeout(function(){throw e})}function ri(e){return e==="head"}function Tg(e,n){var s=n,r=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(u),Ys(n);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")$a(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,$a(s);for(var c=s.firstChild;c;){var d=c.nextSibling,_=c.nodeName;c[_a]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&c.rel.toLowerCase()==="stylesheet"||s.removeChild(c),c=d}}else s==="body"&&$a(e.ownerDocument.body);s=u}while(s);Ys(n)}function Cg(e,n){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function nf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":nf(s),ru(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function OE(e,n,s,r){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[_a])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function DE(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Yt(e.nextSibling),e===null))return null;return e}function Ag(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yt(e.nextSibling),e===null))return null;return e}function sf(e){return e.data==="$?"||e.data==="$~"}function af(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ME(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Yt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var lf=null;function Ng(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Yt(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function wg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Rg(e,n,s){switch(n=Pr(s),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function $a(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ru(e)}var Ft=new Map,Og=new Set;function Yr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dn=B.d;B.d={f:xE,r:IE,D:UE,C:LE,L:kE,m:zE,X:HE,S:jE,M:BE};function xE(){var e=Dn.f(),n=kr();return e||n}function IE(e){var n=cs(e);n!==null&&n.tag===5&&n.type==="form"?Fm(n):Dn.r(e)}var Vs=typeof document>"u"?null:document;function Dg(e,n,s){var r=Vs;if(r&&typeof n=="string"&&n){var u=jt(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),Og.has(u)||(Og.add(u),e={rel:e,crossOrigin:s,href:n},r.querySelector(u)===null&&(n=r.createElement("link"),lt(n,"link",e),We(n),r.head.appendChild(n)))}}function UE(e){Dn.D(e),Dg("dns-prefetch",e,null)}function LE(e,n){Dn.C(e,n),Dg("preconnect",e,n)}function kE(e,n,s){Dn.L(e,n,s);var r=Vs;if(r&&e&&n){var u='link[rel="preload"][as="'+jt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+jt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+jt(s.imageSizes)+'"]')):u+='[href="'+jt(e)+'"]';var c=u;switch(n){case"style":c=Gs(e);break;case"script":c=Ps(e)}Ft.has(c)||(e=y({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Ft.set(c,e),r.querySelector(u)!==null||n==="style"&&r.querySelector(el(c))||n==="script"&&r.querySelector(tl(c))||(n=r.createElement("link"),lt(n,"link",e),We(n),r.head.appendChild(n)))}}function zE(e,n){Dn.m(e,n);var s=Vs;if(s&&e){var r=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+jt(r)+'"][href="'+jt(e)+'"]',c=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ps(e)}if(!Ft.has(c)&&(e=y({rel:"modulepreload",href:e},n),Ft.set(c,e),s.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(tl(c)))return}r=s.createElement("link"),lt(r,"link",e),We(r),s.head.appendChild(r)}}}function jE(e,n,s){Dn.S(e,n,s);var r=Vs;if(r&&e){var u=fs(r).hoistableStyles,c=Gs(e);n=n||"default";var d=u.get(c);if(!d){var _={loading:0,preload:null};if(d=r.querySelector(el(c)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Ft.get(c))&&rf(e,s);var v=d=r.createElement("link");We(v),lt(v,"link",e),v._p=new Promise(function(w,M){v.onload=w,v.onerror=M}),v.addEventListener("load",function(){_.loading|=1}),v.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Fr(d,n,r)}d={type:"stylesheet",instance:d,count:1,state:_},u.set(c,d)}}}function HE(e,n){Dn.X(e,n);var s=Vs;if(s&&e){var r=fs(s).hoistableScripts,u=Ps(e),c=r.get(u);c||(c=s.querySelector(tl(u)),c||(e=y({src:e,async:!0},n),(n=Ft.get(u))&&of(e,n),c=s.createElement("script"),We(c),lt(c,"link",e),s.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(u,c))}}function BE(e,n){Dn.M(e,n);var s=Vs;if(s&&e){var r=fs(s).hoistableScripts,u=Ps(e),c=r.get(u);c||(c=s.querySelector(tl(u)),c||(e=y({src:e,async:!0,type:"module"},n),(n=Ft.get(u))&&of(e,n),c=s.createElement("script"),We(c),lt(c,"link",e),s.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(u,c))}}function Mg(e,n,s,r){var u=(u=ae.current)?Yr(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Gs(s.href),s=fs(u).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Gs(s.href);var c=fs(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(el(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Ft.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ft.set(e,s),c||qE(u,e,s,d.state))),n&&r===null)throw Error(l(528,""));return d}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ps(s),s=fs(u).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Gs(e){return'href="'+jt(e)+'"'}function el(e){return'link[rel="stylesheet"]['+e+"]"}function xg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function qE(e,n,s,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),lt(n,"link",s),We(n),e.head.appendChild(n))}function Ps(e){return'[src="'+jt(e)+'"]'}function tl(e){return"script[async]"+e}function Ig(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+jt(s.href)+'"]');if(r)return n.instance=r,We(r),r;var u=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),We(r),lt(r,"style",u),Fr(r,s.precedence,e),n.instance=r;case"stylesheet":u=Gs(s.href);var c=e.querySelector(el(u));if(c)return n.state.loading|=4,n.instance=c,We(c),c;r=xg(s),(u=Ft.get(u))&&rf(r,u),c=(e.ownerDocument||e).createElement("link"),We(c);var d=c;return d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),lt(c,"link",r),n.state.loading|=4,Fr(c,s.precedence,e),n.instance=c;case"script":return c=Ps(s.src),(u=e.querySelector(tl(c)))?(n.instance=u,We(u),u):(r=s,(u=Ft.get(c))&&(r=y({},s),of(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),We(u),lt(u,"link",r),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,Fr(r,s.precedence,e));return n.instance}function Fr(e,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,c=u,d=0;d<r.length;d++){var _=r[d];if(_.dataset.precedence===n)c=_;else if(c!==u)break}c?c.parentNode.insertBefore(e,c.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function of(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Qr=null;function Ug(e,n,s){if(Qr===null){var r=new Map,u=Qr=new Map;u.set(s,r)}else u=Qr,r=u.get(s),r||(r=new Map,u.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var c=s[u];if(!(c[_a]||c[nt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(n)||"";d=e+d;var _=r.get(d);_?_.push(c):r.set(d,[c])}}return r}function Lg(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function VE(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function GE(e,n,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=Gs(r.href),c=n.querySelector(el(u));if(c){n=c._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Xr.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=c,We(c);return}c=n.ownerDocument||n,r=xg(r),(u=Ft.get(u))&&rf(r,u),c=c.createElement("link"),We(c);var d=c;d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),lt(c,"link",r),s.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Xr.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var uf=0;function PE(e,n){return e.stylesheets&&e.count===0&&Zr(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+n);0<e.imgBytes&&uf===0&&(uf=62500*CE());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>uf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function Xr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kr=null;function Zr(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kr=new Map,n.forEach(YE,e),Kr=null,Xr.call(e))}function YE(e,n){if(!(n.state.loading&4)){var s=Kr.get(e);if(s)var r=s.get(null);else{s=new Map,Kr.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var d=u[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(s.set(d.dataset.precedence,d),r=d)}r&&s.set(null,r)}u=n.instance,d=u.getAttribute("data-precedence"),c=s.get(d)||r,c===r&&s.set(null,u),s.set(d,u),this.count++,r=Xr.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),c?c.parentNode.insertBefore(u,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var nl={$$typeof:$,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function FE(e,n,s,r,u,c,d,_,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=iu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.hiddenUpdates=iu(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function zg(e,n,s,r,u,c,d,_,v,w,M,k){return e=new FE(e,n,s,d,v,w,M,k,_),n=1,c===!0&&(n|=24),c=Dt(3,null,null,n),e.current=c,c.stateNode=e,n=qu(),n.refCount++,e.pooledCache=n,n.refCount++,c.memoizedState={element:r,isDehydrated:s,cache:n},Yu(c),e}function jg(e){return e?(e=Es,e):Es}function Hg(e,n,s,r,u,c){u=jg(u),r.context===null?r.context=u:r.pendingContext=u,r=Zn(n),r.payload={element:s},c=c===void 0?null:c,c!==null&&(r.callback=c),s=Wn(e,r,n),s!==null&&(Et(s,e,n),Ua(s,e,n))}function Bg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function cf(e,n){Bg(e,n),(e=e.alternate)&&Bg(e,n)}function qg(e){if(e.tag===13||e.tag===31){var n=ki(e,67108864);n!==null&&Et(n,e,67108864),cf(e,67108864)}}function Vg(e){if(e.tag===13||e.tag===31){var n=Lt();n=su(n);var s=ki(e,n);s!==null&&Et(s,e,n),cf(e,n)}}var Wr=!0;function QE(e,n,s,r){var u=x.T;x.T=null;var c=B.p;try{B.p=2,ff(e,n,s,r)}finally{B.p=c,x.T=u}}function XE(e,n,s,r){var u=x.T;x.T=null;var c=B.p;try{B.p=8,ff(e,n,s,r)}finally{B.p=c,x.T=u}}function ff(e,n,s,r){if(Wr){var u=hf(r);if(u===null)Zc(e,n,r,Jr,s),Pg(e,r);else if(ZE(u,e,n,s,r))r.stopPropagation();else if(Pg(e,r),n&4&&-1<KE.indexOf(e)){for(;u!==null;){var c=cs(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=Mi(c.pendingLanes);if(d!==0){var _=c;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var v=1<<31-Rt(d);_.entanglements[1]|=v,d&=~v}on(c),(ge&6)===0&&(Ur=Nt()+500,Za(0))}}break;case 31:case 13:_=ki(c,2),_!==null&&Et(_,c,2),kr(),cf(c,2)}if(c=hf(r),c===null&&Zc(e,n,r,Jr,s),c===u)break;u=c}u!==null&&r.stopPropagation()}else Zc(e,n,r,null,s)}}function hf(e){return e=du(e),df(e)}var Jr=null;function df(e){if(Jr=null,e=us(e),e!==null){var n=f(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Jr=e,null}function Gg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(U0()){case Wh:return 2;case Jh:return 8;case ql:case L0:return 32;case $h:return 268435456;default:return 32}default:return 32}}var mf=!1,oi=null,ui=null,ci=null,il=new Map,sl=new Map,fi=[],KE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pg(e,n){switch(e){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(n.pointerId)}}function al(e,n,s,r,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:c,targetContainers:[u]},n!==null&&(n=cs(n),n!==null&&qg(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function ZE(e,n,s,r,u){switch(n){case"focusin":return oi=al(oi,e,n,s,r,u),!0;case"dragenter":return ui=al(ui,e,n,s,r,u),!0;case"mouseover":return ci=al(ci,e,n,s,r,u),!0;case"pointerover":var c=u.pointerId;return il.set(c,al(il.get(c)||null,e,n,s,r,u)),!0;case"gotpointercapture":return c=u.pointerId,sl.set(c,al(sl.get(c)||null,e,n,s,r,u)),!0}return!1}function Yg(e){var n=us(e.target);if(n!==null){var s=f(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,ad(e.priority,function(){Vg(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,ad(e.priority,function(){Vg(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $r(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=hf(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);hu=r,s.target.dispatchEvent(r),hu=null}else return n=cs(s),n!==null&&qg(n),e.blockedOn=s,!1;n.shift()}return!0}function Fg(e,n,s){$r(e)&&s.delete(n)}function WE(){mf=!1,oi!==null&&$r(oi)&&(oi=null),ui!==null&&$r(ui)&&(ui=null),ci!==null&&$r(ci)&&(ci=null),il.forEach(Fg),sl.forEach(Fg)}function eo(e,n){e.blockedOn===n&&(e.blockedOn=null,mf||(mf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,WE)))}var to=null;function Qg(e){to!==e&&(to=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){to===e&&(to=null);for(var n=0;n<e.length;n+=3){var s=e[n],r=e[n+1],u=e[n+2];if(typeof r!="function"){if(df(r||s)===null)continue;break}var c=cs(s);c!==null&&(e.splice(n,3),n-=3,fc(c,{pending:!0,data:u,method:s.method,action:r},r,u))}}))}function Ys(e){function n(v){return eo(v,e)}oi!==null&&eo(oi,e),ui!==null&&eo(ui,e),ci!==null&&eo(ci,e),il.forEach(n),sl.forEach(n);for(var s=0;s<fi.length;s++){var r=fi[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<fi.length&&(s=fi[0],s.blockedOn===null);)Yg(s),s.blockedOn===null&&fi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var u=s[r],c=s[r+1],d=u[pt]||null;if(typeof c=="function")d||Qg(s);else if(d){var _=null;if(c&&c.hasAttribute("formAction")){if(u=c,d=c[pt]||null)_=d.formAction;else if(df(u)!==null)continue}else _=d.action;typeof _=="function"?s[r+1]=_:(s.splice(r,3),r-=3),Qg(s)}}}function Xg(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function pf(e){this._internalRoot=e}no.prototype.render=pf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,r=Lt();Hg(s,r,e,n,null,null)},no.prototype.unmount=pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hg(e.current,2,null,e,null,null),kr(),n[os]=null}};function no(e){this._internalRoot=e}no.prototype.unstable_scheduleHydration=function(e){if(e){var n=sd();e={blockedOn:null,target:e,priority:n};for(var s=0;s<fi.length&&n!==0&&n<fi[s].priority;s++);fi.splice(s,0,e),s===0&&Yg(e)}};var Kg=t.version;if(Kg!=="19.2.3")throw Error(l(527,Kg,"19.2.3"));B.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var JE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{ma=io.inject(JE),wt=io}catch{}}return rl.createRoot=function(e,n){if(!o(e))throw Error(l(299));var s=!1,r="",u=np,c=ip,d=sp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(c=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=zg(e,1,!1,null,null,s,r,null,u,c,d,Xg),e[os]=n.current,Kc(e),new pf(n)},rl.hydrateRoot=function(e,n,s){if(!o(e))throw Error(l(299));var r=!1,u="",c=np,d=ip,_=sp,v=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.formState!==void 0&&(v=s.formState)),n=zg(e,1,!0,n,s??null,r,u,v,c,d,_,Xg),n.context=jg(null),s=n.current,r=Lt(),r=su(r),u=Zn(r),u.callback=null,Wn(s,u,r),s=r,n.current.lanes=s,ga(n,s),on(n),e[os]=n.current,Kc(e),new no(n)},rl.version="19.2.3",rl}var l_;function ub(){if(l_)return yf.exports;l_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),yf.exports=ob(),yf.exports}var cb=ub();const fb=({onSave:a,editingTransaction:t,onCancelEdit:i,existingTypes:l})=>{const[o,f]=Oe.useState({date:"",name:"",amount:"",type:""}),h=E=>{if(!E)return"";const y=new Date(E);if(isNaN(y.getTime()))return"";const b=String(y.getDate()).padStart(2,"0"),L=String(y.getMonth()+1).padStart(2,"0"),I=String(y.getFullYear()).slice(-2);return`${b}.${L}.${I}`},m=E=>{if(!E)return new Date().toISOString().split("T")[0];const y=E.split(".");if(y.length!==3)return"";const[b,L,I]=y;return`20${I}-${L}-${b}`};Oe.useEffect(()=>{f(t?{...t,date:m(t.date)}:{date:new Date().toISOString().split("T")[0],name:"",amount:"",type:""})},[t]);const p=E=>{const{name:y,value:b}=E.target;f(L=>({...L,[y]:b}))},g=E=>{E.preventDefault();const y=parseFloat(o.amount);a({date:h(o.date),name:o.name,amount:isNaN(y)?0:parseFloat(y.toFixed(2)),type:o.type}),t||f({date:new Date().toISOString().split("T")[0],name:"",amount:"",type:""})};return C.jsxs("form",{onSubmit:g,className:"card animate-fade-in",children:[C.jsx("h2",{children:t?"Edit Transaction":"Add Transaction"}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"date",children:"Date"}),C.jsx("input",{type:"date",id:"date",name:"date",value:o.date,onChange:p,required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"name",children:"Name"}),C.jsx("input",{type:"text",id:"name",name:"name",value:o.name,onChange:p,placeholder:"e.g., ",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"amount",children:"Amount (z)"}),C.jsx("input",{type:"number",id:"amount",name:"amount",value:o.amount,onChange:p,placeholder:"0.00",step:"0.01",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"type",children:"Type"}),C.jsx("input",{type:"text",id:"type",name:"type",value:o.type,onChange:p,placeholder:"e.g., ",list:"type-suggestions",required:!0}),C.jsx("datalist",{id:"type-suggestions",children:l&&l.map((E,y)=>C.jsx("option",{value:E},y))})]}),C.jsxs("div",{className:"actions",style:{justifyContent:"flex-end",marginTop:"1rem"},children:[t&&C.jsx("button",{type:"button",className:"secondary",onClick:i,children:"Cancel"}),C.jsx("button",{type:"submit",children:t?"Update Transaction":"Add Transaction"})]})]})},hb=({transactions:a,onEdit:t,onDelete:i,rates:l})=>{const[o,f]=Oe.useState(""),[h,m]=Oe.useState(!1),[p,g]=Oe.useState({key:"date",direction:"desc"}),E=10,y=Oe.useMemo(()=>{const z=[...a];return z.sort((q,F)=>{if(p.key==="amount"){const W=parseFloat(q.amount)||0,$=parseFloat(F.amount)||0;return p.direction==="asc"?W-$:$-W}if(p.key==="date"){const W=Ze=>{const[qe,ee,Ve]=Ze.split(".").map(Number);return new Date(2e3+Ve,ee-1,qe).getTime()},$=W(q.date),Ne=W(F.date);return p.direction==="asc"?$-Ne:Ne-$}if(p.key==="type"||p.key==="name"){const W=(q[p.key]||"").toLowerCase(),$=(F[p.key]||"").toLowerCase();return W<$?p.direction==="asc"?-1:1:W>$?p.direction==="asc"?1:-1:0}return 0}),z},[a,p]);if(a.length===0)return C.jsx("div",{className:"card animate-fade-in",style:{textAlign:"center",color:"#94a3b8"},children:C.jsx("p",{children:"No transactions added yet."})});const b=a.reduce((z,q)=>z+(parseFloat(q.amount)||0),0),L=z=>{if(!o||!l||!l[o])return null;const q=l[o];return(z*q).toFixed(2)},I=h?y:y.slice(0,E);return C.jsxs("div",{className:"card animate-fade-in",children:[C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",flexWrap:"wrap",gap:"1rem"},children:[C.jsxs("h2",{style:{margin:0},children:["Transactions (",a.length,")"]}),C.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[C.jsxs("select",{value:`${p.key}-${p.direction}`,onChange:z=>{const[q,F]=z.target.value.split("-");g({key:q,direction:F})},style:{width:"auto",padding:"0.4em"},children:[C.jsx("option",{value:"date-desc",children:"Date (Newest)"}),C.jsx("option",{value:"date-asc",children:"Date (Oldest)"}),C.jsx("option",{value:"amount-desc",children:"Amount (High)"}),C.jsx("option",{value:"amount-asc",children:"Amount (Low)"}),C.jsx("option",{value:"type-asc",children:"Type (A-Z)"}),C.jsx("option",{value:"name-asc",children:"Name (A-Z)"})]}),l&&C.jsxs("select",{value:o,onChange:z=>f(z.target.value),style:{width:"auto",padding:"0.4em"},children:[C.jsx("option",{value:"",children:"Convert to..."}),C.jsx("option",{value:"EUR",children:"EUR ()"}),C.jsx("option",{value:"USD",children:"USD ($)"}),C.jsx("option",{value:"BYN",children:"BYN (Br)"}),C.jsx("option",{value:"RUB",children:"RUB ()"})]})]})]}),C.jsx("ul",{className:"transaction-list",children:I.map(z=>{const q=L(z.amount);return C.jsxs("li",{className:"transaction-item",children:[C.jsxs("div",{className:"transaction-details",children:[C.jsx("div",{className:"transaction-name",children:z.name}),C.jsxs("div",{className:"transaction-meta",children:[C.jsx("span",{className:"transaction-date",children:z.date}),C.jsx("span",{className:"transaction-type",children:z.type})]})]}),C.jsxs("div",{style:{marginRight:"1rem",textAlign:"right"},children:[C.jsxs("div",{style:{fontWeight:"bold",color:"#3b82f6"},children:[Number(z.amount).toFixed(2)," z"]}),q&&C.jsxs("div",{style:{fontSize:"0.85em",color:"#94a3b8"},children:[" ",q," ",o]})]}),C.jsxs("div",{className:"actions",children:[C.jsx("button",{className:"secondary",onClick:()=>t(z),children:"Edit"}),C.jsx("button",{className:"danger",onClick:()=>i(z.id),children:"Delete"})]})]},z.id)})}),a.length>E&&C.jsx("button",{className:"secondary",onClick:()=>m(!h),style:{width:"100%",marginTop:"1rem"},children:h?"Show less":`Show all (${a.length})`}),C.jsxs("div",{style:{marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid var(--glass-border)",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"1.2em",fontWeight:"bold"},children:[C.jsx("span",{children:"Total Sum:"}),C.jsxs("div",{style:{textAlign:"right"},children:[C.jsxs("div",{style:{color:"#3b82f6"},children:[b.toFixed(2)," z"]}),o&&l&&l[o]&&C.jsxs("div",{style:{fontSize:"0.8em",color:"#94a3b8"},children:[" ",(b*l[o]).toFixed(2)," ",o]})]})]})]})},db=({errors:a,onClose:t})=>!a||a.length===0?null:C.jsxs("div",{className:"modal-overlay",children:[C.jsxs("div",{className:"modal-content card animate-fade-in",style:{maxWidth:"600px",width:"90%",maxHeight:"80vh",overflowY:"auto"},children:[C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[C.jsx("h2",{style:{margin:0,color:"#e74c3c"},children:"Data Discrepancies"}),C.jsx("button",{onClick:t,className:"secondary",style:{padding:"0.25rem 0.5rem"},children:"X"})]}),C.jsx("p",{children:"The following issues were found in the retrieved data:"}),C.jsx("ul",{style:{listStyle:"none",padding:0},children:a.map((i,l)=>C.jsx("li",{style:{marginBottom:"1rem",padding:"0.5rem",border:"1px solid #eee",borderRadius:"4px",backgroundColor:"#fff5f5"},children:i.message?C.jsx("strong",{children:i.message}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{children:[C.jsx("strong",{children:"Item Index:"})," ",i.index]}),C.jsxs("div",{children:[C.jsx("strong",{children:"Issues:"})," ",i.messages.join(", ")]}),C.jsxs("div",{style:{fontSize:"0.85em",color:"#666",marginTop:"0.25rem"},children:["Raw Data: ",JSON.stringify(i.item)]})]})},l))}),C.jsx("div",{style:{textAlign:"right",marginTop:"1rem"},children:C.jsx("button",{onClick:t,children:"Close"})})]}),C.jsx("style",{children:`
                .modal-overlay {
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background-color: rgba(0, 0, 0, 0.5);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 1000;
                }
                .modal-content {
                    background: white;
                    padding: 2rem;
                    border-radius: 8px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                }
            `})]}),mb=({onImport:a})=>{const[t,i]=Oe.useState(!1),[l,o]=Oe.useState(""),f=()=>{a(l),i(!1),o("")};return t?C.jsxs("div",{className:"card animate-fade-in",style:{padding:"2rem"},children:[C.jsx("h3",{children:"Import JSON"}),C.jsx("p",{children:"Paste your transaction JSON below:"}),C.jsx("textarea",{value:l,onChange:h=>o(h.target.value),placeholder:'[{"date": "14.01.26", "name": "Test", "amount": 10, "type": "Food"}]',style:{width:"100%",height:"200px",marginTop:"1rem",padding:"0.5rem",fontFamily:"monospace",borderRadius:"4px",border:"1px solid var(--border-color)",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"}}),C.jsxs("div",{className:"actions",style:{marginTop:"1rem",justifyContent:"flex-end"},children:[C.jsx("button",{className:"secondary",onClick:()=>i(!1),children:"Cancel"}),C.jsx("button",{className:"primary",onClick:f,children:"Save & Import"})]})]}):C.jsxs("div",{className:"card animate-fade-in",style:{textAlign:"center",padding:"2rem"},children:[C.jsx("h3",{children:"No Data Found"}),C.jsx("p",{children:"Your transaction list is empty. You can import data from a JSON file."}),C.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"1rem"},children:C.jsx("button",{onClick:()=>i(!0),className:"secondary",children:"Import JSON"})})]})},pb=({message:a,type:t="success",onClose:i,duration:l=3e3})=>(Oe.useEffect(()=>{const o=setTimeout(()=>{i()},l);return()=>clearTimeout(o)},[i,l]),C.jsxs("div",{className:`notification ${t} animate-fade-in`,children:[C.jsxs("div",{className:"notification-content",children:[t==="success"?"":""," ",a]}),C.jsx("button",{className:"notification-close",onClick:i,children:""})]})),so=["#8B5CF6","#EC4899","#F59E0B","#10B981","#3B82F6","#EF4444"],gb=({transactions:a})=>{if(!a||a.length===0)return C.jsx("div",{className:"dashboard-container animate-fade-in",children:C.jsxs("div",{className:"card",style:{textAlign:"center",padding:"4rem 2rem"},children:[C.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),C.jsx("h2",{children:"No Data Available"}),C.jsx("p",{style:{color:"#94a3b8"},children:"Add some transactions to see your spending visualizations!"})]})});const t=Oe.useMemo(()=>{const f=a.reduce((I,z)=>I+z.amount,0),h=a.length>0?f/a.length:0,m={};a.forEach(I=>{m[I.type]||(m[I.type]={total:0,count:0}),m[I.type].total+=I.amount,m[I.type].count+=1});const p=Object.entries(m).map(([I,z])=>({name:I,value:z.total,count:z.count})).sort((I,z)=>z.value-I.value),g={};a.forEach(I=>{g[I.date]||(g[I.date]=0),g[I.date]+=I.amount});const E=Object.entries(g).map(([I,z])=>({date:I,total:z})).sort((I,z)=>{const[q,F,W]=I.date.split("."),[$,Ne,Ze]=z.date.split(".");return new Date(`20${W}-${F}-${q}`)-new Date(`20${Ze}-${Ne}-${$}`)}),y=[...a].sort((I,z)=>z.amount-I.amount).slice(0,15);let b=0;const L=E.map(I=>(b+=I.total,{date:I.date,cumulative:b}));return{totalSpent:f,avgCheck:h,totalCount:a.length,sortedTypes:p,sortedDaily:E,topExpenses:y,cumulativeData:L}},[a]),i=()=>{const f=t.totalSpent;if(f===0)return null;const h=300,m=h/2,p=h/2-20;let g=0;const E=[];return t.sortedTypes.forEach((y,b)=>{const L=y.value/f*100,I=y.value/f*360,z=g+I,q=m+p*Math.cos((g-90)*Math.PI/180),F=m+p*Math.sin((g-90)*Math.PI/180),W=m+p*Math.cos((z-90)*Math.PI/180),$=m+p*Math.sin((z-90)*Math.PI/180),Ne=I>180?1:0,Ze=[`M ${m} ${m}`,`L ${q} ${F}`,`A ${p} ${p} 0 ${Ne} 1 ${W} ${$}`,"Z"].join(" "),qe=g+I/2,ee=p*.7,Ve=m+ee*Math.cos((qe-90)*Math.PI/180),mt=m+ee*Math.sin((qe-90)*Math.PI/180);E.push({path:Ze,color:so[b%so.length],labelX:Ve,labelY:mt,percentage:L.toFixed(0),name:y.name}),g=z}),C.jsxs("div",{className:"pie-chart-container",children:[C.jsx("svg",{viewBox:`0 0 ${h} ${h}`,className:"pie-chart-svg",children:E.map((y,b)=>C.jsxs(e_.Fragment,{children:[C.jsx("path",{d:y.path,fill:y.color,className:"pie-slice",children:C.jsxs("title",{children:[y.name,": ",y.percentage,"%"]})}),parseFloat(y.percentage)>5&&C.jsxs("text",{x:y.labelX,y:y.labelY,textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"12",fontWeight:"bold",style:{transform:"rotate(90deg)",transformOrigin:`${y.labelX}px ${y.labelY}px`},children:[y.percentage,"%"]})]},b))}),C.jsx("div",{className:"pie-legend",children:E.map((y,b)=>C.jsxs("div",{className:"legend-item",children:[C.jsx("div",{className:"stat-color-dot",style:{backgroundColor:y.color}}),C.jsxs("span",{children:[y.name," (",y.percentage,"%)"]})]},b))})]})},l=()=>{const f=t.cumulativeData;if(f.length===0)return null;const h=600,m=300,p=40,g=h-p*2,E=m-p*2,y=f[f.length-1].cumulative,b=Math.ceil(y/1e3)*1e3||1e3,L=f.map((q,F)=>{const W=p+F/(f.length-1||1)*g,$=m-p-q.cumulative/b*E;return{x:W,y:$,...q}}),I=L.map((q,F)=>`${F===0?"M":"L"} ${q.x} ${q.y}`).join(" "),z=`
      M ${p} ${m-p}
      L ${L[0].x} ${L[0].y}
      ${L.slice(1).map(q=>`L ${q.x} ${q.y}`).join(" ")}
      L ${L[L.length-1].x} ${m-p}
      Z
    `;return C.jsxs("svg",{viewBox:`0 0 ${h} ${m}`,style:{width:"100%",height:"auto"},children:[C.jsx("defs",{children:C.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[C.jsx("stop",{offset:"0%",style:{stopColor:"#8B5CF6",stopOpacity:.5}}),C.jsx("stop",{offset:"100%",style:{stopColor:"#8B5CF6",stopOpacity:0}})]})}),[0,.25,.5,.75,1].map((q,F)=>{const W=m-p-q*E;return C.jsxs(e_.Fragment,{children:[C.jsx("line",{x1:p,y1:W,x2:h-p,y2:W,stroke:"rgba(255,255,255,0.1)"}),C.jsx("text",{x:p-5,y:W,textAnchor:"end",fill:"rgba(255,255,255,0.5)",fontSize:"10",dominantBaseline:"middle",children:(q*b).toFixed(0)})]},F)}),C.jsx("path",{d:z,fill:"url(#chartGradient)"}),C.jsx("path",{d:I,fill:"none",stroke:"#8B5CF6",strokeWidth:"3"}),L.map((q,F)=>C.jsx("circle",{cx:q.x,cy:q.y,r:"3",fill:"#8B5CF6",children:C.jsxs("title",{children:[q.date,": ",q.cumulative.toFixed(0)," PLN"]})},F)),L.filter((q,F)=>F%Math.ceil(L.length/5)===0||F===L.length-1).map((q,F)=>C.jsx("text",{x:q.x,y:m-p+20,textAnchor:"middle",fill:"rgba(255,255,255,0.5)",fontSize:"10",children:q.date.split(".").slice(0,2).join(".")},F))]})},o=(f,h)=>{const m=f/h;return m<.33?`rgba(59, 130, 246, ${.3+m*.4})`:m<.66?`rgba(139, 92, 246, ${.7+(m-.33)*.2})`:`rgba(239, 68, 68, ${.9+(m-.66)*.1})`};return C.jsxs("div",{className:"dashboard-container animate-fade-in",children:[C.jsxs("div",{className:"summary-stats",children:[C.jsxs("div",{className:"stat-card",children:[C.jsx("div",{className:"stat-label",children:"Total Spent"}),C.jsxs("div",{className:"stat-value",children:[t.totalSpent.toFixed(0)," PLN"]})]}),C.jsxs("div",{className:"stat-card",children:[C.jsx("div",{className:"stat-label",children:"Average Check"}),C.jsxs("div",{className:"stat-value",children:[t.avgCheck.toFixed(0)," PLN"]})]}),C.jsxs("div",{className:"stat-card",children:[C.jsx("div",{className:"stat-label",children:"Total Items"}),C.jsx("div",{className:"stat-value",children:t.totalCount})]})]}),C.jsxs("div",{className:"dashboard-grid",children:[C.jsxs("div",{className:"card",children:[C.jsx("h3",{children:" Distribution by Type"}),i(),C.jsx("div",{className:"stats-list",children:t.sortedTypes.map((f,h)=>C.jsxs("div",{className:"stat-item",children:[C.jsxs("div",{className:"stat-name-group",children:[C.jsx("div",{className:"stat-color-dot",style:{backgroundColor:so[h%so.length]}}),C.jsx("span",{children:f.name})]}),C.jsxs("div",{className:"stat-amount-group",children:[C.jsxs("div",{className:"stat-item-amount",children:[f.value.toFixed(0)," PLN"]}),C.jsxs("div",{className:"stat-item-count",children:[f.count," items"]})]})]},h))})]}),C.jsxs("div",{className:"card",children:[C.jsx("h3",{children:" Cumulative Growth"}),l(),C.jsx("h3",{style:{marginTop:"2rem"},children:" Daily Expenses"}),C.jsx("div",{className:"calendar-grid",children:t.sortedDaily.map((f,h)=>C.jsxs("div",{className:"calendar-day",style:{backgroundColor:o(f.total,Math.max(...t.sortedDaily.map(m=>m.total)))},children:[C.jsx("div",{className:"calendar-date",children:f.date}),C.jsx("div",{className:"calendar-amount",children:f.total.toFixed(0)})]},h))}),C.jsxs("div",{className:"heatmap-legend",children:[C.jsx("span",{children:"Low"}),C.jsx("div",{className:"legend-gradient"}),C.jsx("span",{children:"High"})]})]}),C.jsxs("div",{className:"card",style:{gridColumn:"1 / -1"},children:[C.jsx("h3",{children:" Top 15 Expenses"}),C.jsx("div",{className:"top-expenses-list",children:t.topExpenses.map((f,h)=>C.jsxs("div",{className:"top-expense-item",children:[C.jsxs("div",{className:"top-expense-info",children:[C.jsxs("div",{className:"top-expense-name",children:[h+1,". ",f.name]}),C.jsxs("div",{className:"top-expense-meta",children:[f.date,"  ",f.type]})]}),C.jsxs("div",{className:"top-expense-amount",children:[f.amount," PLN"]})]},h))})]})]})]})},_b=({isOpen:a,title:t,message:i,onConfirm:l,onCancel:o,confirmText:f="Delete",cancelText:h="Cancel"})=>a?C.jsx("div",{className:"modal-backdrop",onClick:o,children:C.jsxs("div",{className:"modal-card",onClick:m=>m.stopPropagation(),children:[C.jsx("h2",{children:t}),C.jsx("p",{children:i}),C.jsxs("div",{className:"modal-actions",children:[C.jsx("button",{className:"secondary",onClick:o,children:h}),C.jsx("button",{className:"danger",onClick:l,children:f})]})]})}):null,yb=()=>{};var r_={};const gy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const H=function(a,t){if(!a)throw aa(t)},aa=function(a){return new Error("Firebase Database ("+gy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const _y=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++l)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},vb=function(a){const t=[];let i=0,l=0;for(;i<a.length;){const o=a[i++];if(o<128)t[l++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[i++];t[l++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[i++],h=a[i++],m=a[i++],p=((o&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;t[l++]=String.fromCharCode(55296+(p>>10)),t[l++]=String.fromCharCode(56320+(p&1023))}else{const f=a[i++],h=a[i++];t[l++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return t.join("")},lh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<a.length;o+=3){const f=a[o],h=o+1<a.length,m=h?a[o+1]:0,p=o+2<a.length,g=p?a[o+2]:0,E=f>>2,y=(f&3)<<4|m>>4;let b=(m&15)<<2|g>>6,L=g&63;p||(L=64,h||(b=64)),l.push(i[E],i[y],i[b],i[L])}return l.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(_y(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):vb(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<a.length;){const f=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const g=o<a.length?i[a.charAt(o)]:64;++o;const y=o<a.length?i[a.charAt(o)]:64;if(++o,f==null||m==null||g==null||y==null)throw new Sb;const b=f<<2|m>>4;if(l.push(b),g!==64){const L=m<<4&240|g>>2;if(l.push(L),y!==64){const I=g<<6&192|y;l.push(I)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Sb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yy=function(a){const t=_y(a);return lh.encodeByteArray(t,!0)},mo=function(a){return yy(a).replace(/\./g,"")},po=function(a){try{return lh.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Eb(a){return vy(void 0,a)}function vy(a,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!bb(i)||(a[i]=vy(a[i],t[i]));return a}function bb(a){return a!=="__proto__"}function Tb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Cb=()=>Tb().__FIREBASE_DEFAULTS__,Ab=()=>{if(typeof process>"u"||typeof r_>"u")return;const a=r_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Nb=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&po(a[1]);return t&&JSON.parse(t)},rh=()=>{try{return yb()||Cb()||Ab()||Nb()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Sy=a=>rh()?.emulatorHosts?.[a],wb=a=>{const t=Sy(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),l]:[t.substring(0,i),l]},Ey=()=>rh()?.config,by=a=>rh()?.[`_${a}`];class ko{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,l))}}}function la(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ty(a){return(await fetch(a,{credentials:"include"})).ok}function Rb(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=t||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[mo(JSON.stringify(i)),mo(JSON.stringify(h)),""].join(".")}const hl={};function Ob(){const a={prod:[],emulator:[]};for(const t of Object.keys(hl))hl[t]?a.emulator.push(t):a.prod.push(t);return a}function Db(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let o_=!1;function Cy(a,t){if(typeof window>"u"||typeof document>"u"||!la(window.location.host)||hl[a]===t||hl[a]||o_)return;hl[a]=t;function i(b){return`__firebase__banner__${b}`}const l="__firebase__banner",f=Ob().prod.length>0;function h(){const b=document.getElementById(l);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,L){b.setAttribute("width","24"),b.setAttribute("id",L),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{o_=!0,h()},b}function E(b,L){b.setAttribute("id",L),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=Db(l),L=i("text"),I=document.getElementById(L)||document.createElement("span"),z=i("learnmore"),q=document.getElementById(z)||document.createElement("a"),F=i("preprendIcon"),W=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const $=b.element;m($),E(q,z);const Ne=g();p(W,F),$.append(W,I,q,Ne),document.body.appendChild($)}f?(I.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function Mb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xb(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function Ay(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ib(){const a=dt();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function Ub(){return gy.NODE_ADMIN===!0}function Lb(){try{return typeof indexedDB=="object"}catch{return!1}}function kb(){return new Promise((a,t)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const zb="FirebaseError";class Oi extends Error{constructor(t,i,l){super(i),this.code=t,this.customData=l,this.name=zb,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(t,i,l){this.service=t,this.serviceName=i,this.errors=l}create(t,...i){const l=i[0]||{},o=`${this.service}/${t}`,f=this.errors[t],h=f?jb(f,l):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Oi(o,m,l)}}function jb(a,t){return a.replace(Hb,(i,l)=>{const o=t[l];return o!=null?String(o):`<${l}?>`})}const Hb=/\{\$([^}]+)}/g;function vl(a){return JSON.parse(a)}function Xe(a){return JSON.stringify(a)}const Ny=function(a){let t={},i={},l={},o="";try{const f=a.split(".");t=vl(po(f[0])||""),i=vl(po(f[1])||""),o=f[2],l=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:l,signature:o}},Bb=function(a){const t=Ny(a),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},qb=function(a){const t=Ny(a).claims;return typeof t=="object"&&t.admin===!0};function Hn(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function ea(a,t){if(Object.prototype.hasOwnProperty.call(a,t))return a[t]}function Hf(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function go(a,t,i){const l={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=t.call(i,a[o],o,a));return l}function es(a,t){if(a===t)return!0;const i=Object.keys(a),l=Object.keys(t);for(const o of i){if(!l.includes(o))return!1;const f=a[o],h=t[o];if(u_(f)&&u_(h)){if(!es(f,h))return!1}else if(f!==h)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function u_(a){return a!==null&&typeof a=="object"}function ra(a){const t=[];for(const[i,l]of Object.entries(a))Array.isArray(l)?l.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}class Vb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const l=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)l[y]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)l[y]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let y=16;y<80;y++){const b=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=(b<<1|b>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],p=this.chain_[4],g,E;for(let y=0;y<80;y++){y<40?y<20?(g=m^f&(h^m),E=1518500249):(g=f^h^m,E=1859775393):y<60?(g=f&h|m&(f|h),E=2400959708):(g=f^h^m,E=3395469782);const b=(o<<5|o>>>27)+g+p+E+l[y]&4294967295;p=m,m=h,h=(f<<30|f>>>2)&4294967295,f=o,o=b}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const l=i-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=l;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(f[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<i;)if(f[h]=t[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)t[l]=this.chain_[o]>>f&255,++l;return t}}function Gb(a,t){const i=new Pb(a,t);return i.subscribe.bind(i)}class Pb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,l){let o;if(t===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");Yb(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:l},o.next===void 0&&(o.next=bf),o.error===void 0&&(o.error=bf),o.complete===void 0&&(o.complete=bf);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),f}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yb(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function bf(){}function uh(a,t){return`${a} failed: ${t} argument `}const Fb=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);if(o>=55296&&o<=56319){const f=o-55296;l++,H(l<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(l)-56320;o=65536+(f<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},zo=function(a){let t=0;for(let i=0;i<a.length;i++){const l=a.charCodeAt(i);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,i++):t+=3}return t};function Qt(a){return a&&a._delegate?a._delegate:a}class ts{constructor(t,i,l){this.name=t,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Zi="[DEFAULT]";class Qb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const l=new ko;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),l=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Kb(t))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});l.resolve(f)}catch{}}}}clearInstance(t=Zi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zi){return this.instances.has(t)}getOptions(t=Zi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);l===m&&h.resolve(o)}return o}onInit(t,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(t),this.onInitCallbacks.set(l,o);const f=this.instances.get(l);return f&&t(f,l),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:Xb(t),options:i}),this.instances.set(t,l),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=Zi){return this.component?this.component.multipleInstances?t:Zi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xb(a){return a===Zi?void 0:a}function Kb(a){return a.instantiationMode==="EAGER"}class Zb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Qb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ae;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ae||(Ae={}));const Wb={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},Jb=Ae.INFO,$b={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},eT=(a,t,...i)=>{if(t<a.logLevel)return;const l=new Date().toISOString(),o=$b[t];if(o)console[o](`[${l}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ch{constructor(t){this.name=t,this._logLevel=Jb,this._logHandler=eT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Wb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...t),this._logHandler(this,Ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...t),this._logHandler(this,Ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...t),this._logHandler(this,Ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...t),this._logHandler(this,Ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...t),this._logHandler(this,Ae.ERROR,...t)}}const tT=(a,t)=>t.some(i=>a instanceof i);let c_,f_;function nT(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iT(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wy=new WeakMap,Bf=new WeakMap,Ry=new WeakMap,Tf=new WeakMap,fh=new WeakMap;function sT(a){const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",h)},f=()=>{i(yi(a.result)),o()},h=()=>{l(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&wy.set(i,a)}).catch(()=>{}),fh.set(t,a),t}function aT(a){if(Bf.has(a))return;const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",h),a.removeEventListener("abort",h)},f=()=>{i(),o()},h=()=>{l(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",h),a.addEventListener("abort",h)});Bf.set(a,t)}let qf={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Bf.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Ry.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return yi(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function lT(a){qf=a(qf)}function rT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const l=a.call(Cf(this),t,...i);return Ry.set(l,t.sort?t.sort():[t]),yi(l)}:iT().includes(a)?function(...t){return a.apply(Cf(this),t),yi(wy.get(this))}:function(...t){return yi(a.apply(Cf(this),t))}}function oT(a){return typeof a=="function"?rT(a):(a instanceof IDBTransaction&&aT(a),tT(a,nT())?new Proxy(a,qf):a)}function yi(a){if(a instanceof IDBRequest)return sT(a);if(Tf.has(a))return Tf.get(a);const t=oT(a);return t!==a&&(Tf.set(a,t),fh.set(t,a)),t}const Cf=a=>fh.get(a);function uT(a,t,{blocked:i,upgrade:l,blocking:o,terminated:f}={}){const h=indexedDB.open(a,t),m=yi(h);return l&&h.addEventListener("upgradeneeded",p=>{l(yi(h.result),p.oldVersion,p.newVersion,yi(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{f&&p.addEventListener("close",()=>f()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const cT=["get","getKey","getAll","getAllKeys","count"],fT=["put","add","delete","clear"],Af=new Map;function h_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Af.get(t))return Af.get(t);const i=t.replace(/FromIndex$/,""),l=t!==i,o=fT.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||cT.includes(i)))return;const f=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return l&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return Af.set(t,f),f}lT(a=>({...a,get:(t,i,l)=>h_(t,i)||a.get(t,i,l),has:(t,i)=>!!h_(t,i)||a.has(t,i)}));class hT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(dT(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function dT(a){return a.getComponent()?.type==="VERSION"}const Vf="@firebase/app",d_="0.14.6";const Ln=new ch("@firebase/app"),mT="@firebase/app-compat",pT="@firebase/analytics-compat",gT="@firebase/analytics",_T="@firebase/app-check-compat",yT="@firebase/app-check",vT="@firebase/auth",ST="@firebase/auth-compat",ET="@firebase/database",bT="@firebase/data-connect",TT="@firebase/database-compat",CT="@firebase/functions",AT="@firebase/functions-compat",NT="@firebase/installations",wT="@firebase/installations-compat",RT="@firebase/messaging",OT="@firebase/messaging-compat",DT="@firebase/performance",MT="@firebase/performance-compat",xT="@firebase/remote-config",IT="@firebase/remote-config-compat",UT="@firebase/storage",LT="@firebase/storage-compat",kT="@firebase/firestore",zT="@firebase/ai",jT="@firebase/firestore-compat",HT="firebase",BT="12.6.0";const Gf="[DEFAULT]",qT={[Vf]:"fire-core",[mT]:"fire-core-compat",[gT]:"fire-analytics",[pT]:"fire-analytics-compat",[yT]:"fire-app-check",[_T]:"fire-app-check-compat",[vT]:"fire-auth",[ST]:"fire-auth-compat",[ET]:"fire-rtdb",[bT]:"fire-data-connect",[TT]:"fire-rtdb-compat",[CT]:"fire-fn",[AT]:"fire-fn-compat",[NT]:"fire-iid",[wT]:"fire-iid-compat",[RT]:"fire-fcm",[OT]:"fire-fcm-compat",[DT]:"fire-perf",[MT]:"fire-perf-compat",[xT]:"fire-rc",[IT]:"fire-rc-compat",[UT]:"fire-gcs",[LT]:"fire-gcs-compat",[kT]:"fire-fst",[jT]:"fire-fst-compat",[zT]:"fire-vertex","fire-js":"fire-js",[HT]:"fire-js-all"};const _o=new Map,VT=new Map,Pf=new Map;function m_(a,t){try{a.container.addComponent(t)}catch(i){Ln.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function ta(a){const t=a.name;if(Pf.has(t))return Ln.debug(`There were multiple attempts to register component ${t}.`),!1;Pf.set(t,a);for(const i of _o.values())m_(i,a);for(const i of VT.values())m_(i,a);return!0}function hh(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Jt(a){return a==null?!1:a.settings!==void 0}const GT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new Dl("app","Firebase",GT);class PT{constructor(t,i,l){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}const oa=BT;function Oy(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const l={name:Gf,automaticDataCollectionEnabled:!0,...t},o=l.name;if(typeof o!="string"||!o)throw vi.create("bad-app-name",{appName:String(o)});if(i||(i=Ey()),!i)throw vi.create("no-options");const f=_o.get(o);if(f){if(es(i,f.options)&&es(l,f.config))return f;throw vi.create("duplicate-app",{appName:o})}const h=new Zb(o);for(const p of Pf.values())h.addComponent(p);const m=new PT(i,l,h);return _o.set(o,m),m}function Dy(a=Gf){const t=_o.get(a);if(!t&&a===Gf&&Ey())return Oy();if(!t)throw vi.create("no-app",{appName:a});return t}function Si(a,t,i){let l=qT[a]??a;i&&(l+=`-${i}`);const o=l.match(/\s|\//),f=t.match(/\s|\//);if(o||f){const h=[`Unable to register library "${l}" with version "${t}":`];o&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&f&&h.push("and"),f&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ln.warn(h.join(" "));return}ta(new ts(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}const YT="firebase-heartbeat-database",FT=1,Sl="firebase-heartbeat-store";let Nf=null;function My(){return Nf||(Nf=uT(YT,FT,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Sl)}catch(i){console.warn(i)}}}}).catch(a=>{throw vi.create("idb-open",{originalErrorMessage:a.message})})),Nf}async function QT(a){try{const i=(await My()).transaction(Sl),l=await i.objectStore(Sl).get(xy(a));return await i.done,l}catch(t){if(t instanceof Oi)Ln.warn(t.message);else{const i=vi.create("idb-get",{originalErrorMessage:t?.message});Ln.warn(i.message)}}}async function p_(a,t){try{const l=(await My()).transaction(Sl,"readwrite");await l.objectStore(Sl).put(t,xy(a)),await l.done}catch(i){if(i instanceof Oi)Ln.warn(i.message);else{const l=vi.create("idb-set",{originalErrorMessage:i?.message});Ln.warn(l.message)}}}function xy(a){return`${a.name}!${a.options.appId}`}const XT=1024,KT=30;class ZT{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new JT(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=g_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>KT){const o=$T(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ln.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=g_(),{heartbeatsToSend:i,unsentEntries:l}=WT(this._heartbeatsCache.heartbeats),o=mo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ln.warn(t),""}}}function g_(){return new Date().toISOString().substring(0,10)}function WT(a,t=XT){const i=[];let l=a.slice();for(const o of a){const f=i.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),__(i)>t){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),__(i)>t){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class JT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lb()?kb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await QT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return p_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return p_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function __(a){return mo(JSON.stringify({version:2,heartbeats:a})).length}function $T(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let l=1;l<a.length;l++)a[l].date<i&&(i=a[l].date,t=l);return t}function e1(a){ta(new ts("platform-logger",t=>new hT(t),"PRIVATE")),ta(new ts("heartbeat",t=>new ZT(t),"PRIVATE")),Si(Vf,d_,a),Si(Vf,d_,"esm2020"),Si("fire-js","")}e1("");var t1="firebase",n1="12.7.0";Si(t1,n1,"app");var y_={};const v_="@firebase/database",S_="1.1.0";let Iy="";function i1(a){Iy=a}class s1{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Xe(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:vl(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class a1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Hn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Uy=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const t=window[a];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new s1(t)}}catch{}return new a1},Ji=Uy("localStorage"),l1=Uy("sessionStorage");const Ks=new ch("@firebase/database"),r1=(function(){let a=1;return function(){return a++}})(),Ly=function(a){const t=Fb(a),i=new Vb;i.update(t);const l=i.digest();return lh.encodeByteArray(l)},Ml=function(...a){let t="";for(let i=0;i<a.length;i++){const l=a[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=Ml.apply(null,l):typeof l=="object"?t+=Xe(l):t+=l,t+=" "}return t};let dl=null,E_=!0;const o1=function(a,t){H(!0,"Can't turn on custom loggers persistently."),Ks.logLevel=Ae.VERBOSE,dl=Ks.log.bind(Ks)},ut=function(...a){if(E_===!0&&(E_=!1,dl===null&&l1.get("logging_enabled")===!0&&o1()),dl){const t=Ml.apply(null,a);dl(t)}},xl=function(a){return function(...t){ut(a,...t)}},Yf=function(...a){const t="FIREBASE INTERNAL ERROR: "+Ml(...a);Ks.error(t)},kn=function(...a){const t=`FIREBASE FATAL ERROR: ${Ml(...a)}`;throw Ks.error(t),new Error(t)},Tt=function(...a){const t="FIREBASE WARNING: "+Ml(...a);Ks.warn(t)},u1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ky=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},c1=function(a){if(document.readyState==="complete")a();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},na="[MIN_NAME]",ns="[MAX_NAME]",ua=function(a,t){if(a===t)return 0;if(a===na||t===ns)return-1;if(t===na||a===ns)return 1;{const i=b_(a),l=b_(t);return i!==null?l!==null?i-l===0?a.length-t.length:i-l:-1:l!==null?1:a<t?-1:1}},f1=function(a,t){return a===t?0:a<t?-1:1},ol=function(a,t){if(t&&a in t)return t[a];throw new Error("Missing required key ("+a+") in object: "+Xe(t))},dh=function(a){if(typeof a!="object"||a===null)return Xe(a);const t=[];for(const l in a)t.push(l);t.sort();let i="{";for(let l=0;l<t.length;l++)l!==0&&(i+=","),i+=Xe(t[l]),i+=":",i+=dh(a[t[l]]);return i+="}",i},zy=function(a,t){const i=a.length;if(i<=t)return[a];const l=[];for(let o=0;o<i;o+=t)o+t>i?l.push(a.substring(o,i)):l.push(a.substring(o,o+t));return l};function Ct(a,t){for(const i in a)a.hasOwnProperty(i)&&t(i,a[i])}const jy=function(a){H(!ky(a),"Invalid JSON number");const t=11,i=52,l=(1<<t-1)-1;let o,f,h,m,p;a===0?(f=0,h=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),l),f=m+l,h=Math.round(a*Math.pow(2,i-m)-Math.pow(2,i))):(f=0,h=Math.round(a/Math.pow(2,1-l-i))));const g=[];for(p=i;p;p-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(p=t;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(o?1:0),g.reverse();const E=g.join("");let y="";for(p=0;p<64;p+=8){let b=parseInt(E.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),y=y+b}return y.toLowerCase()},h1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},d1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function m1(a,t){let i="Unknown Error";a==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?i="Client doesn't have permission to access the desired data.":a==="unavailable"&&(i="The service is unavailable");const l=new Error(a+" at "+t._path.toString()+": "+i);return l.code=a.toUpperCase(),l}const p1=new RegExp("^-?(0*)\\d{1,10}$"),g1=-2147483648,_1=2147483647,b_=function(a){if(p1.test(a)){const t=Number(a);if(t>=g1&&t<=_1)return t}return null},ca=function(a){try{a()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Tt("Exception was thrown by user callback.",i),t},Math.floor(0))}},y1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ml=function(a,t){const i=setTimeout(a,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class v1{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,Jt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class S1{constructor(t,i,l){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(t)}}class oo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}oo.OWNER="owner";const mh="5",Hy="v",By="s",qy="r",Vy="f",Gy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Py="ls",Yy="p",Ff="ac",Fy="websocket",Qy="long_polling";class Xy{constructor(t,i,l,o,f=!1,h="",m=!1,p=!1,g=null){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ji.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ji.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function E1(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function Ky(a,t,i){H(typeof t=="string","typeof type must == string"),H(typeof i=="object","typeof params must == object");let l;if(t===Fy)l=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(t===Qy)l=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);E1(a)&&(i.ns=a.namespace);const o=[];return Ct(i,(f,h)=>{o.push(f+"="+h)}),l+o.join("&")}class b1{constructor(){this.counters_={}}incrementCounter(t,i=1){Hn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return Eb(this.counters_)}}const wf={},Rf={};function ph(a){const t=a.toString();return wf[t]||(wf[t]=new b1),wf[t]}function T1(a,t){const i=a.toString();return Rf[i]||(Rf[i]=t()),Rf[i]}class C1{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&ca(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const T_="start",A1="close",N1="pLPCommand",w1="pRTLPCB",Zy="id",Wy="pw",Jy="ser",R1="cb",O1="seg",D1="ts",M1="d",x1="dframe",$y=1870,ev=30,I1=$y-ev,U1=25e3,L1=3e4;class Qs{constructor(t,i,l,o,f,h,m){this.connId=t,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xl(t),this.stats_=ph(i),this.urlFn=p=>(this.appCheckToken&&(p[Ff]=this.appCheckToken),Ky(i,Qy,p))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new C1(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(L1)),c1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gh((...f)=>{const[h,m,p,g,E]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===T_)this.id=m,this.password=p;else if(h===A1)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[T_]="t",l[Jy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[R1]=this.scriptTagHolder.uniqueCallbackIdentifier),l[Hy]=mh,this.transportSessionId&&(l[By]=this.transportSessionId),this.lastSessionId&&(l[Py]=this.lastSessionId),this.applicationId&&(l[Yy]=this.applicationId),this.appCheckToken&&(l[Ff]=this.appCheckToken),typeof location<"u"&&location.hostname&&Gy.test(location.hostname)&&(l[qy]=Vy);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qs.forceAllow_=!0}static forceDisallow(){Qs.forceDisallow_=!0}static isAvailable(){return Qs.forceAllow_?!0:!Qs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!h1()&&!d1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Xe(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=yy(i),o=zy(l,I1);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[x1]="t",l[Zy]=t,l[Wy]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Xe(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class gh{constructor(t,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=r1(),window[N1+this.uniqueCallbackIdentifier]=t,window[w1+this.uniqueCallbackIdentifier]=i,this.myIFrame=gh.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){ut("frame writing exception"),m.stack&&ut(m.stack),ut(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ut("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Zy]=this.myID,t[Wy]=this.myPW,t[Jy]=this.currentSerial;let i=this.urlFn(t),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ev+l.length<=$y;){const h=this.pendingSegs.shift();l=l+"&"+O1+o+"="+h.seg+"&"+D1+o+"="+h.ts+"&"+M1+o+"="+h.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,l){this.pendingSegs.push({seg:t,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(U1)),f=()=>{clearTimeout(o),l()};this.addTag(t,f)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{ut("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}const k1=16384,z1=45e3;let yo=null;typeof MozWebSocket<"u"?yo=MozWebSocket:typeof WebSocket<"u"&&(yo=WebSocket);class $t{constructor(t,i,l,o,f,h,m){this.connId=t,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xl(this.connId),this.stats_=ph(i),this.connURL=$t.connectionURL_(i,h,m,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,l,o,f){const h={};return h[Hy]=mh,typeof location<"u"&&location.hostname&&Gy.test(location.hostname)&&(h[qy]=Vy),i&&(h[By]=i),l&&(h[Py]=l),o&&(h[Ff]=o),f&&(h[Yy]=f),Ky(t,Fy,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ji.set("previous_websocket_failure",!0);try{let l;Ub(),this.mySock=new yo(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){$t.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&yo!==null&&!$t.forceDisallow_}static previouslyFailed(){return Ji.isInMemoryStorage||Ji.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ji.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=vl(i);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(H(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const i=Xe(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=zy(i,k1);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(z1))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$t.responsesRequiredToBeHealthy=2;$t.healthyTimeout=3e4;class El{static get ALL_TRANSPORTS(){return[Qs,$t]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=$t&&$t.isAvailable();let l=i&&!$t.previouslyFailed();if(t.webSocketOnly&&(i||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[$t];else{const o=this.transports_=[];for(const f of El.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);El.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}El.globalTransportInitialized_=!1;const j1=6e4,H1=5e3,B1=10*1024,q1=100*1024,Of="t",C_="d",V1="s",A_="r",G1="e",N_="o",w_="a",R_="n",O_="p",P1="h";class Y1{constructor(t,i,l,o,f,h,m,p,g,E){this.id=t,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xl("c:"+this.id+":"),this.transportManager_=new El(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=ml(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>q1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>B1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Of in t){const i=t[Of];i===w_?this.upgradeIfSecondaryHealthy_():i===A_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===N_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=ol("t",t),l=ol("d",t);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:O_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:w_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:R_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=ol("t",t),l=ol("d",t);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=ol(Of,t);if(C_ in t){const l=t[C_];if(i===P1){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===R_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===V1?this.onConnectionShutdown_(l):i===A_?this.onReset_(l):i===G1?Yf("Server Error: "+l):i===N_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yf("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,l=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),mh!==l&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),ml(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(j1))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ml(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(H1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:O_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ji.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class tv{put(t,i,l,o){}merge(t,i,l,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,l){}onDisconnectMerge(t,i,l){}onDisconnectCancel(t,i){}reportStats(t){}}class nv{constructor(t){this.allowedEvents_=t,this.listeners_={},H(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(t,i,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:l});const o=this.getInitialEvent(t);o&&i.apply(l,o)}off(t,i,l){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let f=0;f<o.length;f++)if(o[f].callback===i&&(!l||l===o[f].context)){o.splice(f,1);return}}validateEventType_(t){H(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class vo extends nv{static getInstance(){return new vo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!oh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return H(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const D_=32,M_=768;class Re{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function pe(){return new Re("")}function fe(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function Ai(a){return a.pieces_.length-a.pieceNum_}function De(a){let t=a.pieceNum_;return t<a.pieces_.length&&t++,new Re(a.pieces_,t)}function iv(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function F1(a){let t="";for(let i=a.pieceNum_;i<a.pieces_.length;i++)a.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(a.pieces_[i])));return t||"/"}function sv(a,t=0){return a.pieces_.slice(a.pieceNum_+t)}function av(a){if(a.pieceNum_>=a.pieces_.length)return null;const t=[];for(let i=a.pieceNum_;i<a.pieces_.length-1;i++)t.push(a.pieces_[i]);return new Re(t,0)}function Ke(a,t){const i=[];for(let l=a.pieceNum_;l<a.pieces_.length;l++)i.push(a.pieces_[l]);if(t instanceof Re)for(let l=t.pieceNum_;l<t.pieces_.length;l++)i.push(t.pieces_[l]);else{const l=t.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new Re(i,0)}function oe(a){return a.pieceNum_>=a.pieces_.length}function ht(a,t){const i=fe(a),l=fe(t);if(i===null)return t;if(i===l)return ht(De(a),De(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+a+")")}function lv(a,t){if(Ai(a)!==Ai(t))return!1;for(let i=a.pieceNum_,l=t.pieceNum_;i<=a.pieces_.length;i++,l++)if(a.pieces_[i]!==t.pieces_[l])return!1;return!0}function en(a,t){let i=a.pieceNum_,l=t.pieceNum_;if(Ai(a)>Ai(t))return!1;for(;i<a.pieces_.length;){if(a.pieces_[i]!==t.pieces_[l])return!1;++i,++l}return!0}class Q1{constructor(t,i){this.errorPrefix_=i,this.parts_=sv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=zo(this.parts_[l]);rv(this)}}function X1(a,t){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(t),a.byteLength_+=zo(t),rv(a)}function K1(a){const t=a.parts_.pop();a.byteLength_-=zo(t),a.parts_.length>0&&(a.byteLength_-=1)}function rv(a){if(a.byteLength_>M_)throw new Error(a.errorPrefix_+"has a key path longer than "+M_+" bytes ("+a.byteLength_+").");if(a.parts_.length>D_)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+D_+") or object contains a cycle "+Wi(a))}function Wi(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class _h extends nv{static getInstance(){return new _h}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return H(t==="visible","Unknown event type: "+t),[this.visible_]}}const ul=1e3,Z1=300*1e3,x_=30*1e3,W1=1.3,J1=3e4,$1="server_kill",I_=3;class Un extends tv{constructor(t,i,l,o,f,h,m,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=Un.nextPersistentConnectionId_++,this.log_=xl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ul,this.maxReconnectDelay_=Z1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_h.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&vo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,l){const o=++this.requestNumber_,f={r:o,a:t,b:i};this.log_(Xe(f)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),l&&(this.requestCBHash_[o]=l)}get(t){this.initConnection_();const i=new ko,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),i.promise}listen(t,i,l,o){this.initConnection_();const f=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:l};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(t){const i=t.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const f={p:l},h="q";t.tag&&(f.q=i._queryObject,f.t=t.tag),f.h=t.hashFn(),this.sendRequest(h,f,m=>{const p=m.d,g=m.s;Un.warnOnListenWarnings_(p,i),(this.listens.get(l)&&this.listens.get(l).get(o))===t&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(l,o),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Hn(t,"w")){const l=ea(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||qb(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=x_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=Bb(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const f=o.s,h=o.d||"error";this.authToken_===t&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,l=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(t,i){const l=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,t._queryObject,i)}sendUnlisten_(t,i,l,o){this.log_("Unlisten on "+t+" for "+i);const f={p:t},h="n";o&&(f.q=l,f.t=o),this.sendRequest(h,f)}onDisconnectPut(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:l})}onDisconnectMerge(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:l})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,l,o){const f={p:i,d:l};this.log_("onDisconnect "+t,f),this.sendRequest(t,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,l,o){this.putInternal("p",t,i,l,o)}merge(t,i,l,o){this.putInternal("m",t,i,l,o)}putInternal(t,i,l,o,f){this.initConnection_();const h={p:i,d:l};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,l,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const f=l.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Xe(t));const i=t.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Yf("Unrecognized action received from server: "+Xe(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ul,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ul,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>J1&&(this.reconnectDelay_=ul),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*W1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Un.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const p=function(){m?m.close():(h=!0,l())},g=function(y){H(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(y)};this.realtime_={close:p,sendRequest:g};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,b]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);h?ut("getToken() completed but was canceled"):(ut("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=b&&b.token,m=new Y1(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,l,L=>{Tt(L+" ("+this.repoInfo_.toString()+")"),this.interrupt($1)},f))}catch(y){this.log_("Failed to get token: "+y),h||(this.repoInfo_.nodeAdmin&&Tt(y),p())}}}interrupt(t){ut("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ut("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Hf(this.interruptReasons_)&&(this.reconnectDelay_=ul,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let l;i?l=i.map(f=>dh(f)).join("$"):l="default";const o=this.removeListen_(t,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const l=new Re(t).toString();let o;if(this.listens.has(l)){const f=this.listens.get(l);o=f.get(i),f.delete(i),f.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(t,i){ut("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=I_&&(this.reconnectDelay_=x_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ut("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=I_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Iy.replace(/\./g,"-")]=1,oh()?t["framework.cordova"]=1:Ay()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=vo.getInstance().currentlyOnline();return Hf(this.interruptReasons_)&&t}}Un.nextPersistentConnectionId_=0;Un.nextConnectionId_=0;class se{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new se(t,i)}}class jo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const l=new se(na,t),o=new se(na,i);return this.compare(l,o)!==0}minPost(){return se.MIN}}let ao;class ov extends jo{static get __EMPTY_NODE(){return ao}static set __EMPTY_NODE(t){ao=t}compare(t,i){return ua(t.name,i.name)}isDefinedOn(t){throw aa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return se.MIN}maxPost(){return new se(ns,ao)}makePost(t,i){return H(typeof t=="string","KeyIndex indexValue must always be a string."),new se(t,ao)}toString(){return".key"}}const Zs=new ov;class lo{constructor(t,i,l,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?l(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class et{constructor(t,i,l,o,f){this.key=t,this.value=i,this.color=l??et.RED,this.left=o??bt.EMPTY_NODE,this.right=f??bt.EMPTY_NODE}copy(t,i,l,o,f){return new et(t??this.key,i??this.value,l??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,l){let o=this;const f=l(t,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(t,i,l),null):f===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return bt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let l,o;if(l=this,i(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(t,l.key)===0){if(l.right.isEmpty())return bt.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}et.RED=!0;et.BLACK=!1;class eC{copy(t,i,l,o,f){return this}insert(t,i,l){return new et(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class bt{constructor(t,i=bt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new bt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,et.BLACK,null,null))}remove(t){return new bt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,et.BLACK,null,null))}get(t){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(t,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(t){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(t,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new lo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new lo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new lo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new lo(this.root_,null,this.comparator_,!0,t)}}bt.EMPTY_NODE=new eC;function tC(a,t){return ua(a.name,t.name)}function yh(a,t){return ua(a,t)}let Qf;function nC(a){Qf=a}const uv=function(a){return typeof a=="number"?"number:"+jy(a):"string:"+a},cv=function(a){if(a.isLeafNode()){const t=a.val();H(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Hn(t,".sv"),"Priority must be a string or number.")}else H(a===Qf||a.isEmpty(),"priority of unexpected type.");H(a===Qf||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let U_;class $e{static set __childrenNodeConstructor(t){U_=t}static get __childrenNodeConstructor(){return U_}constructor(t,i=$e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),cv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new $e(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return oe(t)?this:fe(t)===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:$e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const l=fe(t);return l===null?i:i.isEmpty()&&l!==".priority"?this:(H(l!==".priority"||Ai(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,$e.__childrenNodeConstructor.EMPTY_NODE.updateChild(De(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+uv(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=jy(this.value_):t+=this.value_,this.lazyHash_=Ly(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===$e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof $e.__childrenNodeConstructor?-1:(H(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,l=typeof this.value_,o=$e.VALUE_TYPE_ORDER.indexOf(i),f=$e.VALUE_TYPE_ORDER.indexOf(l);return H(o>=0,"Unknown leaf type: "+i),H(f>=0,"Unknown leaf type: "+l),o===f?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}$e.VALUE_TYPE_ORDER=["object","boolean","number","string"];let fv,hv;function iC(a){fv=a}function sC(a){hv=a}class aC extends jo{compare(t,i){const l=t.node.getPriority(),o=i.node.getPriority(),f=l.compareTo(o);return f===0?ua(t.name,i.name):f}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return se.MIN}maxPost(){return new se(ns,new $e("[PRIORITY-POST]",hv))}makePost(t,i){const l=fv(t);return new se(i,new $e("[PRIORITY-POST]",l))}toString(){return".priority"}}const ze=new aC;const lC=Math.log(2);class rC{constructor(t){const i=f=>parseInt(Math.log(f)/lC,10),l=f=>parseInt(Array(f+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=l(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const So=function(a,t,i,l){a.sort(t);const o=function(p,g){const E=g-p;let y,b;if(E===0)return null;if(E===1)return y=a[p],b=i?i(y):y,new et(b,y.node,et.BLACK,null,null);{const L=parseInt(E/2,10)+p,I=o(p,L),z=o(L+1,g);return y=a[L],b=i?i(y):y,new et(b,y.node,et.BLACK,I,z)}},f=function(p){let g=null,E=null,y=a.length;const b=function(I,z){const q=y-I,F=y;y-=I;const W=o(q+1,F),$=a[q],Ne=i?i($):$;L(new et(Ne,$.node,z,null,W))},L=function(I){g?(g.left=I,g=I):(E=I,g=I)};for(let I=0;I<p.count;++I){const z=p.nextBitIsOne(),q=Math.pow(2,p.count-(I+1));z?b(q,et.BLACK):(b(q,et.BLACK),b(q,et.RED))}return E},h=new rC(a.length),m=f(h);return new bt(l||t,m)};let Df;const Fs={};class Mn{static get Default(){return H(Fs&&ze,"ChildrenNode.ts has not been loaded"),Df=Df||new Mn({".priority":Fs},{".priority":ze}),Df}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=ea(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof bt?i:null}hasIndex(t){return Hn(this.indexSet_,t.toString())}addIndex(t,i){H(t!==Zs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const f=i.getIterator(se.Wrap);let h=f.getNext();for(;h;)o=o||t.isDefinedOn(h.node),l.push(h),h=f.getNext();let m;o?m=So(l,t.getCompare()):m=Fs;const p=t.toString(),g={...this.indexSet_};g[p]=t;const E={...this.indexes_};return E[p]=m,new Mn(E,g)}addToIndexes(t,i){const l=go(this.indexes_,(o,f)=>{const h=ea(this.indexSet_,f);if(H(h,"Missing index implementation for "+f),o===Fs)if(h.isDefinedOn(t.node)){const m=[],p=i.getIterator(se.Wrap);let g=p.getNext();for(;g;)g.name!==t.name&&m.push(g),g=p.getNext();return m.push(t),So(m,h.getCompare())}else return Fs;else{const m=i.get(t.name);let p=o;return m&&(p=p.remove(new se(t.name,m))),p.insert(t,t.node)}});return new Mn(l,this.indexSet_)}removeFromIndexes(t,i){const l=go(this.indexes_,o=>{if(o===Fs)return o;{const f=i.get(t.name);return f?o.remove(new se(t.name,f)):o}});return new Mn(l,this.indexSet_)}}let cl;class K{static get EMPTY_NODE(){return cl||(cl=new K(new bt(yh),null,Mn.Default))}constructor(t,i,l){this.children_=t,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&cv(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cl}updatePriority(t){return this.children_.isEmpty()?this:new K(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?cl:i}}getChild(t){const i=fe(t);return i===null?this:this.getImmediateChild(i).getChild(De(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(H(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const l=new se(t,i);let o,f;i.isEmpty()?(o=this.children_.remove(t),f=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(t,i),f=this.indexMap_.addToIndexes(l,this.children_));const h=o.isEmpty()?cl:this.priorityNode_;return new K(o,h,f)}}updateChild(t,i){const l=fe(t);if(l===null)return i;{H(fe(t)!==".priority"||Ai(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(De(t),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let l=0,o=0,f=!0;if(this.forEachChild(ze,(h,m)=>{i[h]=m.val(t),l++,f&&K.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!t&&f&&o<2*l){const h=[];for(const m in i)h[m]=i[m];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+uv(this.getPriority().val())+":"),this.forEachChild(ze,(i,l)=>{const o=l.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Ly(t)}return this.lazyHash_}getPredecessorChildName(t,i,l){const o=this.resolveIndex_(l);if(o){const f=o.getPredecessorKey(new se(t,i));return f?f.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new se(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new se(i,this.children_.get(i)):null}forEachChild(t,i){const l=this.resolveIndex_(t);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,se.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,se.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)>0;)o.getNext(),f=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Il?-1:0}withIndex(t){if(t===Zs||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new K(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Zs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator(ze),o=i.getIterator(ze);let f=l.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=l.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===Zs?null:this.indexMap_.get(t.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class oC extends K{constructor(){super(new bt(yh),K.EMPTY_NODE,Mn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return K.EMPTY_NODE}isEmpty(){return!1}}const Il=new oC;Object.defineProperties(se,{MIN:{value:new se(na,K.EMPTY_NODE)},MAX:{value:new se(ns,Il)}});ov.__EMPTY_NODE=K.EMPTY_NODE;$e.__childrenNodeConstructor=K;nC(Il);sC(Il);const uC=!0;function tt(a,t=null){if(a===null)return K.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(t=a[".priority"]),H(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const i=a;return new $e(i,tt(t))}if(!(a instanceof Array)&&uC){const i=[];let l=!1;if(Ct(a,(h,m)=>{if(h.substring(0,1)!=="."){const p=tt(m);p.isEmpty()||(l=l||!p.getPriority().isEmpty(),i.push(new se(h,p)))}}),i.length===0)return K.EMPTY_NODE;const f=So(i,tC,h=>h.name,yh);if(l){const h=So(i,ze.getCompare());return new K(f,tt(t),new Mn({".priority":h},{".priority":ze}))}else return new K(f,tt(t),Mn.Default)}else{let i=K.EMPTY_NODE;return Ct(a,(l,o)=>{if(Hn(a,l)&&l.substring(0,1)!=="."){const f=tt(o);(f.isLeafNode()||!f.isEmpty())&&(i=i.updateImmediateChild(l,f))}}),i.updatePriority(tt(t))}}iC(tt);class cC extends jo{constructor(t){super(),this.indexPath_=t,H(!oe(t)&&fe(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const l=this.extractChild(t.node),o=this.extractChild(i.node),f=l.compareTo(o);return f===0?ua(t.name,i.name):f}makePost(t,i){const l=tt(t),o=K.EMPTY_NODE.updateChild(this.indexPath_,l);return new se(i,o)}maxPost(){const t=K.EMPTY_NODE.updateChild(this.indexPath_,Il);return new se(ns,t)}toString(){return sv(this.indexPath_,0).join("/")}}class fC extends jo{compare(t,i){const l=t.node.compareTo(i.node);return l===0?ua(t.name,i.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(t,i){const l=tt(t);return new se(i,l)}toString(){return".value"}}const hC=new fC;function dv(a){return{type:"value",snapshotNode:a}}function ia(a,t){return{type:"child_added",snapshotNode:t,childName:a}}function bl(a,t){return{type:"child_removed",snapshotNode:t,childName:a}}function Tl(a,t,i){return{type:"child_changed",snapshotNode:t,childName:a,oldSnap:i}}function dC(a,t){return{type:"child_moved",snapshotNode:t,childName:a}}class vh{constructor(t){this.index_=t}updateChild(t,i,l,o,f,h){H(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(h!=null&&(l.isEmpty()?t.hasChild(i)?h.trackChildChange(bl(i,m)):H(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(ia(i,l)):h.trackChildChange(Tl(i,l,m))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(t,i,l){return l!=null&&(t.isLeafNode()||t.forEachChild(ze,(o,f)=>{i.hasChild(o)||l.trackChildChange(bl(o,f))}),i.isLeafNode()||i.forEachChild(ze,(o,f)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(f)||l.trackChildChange(Tl(o,f,h))}else l.trackChildChange(ia(o,f))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?K.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Cl{constructor(t){this.indexedFilter_=new vh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Cl.getStartPost_(t),this.endPost_=Cl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&l}updateChild(t,i,l,o,f,h){return this.matches(new se(i,l))||(l=K.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,l,o,f,h)}updateFullNode(t,i,l){i.isLeafNode()&&(i=K.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(K.EMPTY_NODE);const f=this;return i.forEachChild(ze,(h,m)=>{f.matches(new se(h,m))||(o=o.updateImmediateChild(h,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class mC{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Cl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,l,o,f,h){return this.rangedFilter_.matches(new se(i,l))||(l=K.EMPTY_NODE),t.getImmediateChild(i).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,l,o,f,h):this.fullLimitUpdateChild_(t,i,l,f,h)}updateFullNode(t,i,l){let o;if(i.isLeafNode()||i.isEmpty())o=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=K.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(K.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,l,o,f){let h;if(this.reverse_){const y=this.index_.getCompare();h=(b,L)=>y(L,b)}else h=this.index_.getCompare();const m=t;H(m.numChildren()===this.limit_,"");const p=new se(i,l),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(m.hasChild(i)){const y=m.getImmediateChild(i);let b=o.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===i||m.hasChild(b.name));)b=o.getChildAfterChild(this.index_,b,this.reverse_);const L=b==null?1:h(b,p);if(E&&!l.isEmpty()&&L>=0)return f?.trackChildChange(Tl(i,l,y)),m.updateImmediateChild(i,l);{f?.trackChildChange(bl(i,y));const z=m.updateImmediateChild(i,K.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(f?.trackChildChange(ia(b.name,b.node)),z.updateImmediateChild(b.name,b.node)):z}}else return l.isEmpty()?t:E&&h(g,p)>=0?(f!=null&&(f.trackChildChange(bl(g.name,g.node)),f.trackChildChange(ia(i,l))),m.updateImmediateChild(i,l).updateImmediateChild(g.name,K.EMPTY_NODE)):t}}class Sh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:na}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ns}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){const t=new Sh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function pC(a){return a.loadsAllData()?new vh(a.getIndex()):a.hasLimit()?new mC(a):new Cl(a)}function L_(a){const t={};if(a.isDefault())return t;let i;if(a.index_===ze?i="$priority":a.index_===hC?i="$value":a.index_===Zs?i="$key":(H(a.index_ instanceof cC,"Unrecognized index type!"),i=a.index_.toString()),t.orderBy=Xe(i),a.startSet_){const l=a.startAfterSet_?"startAfter":"startAt";t[l]=Xe(a.indexStartValue_),a.startNameSet_&&(t[l]+=","+Xe(a.indexStartName_))}if(a.endSet_){const l=a.endBeforeSet_?"endBefore":"endAt";t[l]=Xe(a.indexEndValue_),a.endNameSet_&&(t[l]+=","+Xe(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?t.limitToFirst=a.limit_:t.limitToLast=a.limit_),t}function k_(a){const t={};if(a.startSet_&&(t.sp=a.indexStartValue_,a.startNameSet_&&(t.sn=a.indexStartName_),t.sin=!a.startAfterSet_),a.endSet_&&(t.ep=a.indexEndValue_,a.endNameSet_&&(t.en=a.indexEndName_),t.ein=!a.endBeforeSet_),a.limitSet_){t.l=a.limit_;let i=a.viewFrom_;i===""&&(a.isViewFromLeft()?i="l":i="r"),t.vf=i}return a.index_!==ze&&(t.i=a.index_.toString()),t}class Eo extends tv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(H(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,l,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=xl("p:rest:"),this.listens_={}}listen(t,i,l,o){const f=t._path.toString();this.log_("Listen called for "+f+" "+t._queryIdentifier);const h=Eo.getListenId_(t,l),m={};this.listens_[h]=m;const p=L_(t._queryParams);this.restRequest_(f+".json",p,(g,E)=>{let y=E;if(g===404&&(y=null,g=null),g===null&&this.onDataUpdate_(f,y,!1,l),ea(this.listens_,h)===m){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",o(b,null)}})}unlisten(t,i){const l=Eo.getListenId_(t,i);delete this.listens_[l]}get(t){const i=L_(t._queryParams),l=t._path.toString(),o=new ko;return this.restRequest_(l+".json",i,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(i.auth=o.accessToken),f&&f.token&&(i.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ra(i);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=vl(m.responseText)}catch{Tt("Failed to parse JSON response for "+h+": "+m.responseText)}l(null,p)}else m.status!==401&&m.status!==404&&Tt("Got unsuccessful REST response for "+h+" Status: "+m.status),l(m.status);l=null}},m.open("GET",h,!0),m.send()})}}class gC{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function bo(){return{value:null,children:new Map}}function mv(a,t,i){if(oe(t))a.value=i,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(t,i);else{const l=fe(t);a.children.has(l)||a.children.set(l,bo());const o=a.children.get(l);t=De(t),mv(o,t,i)}}function Xf(a,t,i){a.value!==null?i(t,a.value):_C(a,(l,o)=>{const f=new Re(t.toString()+"/"+l);Xf(o,f,i)})}function _C(a,t){a.children.forEach((i,l)=>{t(l,i)})}class yC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&Ct(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=t,i}}const z_=10*1e3,vC=30*1e3,SC=300*1e3;class EC{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new yC(t);const l=z_+(vC-z_)*Math.random();ml(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),i={};let l=!1;Ct(t,(o,f)=>{f>0&&Hn(this.statsToReport_,o)&&(i[o]=f,l=!0)}),l&&this.server_.reportStats(i),ml(this.reportStats_.bind(this),Math.floor(Math.random()*2*SC))}}var tn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(tn||(tn={}));function pv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Eh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function bh(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class To{constructor(t,i,l){this.path=t,this.affectedTree=i,this.revert=l,this.type=tn.ACK_USER_WRITE,this.source=pv()}operationForChild(t){if(oe(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Re(t));return new To(pe(),i,this.revert)}}else return H(fe(this.path)===t,"operationForChild called for unrelated child."),new To(De(this.path),this.affectedTree,this.revert)}}class Al{constructor(t,i){this.source=t,this.path=i,this.type=tn.LISTEN_COMPLETE}operationForChild(t){return oe(this.path)?new Al(this.source,pe()):new Al(this.source,De(this.path))}}class is{constructor(t,i,l){this.source=t,this.path=i,this.snap=l,this.type=tn.OVERWRITE}operationForChild(t){return oe(this.path)?new is(this.source,pe(),this.snap.getImmediateChild(t)):new is(this.source,De(this.path),this.snap)}}class Nl{constructor(t,i,l){this.source=t,this.path=i,this.children=l,this.type=tn.MERGE}operationForChild(t){if(oe(this.path)){const i=this.children.subtree(new Re(t));return i.isEmpty()?null:i.value?new is(this.source,pe(),i.value):new Nl(this.source,pe(),i)}else return H(fe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Nl(this.source,De(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ni{constructor(t,i,l){this.node_=t,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(oe(t))return this.isFullyInitialized()&&!this.filtered_;const i=fe(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class bC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function TC(a,t,i,l){const o=[],f=[];return t.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(dC(h.childName,h.snapshotNode))}),fl(a,o,"child_removed",t,l,i),fl(a,o,"child_added",t,l,i),fl(a,o,"child_moved",f,l,i),fl(a,o,"child_changed",t,l,i),fl(a,o,"value",t,l,i),o}function fl(a,t,i,l,o,f){const h=l.filter(m=>m.type===i);h.sort((m,p)=>AC(a,m,p)),h.forEach(m=>{const p=CC(a,m,f);o.forEach(g=>{g.respondsTo(m.type)&&t.push(g.createEvent(p,a.query_))})})}function CC(a,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,a.index_)),t}function AC(a,t,i){if(t.childName==null||i.childName==null)throw aa("Should only compare child_ events.");const l=new se(t.childName,t.snapshotNode),o=new se(i.childName,i.snapshotNode);return a.index_.compare(l,o)}function Ho(a,t){return{eventCache:a,serverCache:t}}function pl(a,t,i,l){return Ho(new Ni(t,i,l),a.serverCache)}function gv(a,t,i,l){return Ho(a.eventCache,new Ni(t,i,l))}function Co(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function ss(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let Mf;const NC=()=>(Mf||(Mf=new bt(f1)),Mf);class Ie{static fromObject(t){let i=new Ie(null);return Ct(t,(l,o)=>{i=i.set(new Re(l),o)}),i}constructor(t,i=NC()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:pe(),value:this.value};if(oe(t))return null;{const l=fe(t),o=this.children.get(l);if(o!==null){const f=o.findRootMostMatchingPathAndValue(De(t),i);return f!=null?{path:Ke(new Re(l),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(oe(t))return this;{const i=fe(t),l=this.children.get(i);return l!==null?l.subtree(De(t)):new Ie(null)}}set(t,i){if(oe(t))return new Ie(i,this.children);{const l=fe(t),f=(this.children.get(l)||new Ie(null)).set(De(t),i),h=this.children.insert(l,f);return new Ie(this.value,h)}}remove(t){if(oe(t))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const i=fe(t),l=this.children.get(i);if(l){const o=l.remove(De(t));let f;return o.isEmpty()?f=this.children.remove(i):f=this.children.insert(i,o),this.value===null&&f.isEmpty()?new Ie(null):new Ie(this.value,f)}else return this}}get(t){if(oe(t))return this.value;{const i=fe(t),l=this.children.get(i);return l?l.get(De(t)):null}}setTree(t,i){if(oe(t))return i;{const l=fe(t),f=(this.children.get(l)||new Ie(null)).setTree(De(t),i);let h;return f.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,f),new Ie(this.value,h)}}fold(t){return this.fold_(pe(),t)}fold_(t,i){const l={};return this.children.inorderTraversal((o,f)=>{l[o]=f.fold_(Ke(t,o),i)}),i(t,this.value,l)}findOnPath(t,i){return this.findOnPath_(t,pe(),i)}findOnPath_(t,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(oe(t))return null;{const f=fe(t),h=this.children.get(f);return h?h.findOnPath_(De(t),Ke(i,f),l):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,pe(),i)}foreachOnPath_(t,i,l){if(oe(t))return this;{this.value&&l(i,this.value);const o=fe(t),f=this.children.get(o);return f?f.foreachOnPath_(De(t),Ke(i,o),l):new Ie(null)}}foreach(t){this.foreach_(pe(),t)}foreach_(t,i){this.children.inorderTraversal((l,o)=>{o.foreach_(Ke(t,l),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,l)=>{l.value&&t(i,l.value)})}}class sn{constructor(t){this.writeTree_=t}static empty(){return new sn(new Ie(null))}}function gl(a,t,i){if(oe(t))return new sn(new Ie(i));{const l=a.writeTree_.findRootMostValueAndPath(t);if(l!=null){const o=l.path;let f=l.value;const h=ht(o,t);return f=f.updateChild(h,i),new sn(a.writeTree_.set(o,f))}else{const o=new Ie(i),f=a.writeTree_.setTree(t,o);return new sn(f)}}}function j_(a,t,i){let l=a;return Ct(i,(o,f)=>{l=gl(l,Ke(t,o),f)}),l}function H_(a,t){if(oe(t))return sn.empty();{const i=a.writeTree_.setTree(t,new Ie(null));return new sn(i)}}function Kf(a,t){return rs(a,t)!=null}function rs(a,t){const i=a.writeTree_.findRootMostValueAndPath(t);return i!=null?a.writeTree_.get(i.path).getChild(ht(i.path,t)):null}function B_(a){const t=[],i=a.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(ze,(l,o)=>{t.push(new se(l,o))}):a.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&t.push(new se(l,o.value))}),t}function Ei(a,t){if(oe(t))return a;{const i=rs(a,t);return i!=null?new sn(new Ie(i)):new sn(a.writeTree_.subtree(t))}}function Zf(a){return a.writeTree_.isEmpty()}function sa(a,t){return _v(pe(),a.writeTree_,t)}function _v(a,t,i){if(t.value!=null)return i.updateChild(a,t.value);{let l=null;return t.children.inorderTraversal((o,f)=>{o===".priority"?(H(f.value!==null,"Priority writes must always be leaf nodes"),l=f.value):i=_v(Ke(a,o),f,i)}),!i.getChild(a).isEmpty()&&l!==null&&(i=i.updateChild(Ke(a,".priority"),l)),i}}function Bo(a,t){return Ev(t,a)}function wC(a,t,i,l,o){H(l>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:t,snap:i,writeId:l,visible:o}),o&&(a.visibleWrites=gl(a.visibleWrites,t,i)),a.lastWriteId=l}function RC(a,t){for(let i=0;i<a.allWrites.length;i++){const l=a.allWrites[i];if(l.writeId===t)return l}return null}function OC(a,t){const i=a.allWrites.findIndex(m=>m.writeId===t);H(i>=0,"removeWrite called with nonexistent writeId.");const l=a.allWrites[i];a.allWrites.splice(i,1);let o=l.visible,f=!1,h=a.allWrites.length-1;for(;o&&h>=0;){const m=a.allWrites[h];m.visible&&(h>=i&&DC(m,l.path)?o=!1:en(l.path,m.path)&&(f=!0)),h--}if(o){if(f)return MC(a),!0;if(l.snap)a.visibleWrites=H_(a.visibleWrites,l.path);else{const m=l.children;Ct(m,p=>{a.visibleWrites=H_(a.visibleWrites,Ke(l.path,p))})}return!0}else return!1}function DC(a,t){if(a.snap)return en(a.path,t);for(const i in a.children)if(a.children.hasOwnProperty(i)&&en(Ke(a.path,i),t))return!0;return!1}function MC(a){a.visibleWrites=yv(a.allWrites,xC,pe()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function xC(a){return a.visible}function yv(a,t,i){let l=sn.empty();for(let o=0;o<a.length;++o){const f=a[o];if(t(f)){const h=f.path;let m;if(f.snap)en(i,h)?(m=ht(i,h),l=gl(l,m,f.snap)):en(h,i)&&(m=ht(h,i),l=gl(l,pe(),f.snap.getChild(m)));else if(f.children){if(en(i,h))m=ht(i,h),l=j_(l,m,f.children);else if(en(h,i))if(m=ht(h,i),oe(m))l=j_(l,pe(),f.children);else{const p=ea(f.children,fe(m));if(p){const g=p.getChild(De(m));l=gl(l,pe(),g)}}}else throw aa("WriteRecord should have .snap or .children")}}return l}function vv(a,t,i,l,o){if(!l&&!o){const f=rs(a.visibleWrites,t);if(f!=null)return f;{const h=Ei(a.visibleWrites,t);if(Zf(h))return i;if(i==null&&!Kf(h,pe()))return null;{const m=i||K.EMPTY_NODE;return sa(h,m)}}}else{const f=Ei(a.visibleWrites,t);if(!o&&Zf(f))return i;if(!o&&i==null&&!Kf(f,pe()))return null;{const h=function(g){return(g.visible||o)&&(!l||!~l.indexOf(g.writeId))&&(en(g.path,t)||en(t,g.path))},m=yv(a.allWrites,h,t),p=i||K.EMPTY_NODE;return sa(m,p)}}}function IC(a,t,i){let l=K.EMPTY_NODE;const o=rs(a.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(ze,(f,h)=>{l=l.updateImmediateChild(f,h)}),l;if(i){const f=Ei(a.visibleWrites,t);return i.forEachChild(ze,(h,m)=>{const p=sa(Ei(f,new Re(h)),m);l=l.updateImmediateChild(h,p)}),B_(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}else{const f=Ei(a.visibleWrites,t);return B_(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}}function UC(a,t,i,l,o){H(l||o,"Either existingEventSnap or existingServerSnap must exist");const f=Ke(t,i);if(Kf(a.visibleWrites,f))return null;{const h=Ei(a.visibleWrites,f);return Zf(h)?o.getChild(i):sa(h,o.getChild(i))}}function LC(a,t,i,l){const o=Ke(t,i),f=rs(a.visibleWrites,o);if(f!=null)return f;if(l.isCompleteForChild(i)){const h=Ei(a.visibleWrites,o);return sa(h,l.getNode().getImmediateChild(i))}else return null}function kC(a,t){return rs(a.visibleWrites,t)}function zC(a,t,i,l,o,f,h){let m;const p=Ei(a.visibleWrites,t),g=rs(p,pe());if(g!=null)m=g;else if(i!=null)m=sa(p,i);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const E=[],y=h.getCompare(),b=f?m.getReverseIteratorFrom(l,h):m.getIteratorFrom(l,h);let L=b.getNext();for(;L&&E.length<o;)y(L,l)!==0&&E.push(L),L=b.getNext();return E}else return[]}function jC(){return{visibleWrites:sn.empty(),allWrites:[],lastWriteId:-1}}function Ao(a,t,i,l){return vv(a.writeTree,a.treePath,t,i,l)}function Th(a,t){return IC(a.writeTree,a.treePath,t)}function q_(a,t,i,l){return UC(a.writeTree,a.treePath,t,i,l)}function No(a,t){return kC(a.writeTree,Ke(a.treePath,t))}function HC(a,t,i,l,o,f){return zC(a.writeTree,a.treePath,t,i,l,o,f)}function Ch(a,t,i){return LC(a.writeTree,a.treePath,t,i)}function Sv(a,t){return Ev(Ke(a.treePath,t),a.writeTree)}function Ev(a,t){return{treePath:a,writeTree:t}}class BC{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,l=t.childName;H(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),H(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const f=o.type;if(i==="child_added"&&f==="child_removed")this.changeMap.set(l,Tl(l,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&f==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&f==="child_changed")this.changeMap.set(l,bl(l,o.oldSnap));else if(i==="child_changed"&&f==="child_added")this.changeMap.set(l,ia(l,t.snapshotNode));else if(i==="child_changed"&&f==="child_changed")this.changeMap.set(l,Tl(l,t.snapshotNode,o.oldSnap));else throw aa("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}class qC{getCompleteChild(t){return null}getChildAfterChild(t,i,l){return null}}const bv=new qC;class Ah{constructor(t,i,l=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new Ni(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ch(this.writes_,t,l)}}getChildAfterChild(t,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ss(this.viewCache_),f=HC(this.writes_,o,i,1,l,t);return f.length===0?null:f[0]}}function VC(a){return{filter:a}}function GC(a,t){H(t.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),H(t.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function PC(a,t,i,l,o){const f=new BC;let h,m;if(i.type===tn.OVERWRITE){const g=i;g.source.fromUser?h=Wf(a,t,g.path,g.snap,l,o,f):(H(g.source.fromServer,"Unknown source."),m=g.source.tagged||t.serverCache.isFiltered()&&!oe(g.path),h=wo(a,t,g.path,g.snap,l,o,m,f))}else if(i.type===tn.MERGE){const g=i;g.source.fromUser?h=FC(a,t,g.path,g.children,l,o,f):(H(g.source.fromServer,"Unknown source."),m=g.source.tagged||t.serverCache.isFiltered(),h=Jf(a,t,g.path,g.children,l,o,m,f))}else if(i.type===tn.ACK_USER_WRITE){const g=i;g.revert?h=KC(a,t,g.path,l,o,f):h=QC(a,t,g.path,g.affectedTree,l,o,f)}else if(i.type===tn.LISTEN_COMPLETE)h=XC(a,t,i.path,l,f);else throw aa("Unknown operation type: "+i.type);const p=f.getChanges();return YC(t,h,p),{viewCache:h,changes:p}}function YC(a,t,i){const l=t.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),f=Co(a);(i.length>0||!a.eventCache.isFullyInitialized()||o&&!l.getNode().equals(f)||!l.getNode().getPriority().equals(f.getPriority()))&&i.push(dv(Co(t)))}}function Tv(a,t,i,l,o,f){const h=t.eventCache;if(No(l,i)!=null)return t;{let m,p;if(oe(i))if(H(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=ss(t),E=g instanceof K?g:K.EMPTY_NODE,y=Th(l,E);m=a.filter.updateFullNode(t.eventCache.getNode(),y,f)}else{const g=Ao(l,ss(t));m=a.filter.updateFullNode(t.eventCache.getNode(),g,f)}else{const g=fe(i);if(g===".priority"){H(Ai(i)===1,"Can't have a priority with additional path components");const E=h.getNode();p=t.serverCache.getNode();const y=q_(l,i,E,p);y!=null?m=a.filter.updatePriority(E,y):m=h.getNode()}else{const E=De(i);let y;if(h.isCompleteForChild(g)){p=t.serverCache.getNode();const b=q_(l,i,h.getNode(),p);b!=null?y=h.getNode().getImmediateChild(g).updateChild(E,b):y=h.getNode().getImmediateChild(g)}else y=Ch(l,g,t.serverCache);y!=null?m=a.filter.updateChild(h.getNode(),g,y,E,o,f):m=h.getNode()}}return pl(t,m,h.isFullyInitialized()||oe(i),a.filter.filtersNodes())}}function wo(a,t,i,l,o,f,h,m){const p=t.serverCache;let g;const E=h?a.filter:a.filter.getIndexedFilter();if(oe(i))g=E.updateFullNode(p.getNode(),l,null);else if(E.filtersNodes()&&!p.isFiltered()){const L=p.getNode().updateChild(i,l);g=E.updateFullNode(p.getNode(),L,null)}else{const L=fe(i);if(!p.isCompleteForPath(i)&&Ai(i)>1)return t;const I=De(i),q=p.getNode().getImmediateChild(L).updateChild(I,l);L===".priority"?g=E.updatePriority(p.getNode(),q):g=E.updateChild(p.getNode(),L,q,I,bv,null)}const y=gv(t,g,p.isFullyInitialized()||oe(i),E.filtersNodes()),b=new Ah(o,y,f);return Tv(a,y,i,o,b,m)}function Wf(a,t,i,l,o,f,h){const m=t.eventCache;let p,g;const E=new Ah(o,t,f);if(oe(i))g=a.filter.updateFullNode(t.eventCache.getNode(),l,h),p=pl(t,g,!0,a.filter.filtersNodes());else{const y=fe(i);if(y===".priority")g=a.filter.updatePriority(t.eventCache.getNode(),l),p=pl(t,g,m.isFullyInitialized(),m.isFiltered());else{const b=De(i),L=m.getNode().getImmediateChild(y);let I;if(oe(b))I=l;else{const z=E.getCompleteChild(y);z!=null?iv(b)===".priority"&&z.getChild(av(b)).isEmpty()?I=z:I=z.updateChild(b,l):I=K.EMPTY_NODE}if(L.equals(I))p=t;else{const z=a.filter.updateChild(m.getNode(),y,I,b,E,h);p=pl(t,z,m.isFullyInitialized(),a.filter.filtersNodes())}}}return p}function V_(a,t){return a.eventCache.isCompleteForChild(t)}function FC(a,t,i,l,o,f,h){let m=t;return l.foreach((p,g)=>{const E=Ke(i,p);V_(t,fe(E))&&(m=Wf(a,m,E,g,o,f,h))}),l.foreach((p,g)=>{const E=Ke(i,p);V_(t,fe(E))||(m=Wf(a,m,E,g,o,f,h))}),m}function G_(a,t,i){return i.foreach((l,o)=>{t=t.updateChild(l,o)}),t}function Jf(a,t,i,l,o,f,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,g;oe(i)?g=l:g=new Ie(null).setTree(i,l);const E=t.serverCache.getNode();return g.children.inorderTraversal((y,b)=>{if(E.hasChild(y)){const L=t.serverCache.getNode().getImmediateChild(y),I=G_(a,L,b);p=wo(a,p,new Re(y),I,o,f,h,m)}}),g.children.inorderTraversal((y,b)=>{const L=!t.serverCache.isCompleteForChild(y)&&b.value===null;if(!E.hasChild(y)&&!L){const I=t.serverCache.getNode().getImmediateChild(y),z=G_(a,I,b);p=wo(a,p,new Re(y),z,o,f,h,m)}}),p}function QC(a,t,i,l,o,f,h){if(No(o,i)!=null)return t;const m=t.serverCache.isFiltered(),p=t.serverCache;if(l.value!=null){if(oe(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return wo(a,t,i,p.getNode().getChild(i),o,f,m,h);if(oe(i)){let g=new Ie(null);return p.getNode().forEachChild(Zs,(E,y)=>{g=g.set(new Re(E),y)}),Jf(a,t,i,g,o,f,m,h)}else return t}else{let g=new Ie(null);return l.foreach((E,y)=>{const b=Ke(i,E);p.isCompleteForPath(b)&&(g=g.set(E,p.getNode().getChild(b)))}),Jf(a,t,i,g,o,f,m,h)}}function XC(a,t,i,l,o){const f=t.serverCache,h=gv(t,f.getNode(),f.isFullyInitialized()||oe(i),f.isFiltered());return Tv(a,h,i,l,bv,o)}function KC(a,t,i,l,o,f){let h;if(No(l,i)!=null)return t;{const m=new Ah(l,t,o),p=t.eventCache.getNode();let g;if(oe(i)||fe(i)===".priority"){let E;if(t.serverCache.isFullyInitialized())E=Ao(l,ss(t));else{const y=t.serverCache.getNode();H(y instanceof K,"serverChildren would be complete if leaf node"),E=Th(l,y)}E=E,g=a.filter.updateFullNode(p,E,f)}else{const E=fe(i);let y=Ch(l,E,t.serverCache);y==null&&t.serverCache.isCompleteForChild(E)&&(y=p.getImmediateChild(E)),y!=null?g=a.filter.updateChild(p,E,y,De(i),m,f):t.eventCache.getNode().hasChild(E)?g=a.filter.updateChild(p,E,K.EMPTY_NODE,De(i),m,f):g=p,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Ao(l,ss(t)),h.isLeafNode()&&(g=a.filter.updateFullNode(g,h,f)))}return h=t.serverCache.isFullyInitialized()||No(l,pe())!=null,pl(t,g,h,a.filter.filtersNodes())}}class ZC{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new vh(l.getIndex()),f=pC(l);this.processor_=VC(f);const h=i.serverCache,m=i.eventCache,p=o.updateFullNode(K.EMPTY_NODE,h.getNode(),null),g=f.updateFullNode(K.EMPTY_NODE,m.getNode(),null),E=new Ni(p,h.isFullyInitialized(),o.filtersNodes()),y=new Ni(g,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=Ho(y,E),this.eventGenerator_=new bC(this.query_)}get query(){return this.query_}}function WC(a){return a.viewCache_.serverCache.getNode()}function JC(a){return Co(a.viewCache_)}function $C(a,t){const i=ss(a.viewCache_);return i&&(a.query._queryParams.loadsAllData()||!oe(t)&&!i.getImmediateChild(fe(t)).isEmpty())?i.getChild(t):null}function P_(a){return a.eventRegistrations_.length===0}function eA(a,t){a.eventRegistrations_.push(t)}function Y_(a,t,i){const l=[];if(i){H(t==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(i,o);h&&l.push(h)})}if(t){let o=[];for(let f=0;f<a.eventRegistrations_.length;++f){const h=a.eventRegistrations_[f];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return l}function F_(a,t,i,l){t.type===tn.MERGE&&t.source.queryId!==null&&(H(ss(a.viewCache_),"We should always have a full cache before handling merges"),H(Co(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,f=PC(a.processor_,o,t,i,l);return GC(a.processor_,f.viewCache),H(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,Cv(a,f.changes,f.viewCache.eventCache.getNode(),null)}function tA(a,t){const i=a.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(ze,(f,h)=>{l.push(ia(f,h))}),i.isFullyInitialized()&&l.push(dv(i.getNode())),Cv(a,l,i.getNode(),t)}function Cv(a,t,i,l){const o=l?[l]:a.eventRegistrations_;return TC(a.eventGenerator_,t,i,o)}let Ro;class Av{constructor(){this.views=new Map}}function nA(a){H(!Ro,"__referenceConstructor has already been defined"),Ro=a}function iA(){return H(Ro,"Reference.ts has not been loaded"),Ro}function sA(a){return a.views.size===0}function Nh(a,t,i,l){const o=t.source.queryId;if(o!==null){const f=a.views.get(o);return H(f!=null,"SyncTree gave us an op for an invalid query."),F_(f,t,i,l)}else{let f=[];for(const h of a.views.values())f=f.concat(F_(h,t,i,l));return f}}function Nv(a,t,i,l,o){const f=t._queryIdentifier,h=a.views.get(f);if(!h){let m=Ao(i,o?l:null),p=!1;m?p=!0:l instanceof K?(m=Th(i,l),p=!1):(m=K.EMPTY_NODE,p=!1);const g=Ho(new Ni(m,p,!1),new Ni(l,o,!1));return new ZC(t,g)}return h}function aA(a,t,i,l,o,f){const h=Nv(a,t,l,o,f);return a.views.has(t._queryIdentifier)||a.views.set(t._queryIdentifier,h),eA(h,i),tA(h,i)}function lA(a,t,i,l){const o=t._queryIdentifier,f=[];let h=[];const m=wi(a);if(o==="default")for(const[p,g]of a.views.entries())h=h.concat(Y_(g,i,l)),P_(g)&&(a.views.delete(p),g.query._queryParams.loadsAllData()||f.push(g.query));else{const p=a.views.get(o);p&&(h=h.concat(Y_(p,i,l)),P_(p)&&(a.views.delete(o),p.query._queryParams.loadsAllData()||f.push(p.query)))}return m&&!wi(a)&&f.push(new(iA())(t._repo,t._path)),{removed:f,events:h}}function wv(a){const t=[];for(const i of a.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function bi(a,t){let i=null;for(const l of a.views.values())i=i||$C(l,t);return i}function Rv(a,t){if(t._queryParams.loadsAllData())return qo(a);{const l=t._queryIdentifier;return a.views.get(l)}}function Ov(a,t){return Rv(a,t)!=null}function wi(a){return qo(a)!=null}function qo(a){for(const t of a.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Oo;function rA(a){H(!Oo,"__referenceConstructor has already been defined"),Oo=a}function oA(){return H(Oo,"Reference.ts has not been loaded"),Oo}let uA=1;class Q_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=jC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Dv(a,t,i,l,o){return wC(a.pendingWriteTree_,t,i,l,o),o?Ll(a,new is(pv(),t,i)):[]}function $i(a,t,i=!1){const l=RC(a.pendingWriteTree_,t);if(OC(a.pendingWriteTree_,t)){let f=new Ie(null);return l.snap!=null?f=f.set(pe(),!0):Ct(l.children,h=>{f=f.set(new Re(h),!0)}),Ll(a,new To(l.path,f,i))}else return[]}function Ul(a,t,i){return Ll(a,new is(Eh(),t,i))}function cA(a,t,i){const l=Ie.fromObject(i);return Ll(a,new Nl(Eh(),t,l))}function fA(a,t){return Ll(a,new Al(Eh(),t))}function hA(a,t,i){const l=Rh(a,i);if(l){const o=Oh(l),f=o.path,h=o.queryId,m=ht(f,t),p=new Al(bh(h),m);return Dh(a,f,p)}else return[]}function Mv(a,t,i,l,o=!1){const f=t._path,h=a.syncPointTree_.get(f);let m=[];if(h&&(t._queryIdentifier==="default"||Ov(h,t))){const p=lA(h,t,i,l);sA(h)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const g=p.removed;if(m=p.events,!o){const E=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,y=a.syncPointTree_.findOnPath(f,(b,L)=>wi(L));if(E&&!y){const b=a.syncPointTree_.subtree(f);if(!b.isEmpty()){const L=gA(b);for(let I=0;I<L.length;++I){const z=L[I],q=z.query,F=Lv(a,z);a.listenProvider_.startListening(_l(q),wl(a,q),F.hashFn,F.onComplete)}}}!y&&g.length>0&&!l&&(E?a.listenProvider_.stopListening(_l(t),null):g.forEach(b=>{const L=a.queryToTagMap.get(Vo(b));a.listenProvider_.stopListening(_l(b),L)}))}_A(a,g)}return m}function xv(a,t,i,l){const o=Rh(a,l);if(o!=null){const f=Oh(o),h=f.path,m=f.queryId,p=ht(h,t),g=new is(bh(m),p,i);return Dh(a,h,g)}else return[]}function dA(a,t,i,l){const o=Rh(a,l);if(o){const f=Oh(o),h=f.path,m=f.queryId,p=ht(h,t),g=Ie.fromObject(i),E=new Nl(bh(m),p,g);return Dh(a,h,E)}else return[]}function mA(a,t,i,l=!1){const o=t._path;let f=null,h=!1;a.syncPointTree_.foreachOnPath(o,(b,L)=>{const I=ht(b,o);f=f||bi(L,I),h=h||wi(L)});let m=a.syncPointTree_.get(o);m?(h=h||wi(m),f=f||bi(m,pe())):(m=new Av,a.syncPointTree_=a.syncPointTree_.set(o,m));let p;f!=null?p=!0:(p=!1,f=K.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((L,I)=>{const z=bi(I,pe());z&&(f=f.updateImmediateChild(L,z))}));const g=Ov(m,t);if(!g&&!t._queryParams.loadsAllData()){const b=Vo(t);H(!a.queryToTagMap.has(b),"View does not exist, but we have a tag");const L=yA();a.queryToTagMap.set(b,L),a.tagToQueryMap.set(L,b)}const E=Bo(a.pendingWriteTree_,o);let y=aA(m,t,i,E,f,p);if(!g&&!h&&!l){const b=Rv(m,t);y=y.concat(vA(a,t,b))}return y}function wh(a,t,i){const o=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(t,(h,m)=>{const p=ht(h,t),g=bi(m,p);if(g)return g});return vv(o,t,f,i,!0)}function pA(a,t){const i=t._path;let l=null;a.syncPointTree_.foreachOnPath(i,(g,E)=>{const y=ht(g,i);l=l||bi(E,y)});let o=a.syncPointTree_.get(i);o?l=l||bi(o,pe()):(o=new Av,a.syncPointTree_=a.syncPointTree_.set(i,o));const f=l!=null,h=f?new Ni(l,!0,!1):null,m=Bo(a.pendingWriteTree_,t._path),p=Nv(o,t,m,f?h.getNode():K.EMPTY_NODE,f);return JC(p)}function Ll(a,t){return Iv(t,a.syncPointTree_,null,Bo(a.pendingWriteTree_,pe()))}function Iv(a,t,i,l){if(oe(a.path))return Uv(a,t,i,l);{const o=t.get(pe());i==null&&o!=null&&(i=bi(o,pe()));let f=[];const h=fe(a.path),m=a.operationForChild(h),p=t.children.get(h);if(p&&m){const g=i?i.getImmediateChild(h):null,E=Sv(l,h);f=f.concat(Iv(m,p,g,E))}return o&&(f=f.concat(Nh(o,a,l,i))),f}}function Uv(a,t,i,l){const o=t.get(pe());i==null&&o!=null&&(i=bi(o,pe()));let f=[];return t.children.inorderTraversal((h,m)=>{const p=i?i.getImmediateChild(h):null,g=Sv(l,h),E=a.operationForChild(h);E&&(f=f.concat(Uv(E,m,p,g)))}),o&&(f=f.concat(Nh(o,a,l,i))),f}function Lv(a,t){const i=t.query,l=wl(a,i);return{hashFn:()=>(WC(t)||K.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?hA(a,i._path,l):fA(a,i._path);{const f=m1(o,i);return Mv(a,i,null,f)}}}}function wl(a,t){const i=Vo(t);return a.queryToTagMap.get(i)}function Vo(a){return a._path.toString()+"$"+a._queryIdentifier}function Rh(a,t){return a.tagToQueryMap.get(t)}function Oh(a){const t=a.indexOf("$");return H(t!==-1&&t<a.length-1,"Bad queryKey."),{queryId:a.substr(t+1),path:new Re(a.substr(0,t))}}function Dh(a,t,i){const l=a.syncPointTree_.get(t);H(l,"Missing sync point for query tag that we're tracking");const o=Bo(a.pendingWriteTree_,t);return Nh(l,i,o,null)}function gA(a){return a.fold((t,i,l)=>{if(i&&wi(i))return[qo(i)];{let o=[];return i&&(o=wv(i)),Ct(l,(f,h)=>{o=o.concat(h)}),o}})}function _l(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(oA())(a._repo,a._path):a}function _A(a,t){for(let i=0;i<t.length;++i){const l=t[i];if(!l._queryParams.loadsAllData()){const o=Vo(l),f=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(f)}}}function yA(){return uA++}function vA(a,t,i){const l=t._path,o=wl(a,t),f=Lv(a,i),h=a.listenProvider_.startListening(_l(t),o,f.hashFn,f.onComplete),m=a.syncPointTree_.subtree(l);if(o)H(!wi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((g,E,y)=>{if(!oe(g)&&E&&wi(E))return[qo(E).query];{let b=[];return E&&(b=b.concat(wv(E).map(L=>L.query))),Ct(y,(L,I)=>{b=b.concat(I)}),b}});for(let g=0;g<p.length;++g){const E=p[g];a.listenProvider_.stopListening(_l(E),wl(a,E))}}return h}class Mh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Mh(i)}node(){return this.node_}}class xh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Ke(this.path_,t);return new xh(this.syncTree_,i)}node(){return wh(this.syncTree_,this.path_)}}const SA=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},X_=function(a,t,i){if(!a||typeof a!="object")return a;if(H(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return EA(a[".sv"],t,i);if(typeof a[".sv"]=="object")return bA(a[".sv"],t);H(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},EA=function(a,t,i){if(a==="timestamp")return i.timestamp;H(!1,"Unexpected server value: "+a)},bA=function(a,t,i){a.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const l=a.increment;typeof l!="number"&&H(!1,"Unexpected increment value: "+l);const o=t.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const h=o.getValue();return typeof h!="number"?l:h+l},TA=function(a,t,i,l){return Ih(t,new xh(i,a),l)},kv=function(a,t,i){return Ih(a,new Mh(t),i)};function Ih(a,t,i){const l=a.getPriority().val(),o=X_(l,t.getImmediateChild(".priority"),i);let f;if(a.isLeafNode()){const h=a,m=X_(h.getValue(),t,i);return m!==h.getValue()||o!==h.getPriority().val()?new $e(m,tt(o)):a}else{const h=a;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new $e(o))),h.forEachChild(ze,(m,p)=>{const g=Ih(p,t.getImmediateChild(m),i);g!==p&&(f=f.updateImmediateChild(m,g))}),f}}class Uh{constructor(t="",i=null,l={children:{},childCount:0}){this.name=t,this.parent=i,this.node=l}}function Lh(a,t){let i=t instanceof Re?t:new Re(t),l=a,o=fe(i);for(;o!==null;){const f=ea(l.node.children,o)||{children:{},childCount:0};l=new Uh(o,l,f),i=De(i),o=fe(i)}return l}function fa(a){return a.node.value}function zv(a,t){a.node.value=t,$f(a)}function jv(a){return a.node.childCount>0}function CA(a){return fa(a)===void 0&&!jv(a)}function Go(a,t){Ct(a.node.children,(i,l)=>{t(new Uh(i,a,l))})}function Hv(a,t,i,l){i&&t(a),Go(a,o=>{Hv(o,t,!0)})}function AA(a,t,i){let l=a.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function kl(a){return new Re(a.parent===null?a.name:kl(a.parent)+"/"+a.name)}function $f(a){a.parent!==null&&NA(a.parent,a.name,a)}function NA(a,t,i){const l=CA(i),o=Hn(a.node.children,t);l&&o?(delete a.node.children[t],a.node.childCount--,$f(a)):!l&&!o&&(a.node.children[t]=i.node,a.node.childCount++,$f(a))}const wA=/[\[\].#$\/\u0000-\u001F\u007F]/,RA=/[\[\].#$\u0000-\u001F\u007F]/,xf=10*1024*1024,Bv=function(a){return typeof a=="string"&&a.length!==0&&!wA.test(a)},qv=function(a){return typeof a=="string"&&a.length!==0&&!RA.test(a)},OA=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),qv(a)},DA=function(a,t,i,l){kh(uh(a,"value"),t,i)},kh=function(a,t,i){const l=i instanceof Re?new Q1(i,a):i;if(t===void 0)throw new Error(a+"contains undefined "+Wi(l));if(typeof t=="function")throw new Error(a+"contains a function "+Wi(l)+" with contents = "+t.toString());if(ky(t))throw new Error(a+"contains "+t.toString()+" "+Wi(l));if(typeof t=="string"&&t.length>xf/3&&zo(t)>xf)throw new Error(a+"contains a string greater than "+xf+" utf8 bytes "+Wi(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,f=!1;if(Ct(t,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!Bv(h)))throw new Error(a+" contains an invalid key ("+h+") "+Wi(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);X1(l,h),kh(a,m,l),K1(l)}),o&&f)throw new Error(a+' contains ".value" child '+Wi(l)+" in addition to actual children.")}},Vv=function(a,t,i,l){if(!qv(i))throw new Error(uh(a,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},MA=function(a,t,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Vv(a,t,i)},xA=function(a,t){if(fe(t)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},IA=function(a,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Bv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!OA(i))throw new Error(uh(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class UA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Gv(a,t){let i=null;for(let l=0;l<t.length;l++){const o=t[l],f=o.getPath();i!==null&&!lv(f,i.path)&&(a.eventLists_.push(i),i=null),i===null&&(i={events:[],path:f}),i.events.push(o)}i&&a.eventLists_.push(i)}function fn(a,t,i){Gv(a,i),LA(a,l=>en(l,t)||en(t,l))}function LA(a,t){a.recursionDepth_++;let i=!0;for(let l=0;l<a.eventLists_.length;l++){const o=a.eventLists_[l];if(o){const f=o.path;t(f)?(kA(a.eventLists_[l]),a.eventLists_[l]=null):i=!1}}i&&(a.eventLists_=[]),a.recursionDepth_--}function kA(a){for(let t=0;t<a.events.length;t++){const i=a.events[t];if(i!==null){a.events[t]=null;const l=i.getEventRunner();dl&&ut("event: "+i.toString()),ca(l)}}}const zA="repo_interrupt",jA=25;class HA{constructor(t,i,l,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new UA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bo(),this.transactionQueueTree_=new Uh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BA(a,t,i){if(a.stats_=ph(a.repoInfo_),a.forceRestClient_||y1())a.server_=new Eo(a.repoInfo_,(l,o,f,h)=>{K_(a,l,o,f,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>Z_(a,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xe(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}a.persistentConnection_=new Un(a.repoInfo_,t,(l,o,f,h)=>{K_(a,l,o,f,h)},l=>{Z_(a,l)},l=>{VA(a,l)},a.authTokenProvider_,a.appCheckProvider_,i),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(l=>{a.server_.refreshAuthToken(l)}),a.appCheckProvider_.addTokenChangeListener(l=>{a.server_.refreshAppCheckToken(l.token)}),a.statsReporter_=T1(a.repoInfo_,()=>new EC(a.stats_,a.server_)),a.infoData_=new gC,a.infoSyncTree_=new Q_({startListening:(l,o,f,h)=>{let m=[];const p=a.infoData_.getNode(l._path);return p.isEmpty()||(m=Ul(a.infoSyncTree_,l._path,p),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),jh(a,"connected",!1),a.serverSyncTree_=new Q_({startListening:(l,o,f,h)=>(a.server_.listen(l,f,o,(m,p)=>{const g=h(m,p);fn(a.eventQueue_,l._path,g)}),[]),stopListening:(l,o)=>{a.server_.unlisten(l,o)}})}function qA(a){const i=a.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function zh(a){return SA({timestamp:qA(a)})}function K_(a,t,i,l,o){a.dataUpdateCount++;const f=new Re(t);i=a.interceptServerDataCallback_?a.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(l){const p=go(i,g=>tt(g));h=dA(a.serverSyncTree_,f,p,o)}else{const p=tt(i);h=xv(a.serverSyncTree_,f,p,o)}else if(l){const p=go(i,g=>tt(g));h=cA(a.serverSyncTree_,f,p)}else{const p=tt(i);h=Ul(a.serverSyncTree_,f,p)}let m=f;h.length>0&&(m=Yo(a,f)),fn(a.eventQueue_,m,h)}function Z_(a,t){jh(a,"connected",t),t===!1&&YA(a)}function VA(a,t){Ct(t,(i,l)=>{jh(a,i,l)})}function jh(a,t,i){const l=new Re("/.info/"+t),o=tt(i);a.infoData_.updateSnapshot(l,o);const f=Ul(a.infoSyncTree_,l,o);fn(a.eventQueue_,l,f)}function Pv(a){return a.nextWriteId_++}function GA(a,t,i){const l=pA(a.serverSyncTree_,t);return l!=null?Promise.resolve(l):a.server_.get(t).then(o=>{const f=tt(o).withIndex(t._queryParams.getIndex());mA(a.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=Ul(a.serverSyncTree_,t._path,f);else{const m=wl(a.serverSyncTree_,t);h=xv(a.serverSyncTree_,t._path,f,m)}return fn(a.eventQueue_,t._path,h),Mv(a.serverSyncTree_,t,i,null,!0),f},o=>(Po(a,"get for query "+Xe(t)+" failed: "+o),Promise.reject(new Error(o))))}function PA(a,t,i,l,o){Po(a,"set",{path:t.toString(),value:i,priority:l});const f=zh(a),h=tt(i,l),m=wh(a.serverSyncTree_,t),p=kv(h,m,f),g=Pv(a),E=Dv(a.serverSyncTree_,t,p,g,!0);Gv(a.eventQueue_,E),a.server_.put(t.toString(),h.val(!0),(b,L)=>{const I=b==="ok";I||Tt("set at "+t+" failed: "+b);const z=$i(a.serverSyncTree_,g,!I);fn(a.eventQueue_,t,z),QA(a,o,b,L)});const y=Kv(a,t);Yo(a,y),fn(a.eventQueue_,y,[])}function YA(a){Po(a,"onDisconnectEvents");const t=zh(a),i=bo();Xf(a.onDisconnect_,pe(),(o,f)=>{const h=TA(o,f,a.serverSyncTree_,t);mv(i,o,h)});let l=[];Xf(i,pe(),(o,f)=>{l=l.concat(Ul(a.serverSyncTree_,o,f));const h=Kv(a,o);Yo(a,h)}),a.onDisconnect_=bo(),fn(a.eventQueue_,pe(),l)}function FA(a){a.persistentConnection_&&a.persistentConnection_.interrupt(zA)}function Po(a,...t){let i="";a.persistentConnection_&&(i=a.persistentConnection_.id+":"),ut(i,...t)}function QA(a,t,i,l){t&&ca(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let f=o;l&&(f+=": "+l);const h=new Error(f);h.code=o,t(h)}})}function Yv(a,t,i){return wh(a.serverSyncTree_,t,i)||K.EMPTY_NODE}function Hh(a,t=a.transactionQueueTree_){if(t||Fo(a,t),fa(t)){const i=Qv(a,t);H(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&XA(a,kl(t),i)}else jv(t)&&Go(t,i=>{Hh(a,i)})}function XA(a,t,i){const l=i.map(g=>g.currentWriteId),o=Yv(a,t,l);let f=o;const h=o.hash();for(let g=0;g<i.length;g++){const E=i[g];H(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const y=ht(t,E.path);f=f.updateChild(y,E.currentOutputSnapshotRaw)}const m=f.val(!0),p=t;a.server_.put(p.toString(),m,g=>{Po(a,"transaction put response",{path:p.toString(),status:g});let E=[];if(g==="ok"){const y=[];for(let b=0;b<i.length;b++)i[b].status=2,E=E.concat($i(a.serverSyncTree_,i[b].currentWriteId)),i[b].onComplete&&y.push(()=>i[b].onComplete(null,!0,i[b].currentOutputSnapshotResolved)),i[b].unwatcher();Fo(a,Lh(a.transactionQueueTree_,t)),Hh(a,a.transactionQueueTree_),fn(a.eventQueue_,t,E);for(let b=0;b<y.length;b++)ca(y[b])}else{if(g==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{Tt("transaction at "+p.toString()+" failed: "+g);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=g}Yo(a,t)}},h)}function Yo(a,t){const i=Fv(a,t),l=kl(i),o=Qv(a,i);return KA(a,o,l),l}function KA(a,t,i){if(t.length===0)return;const l=[];let o=[];const h=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const p=t[m],g=ht(i,p.path);let E=!1,y;if(H(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)E=!0,y=p.abortReason,o=o.concat($i(a.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=jA)E=!0,y="maxretry",o=o.concat($i(a.serverSyncTree_,p.currentWriteId,!0));else{const b=Yv(a,p.path,h);p.currentInputSnapshot=b;const L=t[m].update(b.val());if(L!==void 0){kh("transaction failed: Data returned ",L,p.path);let I=tt(L);typeof L=="object"&&L!=null&&Hn(L,".priority")||(I=I.updatePriority(b.getPriority()));const q=p.currentWriteId,F=zh(a),W=kv(I,b,F);p.currentOutputSnapshotRaw=I,p.currentOutputSnapshotResolved=W,p.currentWriteId=Pv(a),h.splice(h.indexOf(q),1),o=o.concat(Dv(a.serverSyncTree_,p.path,W,p.currentWriteId,p.applyLocally)),o=o.concat($i(a.serverSyncTree_,q,!0))}else E=!0,y="nodata",o=o.concat($i(a.serverSyncTree_,p.currentWriteId,!0))}fn(a.eventQueue_,i,o),o=[],E&&(t[m].status=2,(function(b){setTimeout(b,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(y==="nodata"?l.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):l.push(()=>t[m].onComplete(new Error(y),!1,null))))}Fo(a,a.transactionQueueTree_);for(let m=0;m<l.length;m++)ca(l[m]);Hh(a,a.transactionQueueTree_)}function Fv(a,t){let i,l=a.transactionQueueTree_;for(i=fe(t);i!==null&&fa(l)===void 0;)l=Lh(l,i),t=De(t),i=fe(t);return l}function Qv(a,t){const i=[];return Xv(a,t,i),i.sort((l,o)=>l.order-o.order),i}function Xv(a,t,i){const l=fa(t);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);Go(t,o=>{Xv(a,o,i)})}function Fo(a,t){const i=fa(t);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,zv(t,i.length>0?i:void 0)}Go(t,l=>{Fo(a,l)})}function Kv(a,t){const i=kl(Fv(a,t)),l=Lh(a.transactionQueueTree_,t);return AA(l,o=>{If(a,o)}),If(a,l),Hv(l,o=>{If(a,o)}),i}function If(a,t){const i=fa(t);if(i){const l=[];let o=[],f=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(H(f===h-1,"All SENT items should be at beginning of queue."),f=h,i[h].status=3,i[h].abortReason="set"):(H(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat($i(a.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&l.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?zv(t,void 0):i.length=f+1,fn(a.eventQueue_,kl(t),o);for(let h=0;h<l.length;h++)ca(l[h])}}function ZA(a){let t="";const i=a.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function WA(a){const t={};a.charAt(0)==="?"&&(a=a.substring(1));for(const i of a.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Tt(`Invalid query segment '${i}' in query '${a}'`)}return t}const W_=function(a,t){const i=JA(a),l=i.namespace;i.domain==="firebase.com"&&kn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||u1();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Xy(i.host,i.secure,l,o,t,"",l!==i.subdomain),path:new Re(i.pathString)}},JA=function(a){let t="",i="",l="",o="",f="",h=!0,m="https",p=443;if(typeof a=="string"){let g=a.indexOf("//");g>=0&&(m=a.substring(0,g-1),a=a.substring(g+2));let E=a.indexOf("/");E===-1&&(E=a.length);let y=a.indexOf("?");y===-1&&(y=a.length),t=a.substring(0,Math.min(E,y)),E<y&&(o=ZA(a.substring(E,y)));const b=WA(a.substring(Math.min(a.length,y)));g=t.indexOf(":"),g>=0?(h=m==="https"||m==="wss",p=parseInt(t.substring(g+1),10)):g=t.length;const L=t.slice(0,g);if(L.toLowerCase()==="localhost")i="localhost";else if(L.split(".").length<=2)i=L;else{const I=t.indexOf(".");l=t.substring(0,I).toLowerCase(),i=t.substring(I+1),f=l}"ns"in b&&(f=b.ns)}return{host:t,port:p,domain:i,subdomain:l,secure:h,scheme:m,pathString:o,namespace:f}};class $A{constructor(t,i,l,o){this.eventType=t,this.eventRegistration=i,this.snapshot=l,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Xe(this.snapshot.exportVal())}}class eN{constructor(t,i,l){this.eventRegistration=t,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class tN{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Bh{constructor(t,i,l,o){this._repo=t,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return oe(this._path)?null:iv(this._path)}get ref(){return new Bn(this._repo,this._path)}get _queryIdentifier(){const t=k_(this._queryParams),i=dh(t);return i==="{}"?"default":i}get _queryObject(){return k_(this._queryParams)}isEqual(t){if(t=Qt(t),!(t instanceof Bh))return!1;const i=this._repo===t._repo,l=lv(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+F1(this._path)}}class Bn extends Bh{constructor(t,i){super(t,i,new Sh,!1)}get parent(){const t=av(this._path);return t===null?null:new Bn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Rl{constructor(t,i,l){this._node=t,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Re(t),l=eh(this.ref,t);return new Rl(this._node.getChild(i),l,ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>t(new Rl(o,eh(this.ref,l),ze)))}hasChild(t){const i=new Re(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Zv(a,t){return a=Qt(a),a._checkNotDeleted("ref"),t!==void 0?eh(a._root,t):a._root}function eh(a,t){return a=Qt(a),fe(a._path)===null?MA("child","path",t):Vv("child","path",t),new Bn(a._repo,Ke(a._path,t))}function nN(a,t){a=Qt(a),xA("set",a._path),DA("set",t,a._path);const i=new ko;return PA(a._repo,a._path,t,null,i.wrapCallback(()=>{})),i.promise}function iN(a){a=Qt(a);const t=new tN(()=>{}),i=new qh(t);return GA(a._repo,a,i).then(l=>new Rl(l,new Bn(a._repo,a._path),a._queryParams.getIndex()))}class qh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const l=i._queryParams.getIndex();return new $A("value",this,new Rl(t.snapshotNode,new Bn(i._repo,i._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new eN(this,t,i):null}matches(t){return t instanceof qh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}nA(Bn);rA(Bn);const sN="FIREBASE_DATABASE_EMULATOR_HOST",th={};let aN=!1;function lN(a,t,i,l){const o=t.lastIndexOf(":"),f=t.substring(0,o),h=la(f);a.repoInfo_=new Xy(t,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,i),l&&(a.authTokenProvider_=l)}function rN(a,t,i,l,o){let f=l||a.options.databaseURL;f===void 0&&(a.options.projectId||kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ut("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=W_(f,o),m=h.repoInfo,p;typeof process<"u"&&y_&&(p=y_[sN]),p?(f=`http://${p}?ns=${m.namespace}`,h=W_(f,o),m=h.repoInfo):h.repoInfo.secure;const g=new S1(a.name,a.options,t);IA("Invalid Firebase Database URL",h),oe(h.path)||kn("Database URL must point to the root of a Firebase Database (not including a child path).");const E=uN(m,a,g,new v1(a,i));return new cN(E,a)}function oN(a,t){const i=th[t];(!i||i[a.key]!==a)&&kn(`Database ${t}(${a.repoInfo_}) has already been deleted.`),FA(a),delete i[a.key]}function uN(a,t,i,l){let o=th[t.name];o||(o={},th[t.name]=o);let f=o[a.toURLString()];return f&&kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new HA(a,aN,i,l),o[a.toURLString()]=f,f}class cN{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bn(this._repo,pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(oN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&kn("Cannot call "+t+" on a deleted database.")}}function fN(a=Dy(),t){const i=hh(a,"database").getImmediate({identifier:t});if(!i._instanceStarted){const l=wb("database");l&&hN(i,...l)}return i}function hN(a,t,i,l={}){a=Qt(a),a._checkNotDeleted("useEmulator");const o=`${t}:${i}`,f=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&es(l,f.repoInfo_.emulatorOptions))return;kn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)l.mockUserToken&&kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new oo(oo.OWNER);else if(l.mockUserToken){const m=typeof l.mockUserToken=="string"?l.mockUserToken:Rb(l.mockUserToken,a.app.options.projectId);h=new oo(m)}la(t)&&(Ty(t),Cy("Database",!0)),lN(f,o,l,h)}function dN(a){i1(oa),ta(new ts("database",(t,{instanceIdentifier:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),f=t.getProvider("app-check-internal");return rN(l,o,f,i)},"PUBLIC").setMultipleInstances(!0)),Si(v_,S_,a),Si(v_,S_,"esm2020")}Un.prototype.simpleListen=function(a,t){this.sendRequest("q",{p:a},t)};Un.prototype.echo=function(a,t){this.sendRequest("echo",{d:a},t)};dN();function Wv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mN=Wv,Jv=new Dl("auth","Firebase",Wv());const Do=new ch("@firebase/auth");function pN(a,...t){Do.logLevel<=Ae.WARN&&Do.warn(`Auth (${oa}): ${a}`,...t)}function uo(a,...t){Do.logLevel<=Ae.ERROR&&Do.error(`Auth (${oa}): ${a}`,...t)}function zn(a,...t){throw Vh(a,...t)}function un(a,...t){return Vh(a,...t)}function $v(a,t,i){const l={...mN(),[t]:i};return new Dl("auth","Firebase",l).create(t,{appName:a.name})}function Ti(a){return $v(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vh(a,...t){if(typeof a!="string"){const i=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=a.name),a._errorFactory.create(i,...l)}return Jv.create(a,...t)}function Z(a,t,...i){if(!a)throw Vh(t,...i)}function xn(a){const t="INTERNAL ASSERTION FAILED: "+a;throw uo(t),new Error(t)}function jn(a,t){a||xn(t)}function nh(){return typeof self<"u"&&self.location?.href||""}function gN(){return J_()==="http:"||J_()==="https:"}function J_(){return typeof self<"u"&&self.location?.protocol||null}function _N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gN()||xb()||"connection"in navigator)?navigator.onLine:!0}function yN(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,jn(i>t,"Short delay should be less than long delay!"),this.isMobile=oh()||Ay()}get(){return _N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gh(a,t){jn(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class e0{static initialize(t,i,l){this.fetchImpl=t,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EN=new zl(3e4,6e4);function Qo(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function ha(a,t,i,l,o={}){return t0(a,o,async()=>{let f={},h={};l&&(t==="GET"?h=l:f={body:JSON.stringify(l)});const m=ra({key:a.config.apiKey,...h}).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const g={method:t,headers:p,...f};return Mb()||(g.referrerPolicy="no-referrer"),a.emulatorConfig&&la(a.emulatorConfig.host)&&(g.credentials="include"),e0.fetch()(await i0(a,a.config.apiHost,i,m),g)})}async function t0(a,t,i){a._canInitEmulator=!1;const l={...vN,...t};try{const o=new bN(a),f=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await f.json();if("needConfirmation"in h)throw ro(a,"account-exists-with-different-credential",h);if(f.ok&&!("errorMessage"in h))return h;{const m=f.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ro(a,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ro(a,"email-already-in-use",h);if(p==="USER_DISABLED")throw ro(a,"user-disabled",h);const E=l[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw $v(a,E,g);zn(a,E)}}catch(o){if(o instanceof Oi)throw o;zn(a,"network-request-failed",{message:String(o)})}}async function n0(a,t,i,l,o={}){const f=await ha(a,t,i,l,o);return"mfaPendingCredential"in f&&zn(a,"multi-factor-auth-required",{_serverResponse:f}),f}async function i0(a,t,i,l){const o=`${t}${i}?${l}`,f=a,h=f.config.emulator?Gh(a.config,o):`${a.config.apiScheme}://${o}`;return SN.includes(i)&&(await f._persistenceManagerAvailable,f._getPersistenceType()==="COOKIE")?f._getPersistence()._getFinalTarget(h).toString():h}class bN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(un(this.auth,"network-request-failed")),EN.get())})}}function ro(a,t,i){const l={appName:a.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=un(a,t,l);return o.customData._tokenResponse=i,o}async function TN(a,t){return ha(a,"POST","/v1/accounts:delete",t)}async function Mo(a,t){return ha(a,"POST","/v1/accounts:lookup",t)}function yl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CN(a,t=!1){const i=Qt(a),l=await i.getIdToken(t),o=Ph(l);Z(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const f=typeof o.firebase=="object"?o.firebase:void 0,h=f?.sign_in_provider;return{claims:o,token:l,authTime:yl(Uf(o.auth_time)),issuedAtTime:yl(Uf(o.iat)),expirationTime:yl(Uf(o.exp)),signInProvider:h||null,signInSecondFactor:f?.sign_in_second_factor||null}}function Uf(a){return Number(a)*1e3}function Ph(a){const[t,i,l]=a.split(".");if(t===void 0||i===void 0||l===void 0)return uo("JWT malformed, contained fewer than 3 sections"),null;try{const o=po(i);return o?JSON.parse(o):(uo("Failed to decode base64 JWT payload"),null)}catch(o){return uo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $_(a){const t=Ph(a);return Z(t,"internal-error"),Z(typeof t.exp<"u","internal-error"),Z(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ol(a,t,i=!1){if(i)return t;try{return await t}catch(l){throw l instanceof Oi&&AN(l)&&a.auth.currentUser===a&&await a.auth.signOut(),l}}function AN({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class NN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ih{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xo(a){const t=a.auth,i=await a.getIdToken(),l=await Ol(a,Mo(t,{idToken:i}));Z(l?.users.length,t,"internal-error");const o=l.users[0];a._notifyReloadListener(o);const f=o.providerUserInfo?.length?s0(o.providerUserInfo):[],h=RN(a.providerData,f),m=a.isAnonymous,p=!(a.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ih(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(a,E)}async function wN(a){const t=Qt(a);await xo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function RN(a,t){return[...a.filter(l=>!t.some(o=>o.providerId===l.providerId)),...t]}function s0(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function ON(a,t){const i=await t0(a,{},async()=>{const l=ra({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:f}=a.config,h=await i0(a,o,"/v1/token",`key=${f}`),m=await a._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:l};return a.emulatorConfig&&la(a.emulatorConfig.host)&&(p.credentials="include"),e0.fetch()(h,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function DN(a,t){return ha(a,"POST","/v2/accounts:revokeToken",Qo(a,t))}class Ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Z(t.idToken,"internal-error"),Z(typeof t.idToken<"u","internal-error"),Z(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Z(t.length!==0,"internal-error");const i=$_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:l,refreshToken:o,expiresIn:f}=await ON(t,i);this.updateTokensAndExpiration(l,o,Number(f))}updateTokensAndExpiration(t,i,l){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,i){const{refreshToken:l,accessToken:o,expirationTime:f}=i,h=new Ws;return l&&(Z(typeof l=="string","internal-error",{appName:t}),h.refreshToken=l),o&&(Z(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),f&&(Z(typeof f=="number","internal-error",{appName:t}),h.expirationTime=f),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ws,this.toJSON())}_performRefresh(){return xn("not implemented")}}function di(a,t){Z(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class nn{constructor({uid:t,auth:i,stsTokenManager:l,...o}){this.providerId="firebase",this.proactiveRefresh=new NN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ih(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return Z(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return CN(this,t)}reload(){return wN(this)}_assign(t){this!==t&&(Z(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new nn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),i&&await xo(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jt(this.auth.app))return Promise.reject(Ti(this.auth));const t=await this.getIdToken();return await Ol(this,TN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const l=i.displayName??void 0,o=i.email??void 0,f=i.phoneNumber??void 0,h=i.photoURL??void 0,m=i.tenantId??void 0,p=i._redirectEventId??void 0,g=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:y,emailVerified:b,isAnonymous:L,providerData:I,stsTokenManager:z}=i;Z(y&&z,t,"internal-error");const q=Ws.fromJSON(this.name,z);Z(typeof y=="string",t,"internal-error"),di(l,t.name),di(o,t.name),Z(typeof b=="boolean",t,"internal-error"),Z(typeof L=="boolean",t,"internal-error"),di(f,t.name),di(h,t.name),di(m,t.name),di(p,t.name),di(g,t.name),di(E,t.name);const F=new nn({uid:y,auth:t,email:o,emailVerified:b,displayName:l,isAnonymous:L,photoURL:h,phoneNumber:f,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:E});return I&&Array.isArray(I)&&(F.providerData=I.map(W=>({...W}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(t,i,l=!1){const o=new Ws;o.updateFromServerResponse(i);const f=new nn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:l});return await xo(f),f}static async _fromGetAccountInfoResponse(t,i,l){const o=i.users[0];Z(o.localId!==void 0,"internal-error");const f=o.providerUserInfo!==void 0?s0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!f?.length,m=new Ws;m.updateFromIdToken(l);const p=new nn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ih(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!f?.length};return Object.assign(p,g),p}}const ey=new Map;function In(a){jn(a instanceof Function,"Expected a class definition");let t=ey.get(a);return t?(jn(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,ey.set(a,t),t)}class a0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}a0.type="NONE";const ty=a0;function co(a,t,i){return`firebase:${a}:${t}:${i}`}class Js{constructor(t,i,l){this.persistence=t,this.auth=i,this.userKey=l;const{config:o,name:f}=this.auth;this.fullUserKey=co(this.userKey,o.apiKey,f),this.fullPersistenceKey=co("persistence",o.apiKey,f),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Mo(this.auth,{idToken:t}).catch(()=>{});return i?nn._fromGetAccountInfoResponse(this.auth,i,t):null}return nn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,l="authUser"){if(!i.length)return new Js(In(ty),t,l);const o=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let f=o[0]||In(ty);const h=co(l,t.config.apiKey,t.name);let m=null;for(const g of i)try{const E=await g._get(h);if(E){let y;if(typeof E=="string"){const b=await Mo(t,{idToken:E}).catch(()=>{});if(!b)break;y=await nn._fromGetAccountInfoResponse(t,b,E)}else y=nn._fromJSON(t,E);g!==f&&(m=y),f=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!f._shouldAllowMigration||!p.length?new Js(f,t,l):(f=p[0],m&&await f._set(h,m.toJSON()),await Promise.all(i.map(async g=>{if(g!==f)try{await g._remove(h)}catch{}})),new Js(f,t,l))}}function ny(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(u0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(l0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(f0(t))return"Blackberry";if(h0(t))return"Webos";if(r0(t))return"Safari";if((t.includes("chrome/")||o0(t))&&!t.includes("edge/"))return"Chrome";if(c0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=a.match(i);if(l?.length===2)return l[1]}return"Other"}function l0(a=dt()){return/firefox\//i.test(a)}function r0(a=dt()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function o0(a=dt()){return/crios\//i.test(a)}function u0(a=dt()){return/iemobile/i.test(a)}function c0(a=dt()){return/android/i.test(a)}function f0(a=dt()){return/blackberry/i.test(a)}function h0(a=dt()){return/webos/i.test(a)}function Yh(a=dt()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function MN(a=dt()){return Yh(a)&&!!window.navigator?.standalone}function xN(){return Ib()&&document.documentMode===10}function d0(a=dt()){return Yh(a)||c0(a)||h0(a)||f0(a)||/windows phone/i.test(a)||u0(a)}function m0(a,t=[]){let i;switch(a){case"Browser":i=ny(dt());break;case"Worker":i=`${ny(dt())}-${a}`;break;default:i=a}const l=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${oa}/${l}`}class IN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const l=f=>new Promise((h,m)=>{try{const p=t(f);h(p)}catch(p){m(p)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const l of this.queue)await l(t),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}}}async function UN(a,t={}){return ha(a,"GET","/v2/passwordPolicy",Qo(a,t))}const LN=6;class kN{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??LN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=t.length>=l),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<t.length;o++)l=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,i,l,o,f){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=f))}}class zN{constructor(t,i,l,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iy(this),this.idTokenSubscription=new iy(this),this.beforeStateQueue=new IN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(f=>this._resolvePersistenceManagerAvailable=f)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=In(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Js.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Mo(this,{idToken:t}),l=await nn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Jt(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=this.redirectUser?._redirectEventId,h=l?._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===h)&&m?.user&&(l=m.user,o=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await xo(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=yN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jt(this.app))return Promise.reject(Ti(this));const i=t?Qt(t):null;return i&&Z(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Z(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jt(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jt(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(In(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await UN(this),i=new kN(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dl("auth","Firebase",t())}onAuthStateChanged(t,i,l){return this.registerStateListener(this.authStateSubscription,t,i,l)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,l){return this.registerStateListener(this.idTokenSubscription,t,i,l)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await DN(this,l)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const l=await this.getOrInitRedirectPersistenceManager(i);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&In(t)||this._popupRedirectResolver;Z(i,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[In(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,l,o){if(this._deleted)return()=>{};const f=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(m,this,"internal-error"),m.then(()=>{h||f(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,l,o);return()=>{h=!0,p()}}else{const p=t.addObserver(i);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=m0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){if(Jt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&pN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Xo(a){return Qt(a)}class iy{constructor(t){this.auth=t,this.observer=null,this.addObserver=Gb(i=>this.observer=i)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jN(a){Fh=a}function HN(a){return Fh.loadJS(a)}function BN(){return Fh.gapiScript}function qN(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function VN(a,t){const i=hh(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),f=i.getOptions();if(es(f,t??{}))return o;zn(o,"already-initialized")}return i.initialize({options:t})}function GN(a,t){const i=t?.persistence||[],l=(Array.isArray(i)?i:[i]).map(In);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(l,t?.popupRedirectResolver)}function PN(a,t,i){const l=Xo(a);Z(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const o=!1,f=p0(t),{host:h,port:m}=YN(t),p=m===null?"":`:${m}`,g={url:`${f}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:f.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!l._canInitEmulator){Z(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),Z(es(g,l.config.emulator)&&es(E,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=g,l.emulatorConfig=E,l.settings.appVerificationDisabledForTesting=!0,la(h)?(Ty(`${f}//${h}${p}`),Cy("Auth",!0)):FN()}function p0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function YN(a){const t=p0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const f=o[1];return{host:f,port:sy(l.substr(f.length+1))}}else{const[f,h]=l.split(":");return{host:f,port:sy(h)}}}function sy(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function FN(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class g0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return xn("not implemented")}_getIdTokenResponse(t){return xn("not implemented")}_linkToIdToken(t,i){return xn("not implemented")}_getReauthenticationResolver(t){return xn("not implemented")}}async function $s(a,t){return n0(a,"POST","/v1/accounts:signInWithIdp",Qo(a,t))}const QN="http://localhost";class as extends g0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new as(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:o,...f}=i;if(!l||!o)return null;const h=new as(l,o);return h.idToken=f.idToken||void 0,h.accessToken=f.accessToken||void 0,h.secret=f.secret,h.nonce=f.nonce,h.pendingToken=f.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return $s(t,i)}_linkToIdToken(t,i){const l=this.buildRequest();return l.idToken=i,$s(t,l)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,$s(t,i)}buildRequest(){const t={requestUri:QN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ra(i)}return t}}class _0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class jl extends _0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class mi extends jl{constructor(){super("facebook.com")}static credential(t){return as._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mi.credentialFromTaggedObject(t)}static credentialFromError(t){return mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mi.credential(t.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";class pi extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return as._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:l}=t;if(!i&&!l)return null;try{return pi.credential(i,l)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";class gi extends jl{constructor(){super("github.com")}static credential(t){return as._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gi.credentialFromTaggedObject(t)}static credentialFromError(t){return gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gi.credential(t.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";class _i extends jl{constructor(){super("twitter.com")}static credential(t,i){return as._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=t;if(!i||!l)return null;try{return _i.credential(i,l)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";async function XN(a,t){return n0(a,"POST","/v1/accounts:signUp",Qo(a,t))}class Ri{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,l,o=!1){const f=await nn._fromIdTokenResponse(t,l,o),h=ay(l);return new Ri({user:f,providerId:h,_tokenResponse:l,operationType:i})}static async _forOperation(t,i,l){await t._updateTokensIfNecessary(l,!0);const o=ay(l);return new Ri({user:t,providerId:o,_tokenResponse:l,operationType:i})}}function ay(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function y0(a){if(Jt(a.app))return Promise.reject(Ti(a));const t=Xo(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ri({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await XN(t,{returnSecureToken:!0}),l=await Ri._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(l.user),l}class Io extends Oi{constructor(t,i,l,o){super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,Io.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,i,l,o){return new Io(t,i,l,o)}}function v0(a,t,i,l){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(f=>{throw f.code==="auth/multi-factor-auth-required"?Io._fromErrorAndOperation(a,f,t,l):f})}async function KN(a,t,i=!1){const l=await Ol(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Ri._forOperation(a,"link",l)}async function ZN(a,t,i=!1){const{auth:l}=a;if(Jt(l.app))return Promise.reject(Ti(l));const o="reauthenticate";try{const f=await Ol(a,v0(l,o,t,a),i);Z(f.idToken,l,"internal-error");const h=Ph(f.idToken);Z(h,l,"internal-error");const{sub:m}=h;return Z(a.uid===m,l,"user-mismatch"),Ri._forOperation(a,o,f)}catch(f){throw f?.code==="auth/user-not-found"&&zn(l,"user-mismatch"),f}}async function WN(a,t,i=!1){if(Jt(a.app))return Promise.reject(Ti(a));const l="signIn",o=await v0(a,l,t),f=await Ri._fromIdTokenResponse(a,l,o);return i||await a._updateCurrentUser(f.user),f}function JN(a,t,i,l){return Qt(a).onIdTokenChanged(t,i,l)}function $N(a,t,i){return Qt(a).beforeAuthStateChanged(t,i)}const Uo="__sak";class S0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Uo,"1"),this.storage.removeItem(Uo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const ew=1e3,tw=10;class E0 extends S0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&t(i,o,l)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const l=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(l);!i&&this.localCache[l]===h||this.notifyListeners(l,h)},f=this.storage.getItem(l);xN()&&f!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,tw):o()}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:l}),!0)})},ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}E0.type="LOCAL";const nw=E0;class b0 extends S0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}b0.type="SESSION";const T0=b0;function iw(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ko{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const l=new Ko(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:l,eventType:o,data:f}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const m=Array.from(h).map(async g=>g(i.origin,f)),p=await iw(m);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ko.receivers=[];function Qh(a="",t=10){let i="";for(let l=0;l<t;l++)i+=Math.floor(Math.random()*10);return a+i}class sw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let f,h;return new Promise((m,p)=>{const g=Qh("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},l);h={messageChannel:o,onMessage(y){const b=y;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),f=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(f),m(b.data.response);break;default:clearTimeout(E),clearTimeout(f),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function cn(){return window}function aw(a){cn().location.href=a}function C0(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}async function lw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rw(){return navigator?.serviceWorker?.controller||null}function ow(){return C0()?self:null}const A0="firebaseLocalStorageDb",uw=1,Lo="firebaseLocalStorage",N0="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Zo(a,t){return a.transaction([Lo],t?"readwrite":"readonly").objectStore(Lo)}function cw(){const a=indexedDB.deleteDatabase(A0);return new Hl(a).toPromise()}function sh(){const a=indexedDB.open(A0,uw);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const l=a.result;try{l.createObjectStore(Lo,{keyPath:N0})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const l=a.result;l.objectStoreNames.contains(Lo)?t(l):(l.close(),await cw(),t(await sh()))})})}async function ly(a,t,i){const l=Zo(a,!0).put({[N0]:t,value:i});return new Hl(l).toPromise()}async function fw(a,t){const i=Zo(a,!1).get(t),l=await new Hl(i).toPromise();return l===void 0?null:l.value}function ry(a,t){const i=Zo(a,!0).delete(t);return new Hl(i).toPromise()}const hw=800,dw=3;class w0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sh(),this.db)}async _withRetries(t){let i=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(i++>dw)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ko._getInstance(ow()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lw(),!this.activeServiceWorker)return;this.sender=new sw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sh();return await ly(t,Uo,"1"),await ry(t,Uo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>ly(l,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(l=>fw(l,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ry(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const f=Zo(o,!1).getAll();return new Hl(f).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(t.length!==0)for(const{fbase_key:o,value:f}of t)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(f)&&(this.notifyListeners(o,f),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w0.type="LOCAL";const mw=w0;new zl(3e4,6e4);function pw(a,t){return t?In(t):(Z(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Xh extends g0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $s(t,this._buildIdpRequest())}_linkToIdToken(t,i){return $s(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return $s(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function gw(a){return WN(a.auth,new Xh(a),a.bypassAuthState)}function _w(a){const{auth:t,user:i}=a;return Z(i,t,"internal-error"),ZN(i,new Xh(a),a.bypassAuthState)}async function yw(a){const{auth:t,user:i}=a;return Z(i,t,"internal-error"),KN(i,new Xh(a),a.bypassAuthState)}class R0{constructor(t,i,l,o,f=!1){this.auth=t,this.resolver=l,this.user=o,this.bypassAuthState=f,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:l,postBody:o,tenantId:f,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:i,sessionId:l,tenantId:f||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gw;case"linkViaPopup":case"linkViaRedirect":return yw;case"reauthViaPopup":case"reauthViaRedirect":return _w;default:zn(this.auth,"internal-error")}}resolve(t){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vw=new zl(2e3,1e4);class Xs extends R0{constructor(t,i,l,o,f){super(t,i,o,f),this.provider=l,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Z(t,this.auth,"internal-error"),t}async onExecution(){jn(this.filter.length===1,"Popup operations only handle one event");const t=Qh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vw.get())};t()}}Xs.currentPopupAction=null;const Sw="pendingRedirect",fo=new Map;class Ew extends R0{constructor(t,i,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let t=fo.get(this.auth._key());if(!t){try{const l=await bw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(i){t=()=>Promise.reject(i)}fo.set(this.auth._key(),t)}return this.bypassAuthState||fo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bw(a,t){const i=Aw(t),l=Cw(a);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function Tw(a,t){fo.set(a._key(),t)}function Cw(a){return In(a._redirectPersistence)}function Aw(a){return co(Sw,a.config.apiKey,a.name)}async function Nw(a,t,i=!1){if(Jt(a.app))return Promise.reject(Ti(a));const l=Xo(a),o=pw(l,t),h=await new Ew(l,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await l._persistUserIfCurrent(h.user),await l._setRedirectUser(null,t)),h}const ww=600*1e3;class Rw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(i=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ow(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!O0(t)){const l=t.error.code?.split("auth/")[1]||"internal-error";i.onError(un(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const l=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ww&&this.cachedEventUids.clear(),this.cachedEventUids.has(oy(t))}saveEventToCache(t){this.cachedEventUids.add(oy(t)),this.lastProcessedEventTime=Date.now()}}function oy(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function O0({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function Ow(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O0(a);default:return!1}}async function Dw(a,t={}){return ha(a,"GET","/v1/projects",t)}const Mw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xw=/^https?/;async function Iw(a){if(a.config.emulator)return;const{authorizedDomains:t}=await Dw(a);for(const i of t)try{if(Uw(i))return}catch{}zn(a,"unauthorized-domain")}function Uw(a){const t=nh(),{protocol:i,hostname:l}=new URL(t);if(a.startsWith("chrome-extension://")){const h=new URL(a);return h.hostname===""&&l===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===l}if(!xw.test(i))return!1;if(Mw.test(a))return l===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}const Lw=new zl(3e4,6e4);function uy(){const a=cn().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function kw(a){return new Promise((t,i)=>{function l(){uy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uy(),i(un(a,"network-request-failed"))},timeout:Lw.get()})}if(cn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(cn().gapi?.load)l();else{const o=qN("iframefcb");return cn()[o]=()=>{gapi.load?l():i(un(a,"network-request-failed"))},HN(`${BN()}?onload=${o}`).catch(f=>i(f))}}).catch(t=>{throw ho=null,t})}let ho=null;function zw(a){return ho=ho||kw(a),ho}const jw=new zl(5e3,15e3),Hw="__/auth/iframe",Bw="emulator/auth/iframe",qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gw(a){const t=a.config;Z(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Gh(t,Bw):`https://${a.config.authDomain}/${Hw}`,l={apiKey:t.apiKey,appName:a.name,v:oa},o=Vw.get(a.config.apiHost);o&&(l.eid=o);const f=a._getFrameworks();return f.length&&(l.fw=f.join(",")),`${i}?${ra(l).slice(1)}`}async function Pw(a){const t=await zw(a),i=cn().gapi;return Z(i,a,"internal-error"),t.open({where:document.body,url:Gw(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qw,dontclear:!0},l=>new Promise(async(o,f)=>{await l.restyle({setHideOnLeave:!1});const h=un(a,"network-request-failed"),m=cn().setTimeout(()=>{f(h)},jw.get());function p(){cn().clearTimeout(m),o(l)}l.ping(p).then(p,()=>{f(h)})}))}const Yw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fw=500,Qw=600,Xw="_blank",Kw="http://localhost";class cy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zw(a,t,i,l=Fw,o=Qw){const f=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-l)/2,0).toString();let m="";const p={...Yw,width:l.toString(),height:o.toString(),top:f,left:h},g=dt().toLowerCase();i&&(m=o0(g)?Xw:i),l0(g)&&(t=t||Kw,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[L,I])=>`${b}${L}=${I},`,"");if(MN(g)&&m!=="_self")return Ww(t||"",m),new cy(null);const y=window.open(t||"",m,E);Z(y,a,"popup-blocked");try{y.focus()}catch{}return new cy(y)}function Ww(a,t){const i=document.createElement("a");i.href=a,i.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}const Jw="__/auth/handler",$w="emulator/auth/handler",eR=encodeURIComponent("fac");async function fy(a,t,i,l,o,f){Z(a.config.authDomain,a,"auth-domain-config-required"),Z(a.config.apiKey,a,"invalid-api-key");const h={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:l,v:oa,eventId:o};if(t instanceof _0){t.setDefaultLanguage(a.languageCode),h.providerId=t.providerId||"",Hf(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,y]of Object.entries({}))h[E]=y}if(t instanceof jl){const E=t.getScopes().filter(y=>y!=="");E.length>0&&(h.scopes=E.join(","))}a.tenantId&&(h.tid=a.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await a._getAppCheckToken(),g=p?`#${eR}=${encodeURIComponent(p)}`:"";return`${tR(a)}?${ra(m).slice(1)}${g}`}function tR({config:a}){return a.emulator?Gh(a,$w):`https://${a.authDomain}/${Jw}`}const Lf="webStorageSupport";class nR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T0,this._completeRedirectFn=Nw,this._overrideRedirectResult=Tw}async _openPopup(t,i,l,o){jn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const f=await fy(t,i,l,nh(),o);return Zw(t,f,Qh())}async _openRedirect(t,i,l,o){await this._originValidation(t);const f=await fy(t,i,l,nh(),o);return aw(f),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:f}=this.eventManagers[i];return o?Promise.resolve(o):(jn(f,"If manager is not set, promise should be"),f)}const l=this.initAndGetManager(t);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(t){const i=await Pw(t),l=new Rw(t);return i.register("authEvent",o=>(Z(o?.authEvent,t,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=i,l}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Lf,{type:Lf},o=>{const f=o?.[0]?.[Lf];f!==void 0&&i(!!f),zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Iw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return d0()||r0()||Yh()}}const iR=nR;var hy="@firebase/auth",dy="1.12.0";class sR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(l=>{t(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lR(a){ta(new ts("auth",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),f=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=l.options;Z(h&&!h.includes(":"),"invalid-api-key",{appName:l.name});const p={apiKey:h,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m0(a)},g=new zN(l,o,f,p);return GN(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,l)=>{t.getProvider("auth-internal").initialize()})),ta(new ts("auth-internal",t=>{const i=Xo(t.getProvider("auth").getImmediate());return(l=>new sR(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(hy,dy,aR(a)),Si(hy,dy,"esm2020")}const rR=300,oR=by("authIdTokenMaxAge")||rR;let my=null;const uR=a=>async t=>{const i=t&&await t.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>oR)return;const o=i?.token;my!==o&&(my=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cR(a=Dy()){const t=hh(a,"auth");if(t.isInitialized())return t.getImmediate();const i=VN(a,{popupRedirectResolver:iR,persistence:[mw,nw,T0]}),l=by("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const f=new URL(l,location.origin);if(location.origin===f.origin){const h=uR(f.toString());$N(i,h,()=>h(i.currentUser)),JN(i,m=>h(m))}}const o=Sy("auth");return o&&PN(i,`http://${o}`),i}function fR(){return document.getElementsByTagName("head")?.[0]??document}jN({loadJS(a){return new Promise((t,i)=>{const l=document.createElement("script");l.setAttribute("src",a),l.onload=t,l.onerror=o=>{const f=un("internal-error");f.customData=o,i(f)},l.type="text/javascript",l.charset="UTF-8",fR().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lR("Browser");const Ki={firebase:{apiKey:"AIzaSyBVlkuqYomFKQIeFR_MCF8ZE4y9M99tw_Q",authDomain:"cost-visualisation.firebaseapp.com",projectId:"cost-visualisation",storageBucket:"cost-visualisation.firebasestorage.app",messagingSenderId:"175479822391",appId:"1:175479822391:web:e208aaf08eebdfe9d647b2",databaseURL:"https://cost-visualisation-default-rtdb.europe-west1.firebasedatabase.app/"}},kf={apiKey:Ki.firebase.apiKey,authDomain:Ki.firebase.authDomain,projectId:Ki.firebase.projectId,storageBucket:Ki.firebase.storageBucket,messagingSenderId:Ki.firebase.messagingSenderId,appId:Ki.firebase.appId,databaseURL:Ki.firebase.databaseURL};let zf,ls,Ci;try{kf.apiKey?(console.log("Initializing Firebase with config:",kf),zf=Oy(kf),ls=fN(zf),Ci=cR(zf),console.log("Firebase initialized, db:",ls)):console.warn("Firebase config missing. Save to Cloud will be disabled.")}catch(a){console.error("Error initializing Firebase:",a)}const hR=a=>a?a.replace(/[^\p{L}\p{N}\s]/gu,"").replace(/\s+/g,"").toUpperCase()||"OTHER":"",py=a=>a.map(({id:t,...i})=>({...i,type:hR(i.type)})),dR=async a=>{if(!ls||!Ci)throw new Error("Firebase is not configured. Please check your .env file.");try{let t=Ci.currentUser;t?console.log("Already logged in as:",t.uid):(console.log("Logging in anonymously..."),t=(await y0(Ci)).user,console.log("Logged in as:",t.uid));const i=t.uid;return console.log("Saving data to:","transactions/"+i),await nN(Zv(ls,"transactions/"+i),a),console.log("Save successful"),{success:!0}}catch(t){throw console.error("Error in saveTransactions:",t),t}},mR=async()=>{if(!ls||!Ci)throw new Error("Firebase is not configured. Please check your .env file.");try{let a=Ci.currentUser;a||(console.log("Logging in anonymously for fetch..."),a=(await y0(Ci)).user);const t=a.uid;return await D0(t)}catch(a){throw console.error("Error in fetchTransactions:",a),a}},D0=async a=>{if(!ls)throw new Error("Firebase is not configured.");try{console.log("Fetching public data from:","transactions/"+a);const t=await iN(Zv(ls,"transactions/"+a));return t.exists()?(console.log("Data retrieved successfully"),t.val()):(console.log("No data available"),null)}catch(t){throw console.error("Error in fetchPublicTransactions:",t),t}},jf=a=>{const t=[],i=[];return Array.isArray(a)?(a.forEach((l,o)=>{const f=[];l.date||f.push("Missing date"),l.name||f.push("Missing name"),(l.amount===void 0||l.amount===null)&&f.push("Missing amount");const h=l.type||"OTHER";l.amount&&isNaN(parseFloat(l.amount))&&f.push("Amount is not a number"),f.length>0?i.push({index:o,item:l,messages:f}):t.push({...l,type:h,id:l.id||(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"id-"+Math.random().toString(36).substring(2,15)),amount:parseFloat(l.amount)})}),{validTransactions:t,errors:i}):(i.push({message:"Retrieved data is not an array."}),{validTransactions:t,errors:i})};function pR(){const[a,t]=Oe.useState([]),[i,l]=Oe.useState(null),[o,f]=Oe.useState(""),[h,m]=Oe.useState(null),[p,g]=Oe.useState([]),[E,y]=Oe.useState(!1),[b,L]=Oe.useState(!0),[I,z]=Oe.useState(null),[q,F]=Oe.useState("transactions"),[W,$]=Oe.useState(null),[Ne,Ze]=Oe.useState(!1),[qe,ee]=Oe.useState(null);Oe.useEffect(()=>{fetch("https://open.er-api.com/v6/latest/PLN").then(j=>j.json()).then(j=>{j&&j.rates&&m(j.rates)}).catch(j=>console.error("Failed to fetch rates:",j));const D=new URLSearchParams(window.location.search).get("share");D?(Ze(!0),ee(D),F("dashboard"),Ve(D)):mt()},[]);const Ve=async S=>{L(!0);try{const D=await D0(S);if(D){const{validTransactions:j,errors:V}=jf(D);t(j),g(V)}}catch(D){console.error("Failed to load shared data:",D),z({message:"Failed to load shared dashboard. It might be private or deleted.",type:"error"})}finally{L(!1)}},mt=async()=>{L(!0);try{const S=await mR();if(S){const{validTransactions:D,errors:j}=jf(S);t(D),g(j),y(!1)}else y(!0)}catch(S){console.error("Failed to load data:",S)}finally{L(!1)}},qn=S=>{try{const D=JSON.parse(S),{validTransactions:j,errors:V}=jf(D);j.length>0?(t(j),g(V),y(!1),z({message:`Successfully imported ${j.length} transactions!`,type:"success"})):(z({message:"No valid transactions found in the provided JSON.",type:"error"}),V.length>0&&g(V))}catch{z({message:"Invalid JSON format. Please check your input.",type:"error"})}},kt=Oe.useMemo(()=>{const S=a.map(D=>D.type).filter(Boolean);return[...new Set(S)].sort()},[a]),rt=S=>{i?(t(D=>D.map(j=>j.id===i?{...S,id:i}:j)),l(null)):t(D=>[...D,{...S,id:crypto.randomUUID()}]),y(!1)},hn=S=>{l(S.id)},Xt=()=>{l(null)},At=S=>{$(S)},x=()=>{W&&(t(S=>{const D=S.filter(j=>j.id!==W);return D.length===0&&y(!0),D}),i===W&&l(null),$(null),z({message:"Transaction deleted successfully",type:"success"}))},B=()=>{const S=py(a);f(JSON.stringify(S,null,2))},X=async()=>{try{const S=py(a);await dR(S),z({message:"Successfully saved to cloud!",type:"success"})}catch(S){z({message:S.message||"Failed to save to cloud.",type:"error"})}},_e=()=>{const S=Ci.currentUser;if(!S){z({message:"Please save to cloud first to get a shareable link.",type:"error"});return}const D=`${window.location.origin}${window.location.pathname}?share=${S.uid}`;navigator.clipboard.writeText(D),z({message:"Share link copied to clipboard! Anyone with this link can view your dashboard.",type:"success"})},ve=a.find(S=>S.id===i);return C.jsxs("div",{className:"app-container",children:[C.jsx("h1",{children:"Cost Visualization"}),I&&C.jsx(pb,{message:I.message,type:I.type,onClose:()=>z(null)}),p.length>0&&C.jsx(db,{errors:p,onClose:()=>g([])}),Ne&&C.jsxs("div",{className:"share-banner",children:[C.jsx("span",{children:"Viewing Shared Dashboard"}),C.jsx("button",{className:"secondary small",onClick:()=>window.location.href=window.location.pathname,children:"Go to My Dashboard"})]}),!Ne&&C.jsxs("div",{className:"nav-tabs",children:[C.jsx("button",{className:`nav-tab ${q==="transactions"?"active":""}`,onClick:()=>F("transactions"),children:" Transactions"}),C.jsx("button",{className:`nav-tab ${q==="dashboard"?"active":""}`,onClick:()=>F("dashboard"),children:" Dashboard"})]}),q==="transactions"?C.jsxs("div",{style:{display:"grid",gap:"2rem",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))"},children:[C.jsx("div",{children:C.jsx(fb,{onSave:rt,editingTransaction:ve,onCancelEdit:Xt,existingTypes:kt})}),C.jsx("div",{children:b?C.jsx("div",{className:"card animate-fade-in",children:"Loading data..."}):C.jsxs(C.Fragment,{children:[E&&a.length===0?C.jsx(mb,{onImport:qn}):C.jsx(hb,{transactions:a,onEdit:hn,onDelete:At,rates:h}),a.length>0&&C.jsxs("div",{className:"card animate-fade-in",children:[C.jsx("button",{onClick:B,style:{width:"100%",marginBottom:"1rem"},children:"Generate JSON"}),C.jsx("button",{onClick:X,style:{width:"100%",marginBottom:"1rem"},className:"primary",children:"Save to Cloud (Firebase)"}),o&&C.jsxs("div",{children:[C.jsx("h3",{children:"JSON Output"}),C.jsx("pre",{className:"json-output",children:o}),C.jsx("button",{className:"secondary",onClick:()=>{navigator.clipboard.writeText(o),z({message:"Copied to clipboard!",type:"success"})},style:{marginTop:"0.5rem",fontSize:"0.8em"},children:"Copy to Clipboard"})]})]})]})})]}):C.jsxs("div",{className:"dashboard-view-container",children:[!Ne&&a.length>0&&C.jsx("div",{className:"dashboard-actions",children:C.jsx("button",{className:"secondary share-btn",onClick:_e,children:" Share Dashboard"})}),C.jsx(gb,{transactions:a})]}),C.jsx(_b,{isOpen:!!W,title:"Confirm Delete",message:"Are you sure you want to delete this transaction? This action cannot be undone.",onConfirm:x,onCancel:()=>$(null)})]})}cb.createRoot(document.getElementById("root")).render(C.jsx(Oe.StrictMode,{children:C.jsx(pR,{})}));
