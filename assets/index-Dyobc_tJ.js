(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function rb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var bf={exports:{}},_l={};var n_;function ob(){if(n_)return _l;n_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var m in o)m!=="key"&&(f[m]=o[m])}else f=o;return o=f.ref,{$$typeof:a,type:l,key:h,ref:o!==void 0?o:null,props:f}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var i_;function cb(){return i_||(i_=1,bf.exports=ob()),bf.exports}var y=cb(),Tf={exports:{}},re={};var s_;function ub(){if(s_)return re;s_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=S&&C[S]||C["@@iterator"],typeof C=="function"?C:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,ne={};function j(C,L,P){this.props=C,this.context=L,this.refs=ne,this.updater=P||I}j.prototype.isReactComponent={},j.prototype.setState=function(C,L){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,L,"setState")},j.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function $(){}$.prototype=j.prototype;function ee(C,L,P){this.props=C,this.context=L,this.refs=ne,this.updater=P||I}var Ne=ee.prototype=new $;Ne.constructor=ee,H(Ne,j.prototype),Ne.isPureReactComponent=!0;var ze=Array.isArray;function Ee(){}var se={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function he(C,L,P){var V=P.ref;return{$$typeof:a,type:C,key:L,ref:V!==void 0?V:null,props:P}}function Z(C,L){return he(C.type,L,C.props)}function ie(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function q(C){var L={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(P){return L[P]})}var ht=/\/+/g;function nt(C,L){return typeof C=="object"&&C!==null&&C.key!=null?q(""+C.key):L.toString(36)}function Je(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ee,Ee):(C.status="pending",C.then(function(L){C.status==="pending"&&(C.status="fulfilled",C.value=L)},function(L){C.status==="pending"&&(C.status="rejected",C.reason=L)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function O(C,L,P,V,le){var ue=typeof C;(ue==="undefined"||ue==="boolean")&&(C=null);var be=!1;if(C===null)be=!0;else switch(ue){case"bigint":case"string":case"number":be=!0;break;case"object":switch(C.$$typeof){case a:case t:be=!0;break;case b:return be=C._init,O(be(C._payload),L,P,V,le)}}if(be)return le=le(C),be=V===""?"."+nt(C,0):V,ze(le)?(P="",be!=null&&(P=be.replace(ht,"$&/")+"/"),O(le,L,P,"",function(Li){return Li})):le!=null&&(ie(le)&&(le=Z(le,P+(le.key==null||C&&C.key===le.key?"":(""+le.key).replace(ht,"$&/")+"/")+be)),L.push(le)),1;be=0;var lt=V===""?".":V+":";if(ze(C))for(var Ve=0;Ve<C.length;Ve++)V=C[Ve],ue=lt+nt(V,Ve),be+=O(V,L,P,ue,le);else if(Ve=D(C),typeof Ve=="function")for(C=Ve.call(C),Ve=0;!(V=C.next()).done;)V=V.value,ue=lt+nt(V,Ve++),be+=O(V,L,P,ue,le);else if(ue==="object"){if(typeof C.then=="function")return O(Je(C),L,P,V,le);throw L=String(C),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return be}function U(C,L,P){if(C==null)return C;var V=[],le=0;return O(C,V,"","",function(ue){return L.call(P,ue,le++)}),V}function K(C){if(C._status===-1){var L=C._result;L=L(),L.then(function(P){(C._status===0||C._status===-1)&&(C._status=1,C._result=P)},function(P){(C._status===0||C._status===-1)&&(C._status=2,C._result=P)}),C._status===-1&&(C._status=0,C._result=L)}if(C._status===1)return C._result.default;throw C._result}var Se=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},De={map:U,forEach:function(C,L,P){U(C,function(){L.apply(this,arguments)},P)},count:function(C){var L=0;return U(C,function(){L++}),L},toArray:function(C){return U(C,function(L){return L})||[]},only:function(C){if(!ie(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return re.Activity=v,re.Children=De,re.Component=j,re.Fragment=i,re.Profiler=o,re.PureComponent=ee,re.StrictMode=l,re.Suspense=g,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,re.__COMPILER_RUNTIME={__proto__:null,c:function(C){return se.H.useMemoCache(C)}},re.cache=function(C){return function(){return C.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(C,L,P){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var V=H({},C.props),le=C.key;if(L!=null)for(ue in L.key!==void 0&&(le=""+L.key),L)!Q.call(L,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&L.ref===void 0||(V[ue]=L[ue]);var ue=arguments.length-2;if(ue===1)V.children=P;else if(1<ue){for(var be=Array(ue),lt=0;lt<ue;lt++)be[lt]=arguments[lt+2];V.children=be}return he(C.type,le,V)},re.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},re.createElement=function(C,L,P){var V,le={},ue=null;if(L!=null)for(V in L.key!==void 0&&(ue=""+L.key),L)Q.call(L,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(le[V]=L[V]);var be=arguments.length-2;if(be===1)le.children=P;else if(1<be){for(var lt=Array(be),Ve=0;Ve<be;Ve++)lt[Ve]=arguments[Ve+2];le.children=lt}if(C&&C.defaultProps)for(V in be=C.defaultProps,be)le[V]===void 0&&(le[V]=be[V]);return he(C,ue,le)},re.createRef=function(){return{current:null}},re.forwardRef=function(C){return{$$typeof:m,render:C}},re.isValidElement=ie,re.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:K}},re.memo=function(C,L){return{$$typeof:p,type:C,compare:L===void 0?null:L}},re.startTransition=function(C){var L=se.T,P={};se.T=P;try{var V=C(),le=se.S;le!==null&&le(P,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(Ee,Se)}catch(ue){Se(ue)}finally{L!==null&&P.types!==null&&(L.types=P.types),se.T=L}},re.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},re.use=function(C){return se.H.use(C)},re.useActionState=function(C,L,P){return se.H.useActionState(C,L,P)},re.useCallback=function(C,L){return se.H.useCallback(C,L)},re.useContext=function(C){return se.H.useContext(C)},re.useDebugValue=function(){},re.useDeferredValue=function(C,L){return se.H.useDeferredValue(C,L)},re.useEffect=function(C,L){return se.H.useEffect(C,L)},re.useEffectEvent=function(C){return se.H.useEffectEvent(C)},re.useId=function(){return se.H.useId()},re.useImperativeHandle=function(C,L,P){return se.H.useImperativeHandle(C,L,P)},re.useInsertionEffect=function(C,L){return se.H.useInsertionEffect(C,L)},re.useLayoutEffect=function(C,L){return se.H.useLayoutEffect(C,L)},re.useMemo=function(C,L){return se.H.useMemo(C,L)},re.useOptimistic=function(C,L){return se.H.useOptimistic(C,L)},re.useReducer=function(C,L,P){return se.H.useReducer(C,L,P)},re.useRef=function(C){return se.H.useRef(C)},re.useState=function(C){return se.H.useState(C)},re.useSyncExternalStore=function(C,L,P){return se.H.useSyncExternalStore(C,L,P)},re.useTransition=function(){return se.H.useTransition()},re.version="19.2.3",re}var a_;function fh(){return a_||(a_=1,Tf.exports=ub()),Tf.exports}var W=fh();const Ty=rb(W);var Cf={exports:{}},yl={},wf={exports:{}},Af={};var l_;function fb(){return l_||(l_=1,(function(a){function t(O,U){var K=O.length;O.push(U);e:for(;0<K;){var Se=K-1>>>1,De=O[Se];if(0<o(De,U))O[Se]=U,O[K]=De,K=Se;else break e}}function i(O){return O.length===0?null:O[0]}function l(O){if(O.length===0)return null;var U=O[0],K=O.pop();if(K!==U){O[0]=K;e:for(var Se=0,De=O.length,C=De>>>1;Se<C;){var L=2*(Se+1)-1,P=O[L],V=L+1,le=O[V];if(0>o(P,K))V<De&&0>o(le,P)?(O[Se]=le,O[V]=K,Se=V):(O[Se]=P,O[L]=K,Se=L);else if(V<De&&0>o(le,K))O[Se]=le,O[V]=K,Se=V;else break e}}return U}function o(O,U){var K=O.sortIndex-U.sortIndex;return K!==0?K:O.id-U.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var g=[],p=[],b=1,v=null,S=3,D=!1,I=!1,H=!1,ne=!1,j=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function Ne(O){for(var U=i(p);U!==null;){if(U.callback===null)l(p);else if(U.startTime<=O)l(p),U.sortIndex=U.expirationTime,t(g,U);else break;U=i(p)}}function ze(O){if(H=!1,Ne(O),!I)if(i(g)!==null)I=!0,Ee||(Ee=!0,q());else{var U=i(p);U!==null&&Je(ze,U.startTime-O)}}var Ee=!1,se=-1,Q=5,he=-1;function Z(){return ne?!0:!(a.unstable_now()-he<Q)}function ie(){if(ne=!1,Ee){var O=a.unstable_now();he=O;var U=!0;try{e:{I=!1,H&&(H=!1,$(se),se=-1),D=!0;var K=S;try{t:{for(Ne(O),v=i(g);v!==null&&!(v.expirationTime>O&&Z());){var Se=v.callback;if(typeof Se=="function"){v.callback=null,S=v.priorityLevel;var De=Se(v.expirationTime<=O);if(O=a.unstable_now(),typeof De=="function"){v.callback=De,Ne(O),U=!0;break t}v===i(g)&&l(g),Ne(O)}else l(g);v=i(g)}if(v!==null)U=!0;else{var C=i(p);C!==null&&Je(ze,C.startTime-O),U=!1}}break e}finally{v=null,S=K,D=!1}U=void 0}}finally{U?q():Ee=!1}}}var q;if(typeof ee=="function")q=function(){ee(ie)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,nt=ht.port2;ht.port1.onmessage=ie,q=function(){nt.postMessage(null)}}else q=function(){j(ie,0)};function Je(O,U){se=j(function(){O(a.unstable_now())},U)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(O){switch(S){case 1:case 2:case 3:var U=3;break;default:U=S}var K=S;S=U;try{return O()}finally{S=K}},a.unstable_requestPaint=function(){ne=!0},a.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=S;S=O;try{return U()}finally{S=K}},a.unstable_scheduleCallback=function(O,U,K){var Se=a.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Se+K:Se):K=Se,O){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=K+De,O={id:b++,callback:U,priorityLevel:O,startTime:K,expirationTime:De,sortIndex:-1},K>Se?(O.sortIndex=K,t(p,O),i(g)===null&&O===i(p)&&(H?($(se),se=-1):H=!0,Je(ze,K-Se))):(O.sortIndex=De,t(g,O),I||D||(I=!0,Ee||(Ee=!0,q()))),O},a.unstable_shouldYield=Z,a.unstable_wrapCallback=function(O){var U=S;return function(){var K=S;S=U;try{return O.apply(this,arguments)}finally{S=K}}}})(Af)),Af}var r_;function hb(){return r_||(r_=1,wf.exports=fb()),wf.exports}var Nf={exports:{}},yt={};var o_;function db(){if(o_)return yt;o_=1;var a=fh();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(g,p,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:p,implementation:b}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,yt.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return f(g,p,null,b)},yt.flushSync=function(g){var p=h.T,b=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=p,l.p=b,l.d.f()}},yt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},yt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},yt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,v=m(b,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:D}):b==="script"&&l.d.X(g,{crossOrigin:v,integrity:S,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},yt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},yt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,v=m(b,p.crossOrigin);l.d.L(g,b,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},yt.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},yt.requestFormReset=function(g){l.d.r(g)},yt.unstable_batchedUpdates=function(g,p){return g(p)},yt.useFormState=function(g,p,b){return h.H.useFormState(g,p,b)},yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},yt.version="19.2.3",yt}var c_;function mb(){if(c_)return Nf.exports;c_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Nf.exports=db(),Nf.exports}var u_;function pb(){if(u_)return yl;u_=1;var a=hb(),t=fh(),i=mb();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(l(188))}function p(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,r=n;;){var c=s.return;if(c===null)break;var u=c.alternate;if(u===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===s)return g(c),e;if(u===r)return g(c),n;u=u.sibling}throw Error(l(188))}if(s.return!==r.return)s=c,r=u;else{for(var d=!1,_=c.child;_;){if(_===s){d=!0,s=c,r=u;break}if(_===r){d=!0,r=c,s=u;break}_=_.sibling}if(!d){for(_=u.child;_;){if(_===s){d=!0,s=u,r=c;break}if(_===r){d=!0,r=u,s=c;break}_=_.sibling}if(!d)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Symbol.for("react.client.reference");function nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ht?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case j:return"Profiler";case ne:return"StrictMode";case ze:return"Suspense";case Ee:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case ee:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case Ne:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return n=e.displayName||null,n!==null?n:nt(e.type)||"Memo";case Q:n=e._payload,e=e._init;try{return nt(e(n))}catch{}}return null}var Je=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},Se=[],De=-1;function C(e){return{current:e}}function L(e){0>De||(e.current=Se[De],Se[De]=null,De--)}function P(e,n){De++,Se[De]=e.current,e.current=n}var V=C(null),le=C(null),ue=C(null),be=C(null);function lt(e,n){switch(P(ue,n),P(le,e),P(V,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?wg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=wg(n),e=Ag(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(V),P(V,e)}function Ve(){L(V),L(le),L(ue)}function Li(e){e.memoizedState!==null&&P(be,e);var n=V.current,s=Ag(n,e.type);n!==s&&(P(le,e),P(V,s))}function zi(e){le.current===e&&(L(V),L(le)),be.current===e&&(L(be),dl._currentValue=K)}var Sa,Ea;function Sn(e){if(Sa===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Sa=n&&n[1]||"",Ea=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sa+e+Ea}var ba=!1;function Ta(e,n){if(!e||ba)return"";ba=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(x){var R=x}Reflect.construct(e,[],z)}else{try{z.call()}catch(x){R=x}e.call(z.prototype)}}else{try{throw Error()}catch(x){R=x}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(x){if(x&&R&&typeof x.stack=="string")return[x.stack,R.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),d=u[0],_=u[1];if(d&&_){var E=d.split(`
`),N=_.split(`
`);for(c=r=0;r<E.length&&!E[r].includes("DetermineComponentFrameRoot");)r++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(r===E.length||c===N.length)for(r=E.length-1,c=N.length-1;1<=r&&0<=c&&E[r]!==N[c];)c--;for(;1<=r&&0<=c;r--,c--)if(E[r]!==N[c]){if(r!==1||c!==1)do if(r--,c--,0>c||E[r]!==N[c]){var M=`
`+E[r].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=r&&0<=c);break}}}finally{ba=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Sn(s):""}function oc(e,n){switch(e.tag){case 26:case 27:case 5:return Sn(e.type);case 16:return Sn("Lazy");case 13:return e.child!==n&&n!==null?Sn("Suspense Fallback"):Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return Ta(e.type,!1);case 11:return Ta(e.type.render,!1);case 1:return Ta(e.type,!0);case 31:return Sn("Activity");default:return""}}function $l(e){try{var n="",s=null;do n+=oc(e,s),s=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Y=Object.prototype.hasOwnProperty,Te=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,ji=a.unstable_shouldYield,Ca=a.unstable_requestPaint,Lt=a.unstable_now,PS=a.unstable_getCurrentPriorityLevel,id=a.unstable_ImmediatePriority,sd=a.unstable_UserBlockingPriority,er=a.unstable_NormalPriority,qS=a.unstable_LowPriority,ad=a.unstable_IdlePriority,GS=a.log,VS=a.unstable_setDisableYieldValue,wa=null,zt=null;function Xn(e){if(typeof GS=="function"&&VS(e),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(wa,e)}catch{}}var jt=Math.clz32?Math.clz32:QS,YS=Math.log,FS=Math.LN2;function QS(e){return e>>>=0,e===0?32:31-(YS(e)/FS|0)|0}var tr=256,nr=262144,ir=4194304;function Ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function sr(e,n,s){var r=e.pendingLanes;if(r===0)return 0;var c=0,u=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~u,r!==0?c=Ui(r):(d&=_,d!==0?c=Ui(d):s||(s=_&~e,s!==0&&(c=Ui(s))))):(_=r&~u,_!==0?c=Ui(_):d!==0?c=Ui(d):s||(s=r&~e,s!==0&&(c=Ui(s)))),c===0?0:n!==0&&n!==c&&(n&u)===0&&(u=c&-c,s=n&-n,u>=s||u===32&&(s&4194048)!==0)?n:c}function Aa(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function KS(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ld(){var e=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),e}function cc(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Na(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function XS(e,n,s,r,c,u){var d=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,E=e.expirationTimes,N=e.hiddenUpdates;for(s=d&~s;0<s;){var M=31-jt(s),z=1<<M;_[M]=0,E[M]=-1;var R=N[M];if(R!==null)for(N[M]=null,M=0;M<R.length;M++){var x=R[M];x!==null&&(x.lane&=-536870913)}s&=~z}r!==0&&rd(e,r,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(d&~n))}function rd(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-jt(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function od(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var r=31-jt(s),c=1<<r;c&n|e[r]&n&&(e[r]|=n),s&=~c}}function cd(e,n){var s=n&-n;return s=(s&42)!==0?1:uc(s),(s&(e.suspendedLanes|n))!==0?0:s}function uc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ud(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:Xg(e.type))}function fd(e,n){var s=U.p;try{return U.p=e,n()}finally{U.p=s}}var Zn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Zn,Tt="__reactProps$"+Zn,gs="__reactContainer$"+Zn,hc="__reactEvents$"+Zn,ZS="__reactListeners$"+Zn,JS="__reactHandles$"+Zn,hd="__reactResources$"+Zn,Ra="__reactMarker$"+Zn;function dc(e){delete e[dt],delete e[Tt],delete e[hc],delete e[ZS],delete e[JS]}function _s(e){var n=e[dt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[gs]||s[dt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Ig(e);e!==null;){if(s=e[dt])return s;e=Ig(e)}return n}e=s,s=e.parentNode}return null}function ys(e){if(e=e[dt]||e[gs]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Da(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function vs(e){var n=e[hd];return n||(n=e[hd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function rt(e){e[Ra]=!0}var dd=new Set,md={};function Bi(e,n){Ss(e,n),Ss(e+"Capture",n)}function Ss(e,n){for(md[e]=n,e=0;e<n.length;e++)dd.add(n[e])}var WS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pd={},gd={};function $S(e){return Y.call(gd,e)?!0:Y.call(pd,e)?!1:WS.test(e)?gd[e]=!0:(pd[e]=!0,!1)}function ar(e,n,s){if($S(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function lr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function En(e,n,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+r)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _d(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function e0(e,n,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,u=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(d){s=""+d,u.call(this,d)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function mc(e){if(!e._valueTracker){var n=_d(e)?"checked":"value";e._valueTracker=e0(e,n,""+e[n])}}function yd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return e&&(r=_d(e)?e.checked?"true":"false":e.value),e=r,e!==s?(n.setValue(e),!0):!1}function rr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var t0=/[\n"\\]/g;function Ft(e){return e.replace(t0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pc(e,n,s,r,c,u,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),n!=null?d==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Yt(n)):e.value!==""+Yt(n)&&(e.value=""+Yt(n)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),n!=null?gc(e,d,Yt(n)):s!=null?gc(e,d,Yt(s)):r!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Yt(_):e.removeAttribute("name")}function vd(e,n,s,r,c,u,d,_){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),n!=null||s!=null){if(!(u!=="submit"&&u!=="reset"||n!=null)){mc(e);return}s=s!=null?""+Yt(s):"",n=n!=null?""+Yt(n):s,_||n===e.value||(e.value=n),e.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),mc(e)}function gc(e,n,s){n==="number"&&rr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Es(e,n,s,r){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Yt(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Sd(e,n,s){if(n!=null&&(n=""+Yt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Yt(s):""}function Ed(e,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(l(92));if(Je(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=Yt(n),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),mc(e)}function bs(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var n0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bd(e,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,s):typeof s!="number"||s===0||n0.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Td(e,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&s[c]!==r&&bd(e,c,r)}else for(var u in n)n.hasOwnProperty(u)&&bd(e,u,n[u])}function _c(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(e){return s0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bn(){}var yc=null;function vc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,Cs=null;function Cd(e){var n=ys(e);if(n&&(e=n.stateNode)){var s=e[Tt]||null;e:switch(e=n.stateNode,n.type){case"input":if(pc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ft(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==e&&r.form===e.form){var c=r[Tt]||null;if(!c)throw Error(l(90));pc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===e.form&&yd(r)}break e;case"textarea":Sd(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Es(e,!!s.multiple,n,!1)}}}var Sc=!1;function wd(e,n,s){if(Sc)return e(n,s);Sc=!0;try{var r=e(n);return r}finally{if(Sc=!1,(Ts!==null||Cs!==null)&&(Xr(),Ts&&(n=Ts,e=Cs,Cs=Ts=null,Cd(n),e)))for(n=0;n<e.length;n++)Cd(e[n])}}function Oa(e,n){var s=e.stateNode;if(s===null)return null;var r=s[Tt]||null;if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=!1;if(Tn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Ec=!1}var Jn=null,bc=null,cr=null;function Ad(){if(cr)return cr;var e,n=bc,s=n.length,r,c="value"in Jn?Jn.value:Jn.textContent,u=c.length;for(e=0;e<s&&n[e]===c[e];e++);var d=s-e;for(r=1;r<=d&&n[s-r]===c[u-r];r++);return cr=c.slice(e,1<r?1-r:void 0)}function ur(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function fr(){return!0}function Nd(){return!1}function Ct(e){function n(s,r,c,u,d){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(u):u[_]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?fr:Nd,this.isPropagationStopped=Nd,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),n}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=Ct(Hi),Ma=v({},Hi,{view:0,detail:0}),a0=Ct(Ma),Tc,Cc,Ia,dr=v({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ac,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ia&&(Ia&&e.type==="mousemove"?(Tc=e.screenX-Ia.screenX,Cc=e.screenY-Ia.screenY):Cc=Tc=0,Ia=e),Tc)},movementY:function(e){return"movementY"in e?e.movementY:Cc}}),Rd=Ct(dr),l0=v({},dr,{dataTransfer:0}),r0=Ct(l0),o0=v({},Ma,{relatedTarget:0}),wc=Ct(o0),c0=v({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),u0=Ct(c0),f0=v({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h0=Ct(f0),d0=v({},Hi,{data:0}),Dd=Ct(d0),m0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=g0[e])?!!n[e]:!1}function Ac(){return _0}var y0=v({},Ma,{key:function(e){if(e.key){var n=m0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ur(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ac,charCode:function(e){return e.type==="keypress"?ur(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ur(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v0=Ct(y0),S0=v({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Od=Ct(S0),E0=v({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ac}),b0=Ct(E0),T0=v({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),C0=Ct(T0),w0=v({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A0=Ct(w0),N0=v({},Hi,{newState:0,oldState:0}),R0=Ct(N0),D0=[9,13,27,32],Nc=Tn&&"CompositionEvent"in window,ka=null;Tn&&"documentMode"in document&&(ka=document.documentMode);var O0=Tn&&"TextEvent"in window&&!ka,xd=Tn&&(!Nc||ka&&8<ka&&11>=ka),Md=" ",Id=!1;function kd(e,n){switch(e){case"keyup":return D0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ws=!1;function x0(e,n){switch(e){case"compositionend":return Ld(n);case"keypress":return n.which!==32?null:(Id=!0,Md);case"textInput":return e=n.data,e===Md&&Id?null:e;default:return null}}function M0(e,n){if(ws)return e==="compositionend"||!Nc&&kd(e,n)?(e=Ad(),cr=bc=Jn=null,ws=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xd&&n.locale!=="ko"?null:n.data;default:return null}}var I0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!I0[e.type]:n==="textarea"}function jd(e,n,s,r){Ts?Cs?Cs.push(r):Cs=[r]:Ts=r,n=no(n,"onChange"),0<n.length&&(s=new hr("onChange","change",null,s,r),e.push({event:s,listeners:n}))}var La=null,za=null;function k0(e){vg(e,0)}function mr(e){var n=Da(e);if(yd(n))return e}function Ud(e,n){if(e==="change")return n}var Bd=!1;if(Tn){var Rc;if(Tn){var Dc="oninput"in document;if(!Dc){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),Dc=typeof Hd.oninput=="function"}Rc=Dc}else Rc=!1;Bd=Rc&&(!document.documentMode||9<document.documentMode)}function Pd(){La&&(La.detachEvent("onpropertychange",qd),za=La=null)}function qd(e){if(e.propertyName==="value"&&mr(za)){var n=[];jd(n,za,e,vc(e)),wd(k0,n)}}function L0(e,n,s){e==="focusin"?(Pd(),La=n,za=s,La.attachEvent("onpropertychange",qd)):e==="focusout"&&Pd()}function z0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mr(za)}function j0(e,n){if(e==="click")return mr(n)}function U0(e,n){if(e==="input"||e==="change")return mr(n)}function B0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ut=typeof Object.is=="function"?Object.is:B0;function ja(e,n){if(Ut(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!Y.call(n,c)||!Ut(e[c],n[c]))return!1}return!0}function Gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vd(e,n){var s=Gd(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=n&&r>=n)return{node:s,offset:n-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Gd(s)}}function Yd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Yd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Fd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=rr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=rr(e.document)}return n}function Oc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var H0=Tn&&"documentMode"in document&&11>=document.documentMode,As=null,xc=null,Ua=null,Mc=!1;function Qd(e,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mc||As==null||As!==rr(r)||(r=As,"selectionStart"in r&&Oc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ua&&ja(Ua,r)||(Ua=r,r=no(xc,"onSelect"),0<r.length&&(n=new hr("onSelect","select",null,n,s),e.push({event:n,listeners:r}),n.target=As)))}function Pi(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ns={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},Ic={},Kd={};Tn&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function qi(e){if(Ic[e])return Ic[e];if(!Ns[e])return e;var n=Ns[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Kd)return Ic[e]=n[s];return e}var Xd=qi("animationend"),Zd=qi("animationiteration"),Jd=qi("animationstart"),P0=qi("transitionrun"),q0=qi("transitionstart"),G0=qi("transitioncancel"),Wd=qi("transitionend"),$d=new Map,kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kc.push("scrollEnd");function sn(e,n){$d.set(e,n),Bi(n,[e])}var pr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qt=[],Rs=0,Lc=0;function gr(){for(var e=Rs,n=Lc=Rs=0;n<e;){var s=Qt[n];Qt[n++]=null;var r=Qt[n];Qt[n++]=null;var c=Qt[n];Qt[n++]=null;var u=Qt[n];if(Qt[n++]=null,r!==null&&c!==null){var d=r.pending;d===null?c.next=c:(c.next=d.next,d.next=c),r.pending=c}u!==0&&em(s,c,u)}}function _r(e,n,s,r){Qt[Rs++]=e,Qt[Rs++]=n,Qt[Rs++]=s,Qt[Rs++]=r,Lc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function zc(e,n,s,r){return _r(e,n,s,r),yr(e)}function Gi(e,n){return _r(e,null,null,n),yr(e)}function em(e,n,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var c=!1,u=e.return;u!==null;)u.childLanes|=s,r=u.alternate,r!==null&&(r.childLanes|=s),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&n!==null&&(c=31-jt(s),e=u.hiddenUpdates,r=e[c],r===null?e[c]=[n]:r.push(n),n.lane=s|536870912),u):null}function yr(e){if(50<ll)throw ll=0,Yu=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ds={};function V0(e,n,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,n,s,r){return new V0(e,n,s,r)}function jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cn(e,n){var s=e.alternate;return s===null?(s=Bt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function tm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function vr(e,n,s,r,c,u){var d=0;if(r=e,typeof e=="function")jc(e)&&(d=1);else if(typeof e=="string")d=XE(e,s,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=Bt(31,s,n,c),e.elementType=he,e.lanes=u,e;case H:return Vi(s.children,c,u,n);case ne:d=8,c|=24;break;case j:return e=Bt(12,s,n,c|2),e.elementType=j,e.lanes=u,e;case ze:return e=Bt(13,s,n,c),e.elementType=ze,e.lanes=u,e;case Ee:return e=Bt(19,s,n,c),e.elementType=Ee,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ee:d=10;break e;case $:d=9;break e;case Ne:d=11;break e;case se:d=14;break e;case Q:d=16,r=null;break e}d=29,s=Error(l(130,e===null?"null":typeof e,"")),r=null}return n=Bt(d,s,n,c),n.elementType=e,n.type=r,n.lanes=u,n}function Vi(e,n,s,r){return e=Bt(7,e,r,n),e.lanes=s,e}function Uc(e,n,s){return e=Bt(6,e,null,n),e.lanes=s,e}function nm(e){var n=Bt(18,null,null,0);return n.stateNode=e,n}function Bc(e,n,s){return n=Bt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var im=new WeakMap;function Kt(e,n){if(typeof e=="object"&&e!==null){var s=im.get(e);return s!==void 0?s:(n={value:e,source:n,stack:$l(n)},im.set(e,n),n)}return{value:e,source:n,stack:$l(n)}}var Os=[],xs=0,Sr=null,Ba=0,Xt=[],Zt=0,Wn=null,dn=1,mn="";function wn(e,n){Os[xs++]=Ba,Os[xs++]=Sr,Sr=e,Ba=n}function sm(e,n,s){Xt[Zt++]=dn,Xt[Zt++]=mn,Xt[Zt++]=Wn,Wn=e;var r=dn;e=mn;var c=32-jt(r)-1;r&=~(1<<c),s+=1;var u=32-jt(n)+c;if(30<u){var d=c-c%5;u=(r&(1<<d)-1).toString(32),r>>=d,c-=d,dn=1<<32-jt(n)+c|s<<c|r,mn=u+e}else dn=1<<u|s<<c|r,mn=e}function Hc(e){e.return!==null&&(wn(e,1),sm(e,1,0))}function Pc(e){for(;e===Sr;)Sr=Os[--xs],Os[xs]=null,Ba=Os[--xs],Os[xs]=null;for(;e===Wn;)Wn=Xt[--Zt],Xt[Zt]=null,mn=Xt[--Zt],Xt[Zt]=null,dn=Xt[--Zt],Xt[Zt]=null}function am(e,n){Xt[Zt++]=dn,Xt[Zt++]=mn,Xt[Zt++]=Wn,dn=n.id,mn=n.overflow,Wn=e}var mt=null,He=null,ve=!1,$n=null,Jt=!1,qc=Error(l(519));function ei(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ha(Kt(n,e)),qc}function lm(e){var n=e.stateNode,s=e.type,r=e.memoizedProps;switch(n[dt]=e,n[Tt]=r,s){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(s=0;s<ol.length;s++)me(ol[s],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":me("invalid",n),vd(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":me("invalid",n);break;case"textarea":me("invalid",n),Ed(n,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||Tg(n.textContent,s)?(r.popover!=null&&(me("beforetoggle",n),me("toggle",n)),r.onScroll!=null&&me("scroll",n),r.onScrollEnd!=null&&me("scrollend",n),r.onClick!=null&&(n.onclick=bn),n=!0):n=!1,n||ei(e,!0)}function rm(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:mt=mt.return}}function Ms(e){if(e!==mt)return!1;if(!ve)return rm(e),ve=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||rf(e.type,e.memoizedProps)),s=!s),s&&He&&ei(e),rm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=Mg(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=Mg(e)}else n===27?(n=He,mi(e.type)?(e=hf,hf=null,He=e):He=n):He=mt?$t(e.stateNode.nextSibling):null;return!0}function Yi(){He=mt=null,ve=!1}function Gc(){var e=$n;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),$n=null),e}function Ha(e){$n===null?$n=[e]:$n.push(e)}var Vc=C(null),Fi=null,An=null;function ti(e,n,s){P(Vc,n._currentValue),n._currentValue=s}function Nn(e){e._currentValue=Vc.current,L(Vc)}function Yc(e,n,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===s)break;e=e.return}}function Fc(e,n,s,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var d=c.child;u=u.firstContext;e:for(;u!==null;){var _=u;u=c;for(var E=0;E<n.length;E++)if(_.context===n[E]){u.lanes|=s,_=u.alternate,_!==null&&(_.lanes|=s),Yc(u.return,s,e),r||(d=null);break e}u=_.next}}else if(c.tag===18){if(d=c.return,d===null)throw Error(l(341));d.lanes|=s,u=d.alternate,u!==null&&(u.lanes|=s),Yc(d,s,e),d=null}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===e){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}}function Is(e,n,s,r){e=null;for(var c=n,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var d=c.alternate;if(d===null)throw Error(l(387));if(d=d.memoizedProps,d!==null){var _=c.type;Ut(c.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(c===be.current){if(d=c.alternate,d===null)throw Error(l(387));d.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}c=c.return}e!==null&&Fc(n,e,s,r),n.flags|=262144}function Er(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qi(e){Fi=e,An=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return om(Fi,e)}function br(e,n){return Fi===null&&Qi(e),om(e,n)}function om(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},An===null){if(e===null)throw Error(l(308));An=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else An=An.next=n;return s}var Y0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},F0=a.unstable_scheduleCallback,Q0=a.unstable_NormalPriority,We={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qc(){return{controller:new Y0,data:new Map,refCount:0}}function Pa(e){e.refCount--,e.refCount===0&&F0(Q0,function(){e.controller.abort()})}var qa=null,Kc=0,ks=0,Ls=null;function K0(e,n){if(qa===null){var s=qa=[];Kc=0,ks=Ju(),Ls={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Kc++,n.then(cm,cm),n}function cm(){if(--Kc===0&&qa!==null){Ls!==null&&(Ls.status="fulfilled");var e=qa;qa=null,ks=0,Ls=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function X0(e,n){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var um=O.S;O.S=function(e,n){Qp=Lt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&K0(e,n),um!==null&&um(e,n)};var Ki=C(null);function Xc(){var e=Ki.current;return e!==null?e:je.pooledCache}function Tr(e,n){n===null?P(Ki,Ki.current):P(Ki,n.pool)}function fm(){var e=Xc();return e===null?null:{parent:We._currentValue,pool:e}}var zs=Error(l(460)),Zc=Error(l(474)),Cr=Error(l(542)),wr={then:function(){}};function hm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dm(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(bn,bn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pm(e),e;default:if(typeof n.status=="string")n.then(bn,bn);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pm(e),e}throw Zi=n,zs}}function Xi(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Zi=s,zs):s}}var Zi=null;function mm(){if(Zi===null)throw Error(l(459));var e=Zi;return Zi=null,e}function pm(e){if(e===zs||e===Cr)throw Error(l(483))}var js=null,Ga=0;function Ar(e){var n=Ga;return Ga+=1,js===null&&(js=[]),dm(js,e,n)}function Va(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nr(e,n){throw n.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function gm(e){function n(w,T){if(e){var A=w.deletions;A===null?(w.deletions=[T],w.flags|=16):A.push(T)}}function s(w,T){if(!e)return null;for(;T!==null;)n(w,T),T=T.sibling;return null}function r(w){for(var T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function c(w,T){return w=Cn(w,T),w.index=0,w.sibling=null,w}function u(w,T,A){return w.index=A,e?(A=w.alternate,A!==null?(A=A.index,A<T?(w.flags|=67108866,T):A):(w.flags|=67108866,T)):(w.flags|=1048576,T)}function d(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function _(w,T,A,k){return T===null||T.tag!==6?(T=Uc(A,w.mode,k),T.return=w,T):(T=c(T,A),T.return=w,T)}function E(w,T,A,k){var X=A.type;return X===H?M(w,T,A.props.children,k,A.key):T!==null&&(T.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Q&&Xi(X)===T.type)?(T=c(T,A.props),Va(T,A),T.return=w,T):(T=vr(A.type,A.key,A.props,null,w.mode,k),Va(T,A),T.return=w,T)}function N(w,T,A,k){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Bc(A,w.mode,k),T.return=w,T):(T=c(T,A.children||[]),T.return=w,T)}function M(w,T,A,k,X){return T===null||T.tag!==7?(T=Vi(A,w.mode,k,X),T.return=w,T):(T=c(T,A),T.return=w,T)}function z(w,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Uc(""+T,w.mode,A),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case D:return A=vr(T.type,T.key,T.props,null,w.mode,A),Va(A,T),A.return=w,A;case I:return T=Bc(T,w.mode,A),T.return=w,T;case Q:return T=Xi(T),z(w,T,A)}if(Je(T)||q(T))return T=Vi(T,w.mode,A,null),T.return=w,T;if(typeof T.then=="function")return z(w,Ar(T),A);if(T.$$typeof===ee)return z(w,br(w,T),A);Nr(w,T)}return null}function R(w,T,A,k){var X=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return X!==null?null:_(w,T,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case D:return A.key===X?E(w,T,A,k):null;case I:return A.key===X?N(w,T,A,k):null;case Q:return A=Xi(A),R(w,T,A,k)}if(Je(A)||q(A))return X!==null?null:M(w,T,A,k,null);if(typeof A.then=="function")return R(w,T,Ar(A),k);if(A.$$typeof===ee)return R(w,T,br(w,A),k);Nr(w,A)}return null}function x(w,T,A,k,X){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return w=w.get(A)||null,_(T,w,""+k,X);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case D:return w=w.get(k.key===null?A:k.key)||null,E(T,w,k,X);case I:return w=w.get(k.key===null?A:k.key)||null,N(T,w,k,X);case Q:return k=Xi(k),x(w,T,A,k,X)}if(Je(k)||q(k))return w=w.get(A)||null,M(T,w,k,X,null);if(typeof k.then=="function")return x(w,T,A,Ar(k),X);if(k.$$typeof===ee)return x(w,T,A,br(T,k),X);Nr(T,k)}return null}function G(w,T,A,k){for(var X=null,Ce=null,F=T,ce=T=0,_e=null;F!==null&&ce<A.length;ce++){F.index>ce?(_e=F,F=null):_e=F.sibling;var we=R(w,F,A[ce],k);if(we===null){F===null&&(F=_e);break}e&&F&&we.alternate===null&&n(w,F),T=u(we,T,ce),Ce===null?X=we:Ce.sibling=we,Ce=we,F=_e}if(ce===A.length)return s(w,F),ve&&wn(w,ce),X;if(F===null){for(;ce<A.length;ce++)F=z(w,A[ce],k),F!==null&&(T=u(F,T,ce),Ce===null?X=F:Ce.sibling=F,Ce=F);return ve&&wn(w,ce),X}for(F=r(F);ce<A.length;ce++)_e=x(F,w,ce,A[ce],k),_e!==null&&(e&&_e.alternate!==null&&F.delete(_e.key===null?ce:_e.key),T=u(_e,T,ce),Ce===null?X=_e:Ce.sibling=_e,Ce=_e);return e&&F.forEach(function(vi){return n(w,vi)}),ve&&wn(w,ce),X}function J(w,T,A,k){if(A==null)throw Error(l(151));for(var X=null,Ce=null,F=T,ce=T=0,_e=null,we=A.next();F!==null&&!we.done;ce++,we=A.next()){F.index>ce?(_e=F,F=null):_e=F.sibling;var vi=R(w,F,we.value,k);if(vi===null){F===null&&(F=_e);break}e&&F&&vi.alternate===null&&n(w,F),T=u(vi,T,ce),Ce===null?X=vi:Ce.sibling=vi,Ce=vi,F=_e}if(we.done)return s(w,F),ve&&wn(w,ce),X;if(F===null){for(;!we.done;ce++,we=A.next())we=z(w,we.value,k),we!==null&&(T=u(we,T,ce),Ce===null?X=we:Ce.sibling=we,Ce=we);return ve&&wn(w,ce),X}for(F=r(F);!we.done;ce++,we=A.next())we=x(F,w,ce,we.value,k),we!==null&&(e&&we.alternate!==null&&F.delete(we.key===null?ce:we.key),T=u(we,T,ce),Ce===null?X=we:Ce.sibling=we,Ce=we);return e&&F.forEach(function(lb){return n(w,lb)}),ve&&wn(w,ce),X}function ke(w,T,A,k){if(typeof A=="object"&&A!==null&&A.type===H&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case D:e:{for(var X=A.key;T!==null;){if(T.key===X){if(X=A.type,X===H){if(T.tag===7){s(w,T.sibling),k=c(T,A.props.children),k.return=w,w=k;break e}}else if(T.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Q&&Xi(X)===T.type){s(w,T.sibling),k=c(T,A.props),Va(k,A),k.return=w,w=k;break e}s(w,T);break}else n(w,T);T=T.sibling}A.type===H?(k=Vi(A.props.children,w.mode,k,A.key),k.return=w,w=k):(k=vr(A.type,A.key,A.props,null,w.mode,k),Va(k,A),k.return=w,w=k)}return d(w);case I:e:{for(X=A.key;T!==null;){if(T.key===X)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){s(w,T.sibling),k=c(T,A.children||[]),k.return=w,w=k;break e}else{s(w,T);break}else n(w,T);T=T.sibling}k=Bc(A,w.mode,k),k.return=w,w=k}return d(w);case Q:return A=Xi(A),ke(w,T,A,k)}if(Je(A))return G(w,T,A,k);if(q(A)){if(X=q(A),typeof X!="function")throw Error(l(150));return A=X.call(A),J(w,T,A,k)}if(typeof A.then=="function")return ke(w,T,Ar(A),k);if(A.$$typeof===ee)return ke(w,T,br(w,A),k);Nr(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(s(w,T.sibling),k=c(T,A),k.return=w,w=k):(s(w,T),k=Uc(A,w.mode,k),k.return=w,w=k),d(w)):s(w,T)}return function(w,T,A,k){try{Ga=0;var X=ke(w,T,A,k);return js=null,X}catch(F){if(F===zs||F===Cr)throw F;var Ce=Bt(29,F,null,w.mode);return Ce.lanes=k,Ce.return=w,Ce}}}var Ji=gm(!0),_m=gm(!1),ni=!1;function Jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function si(e,n,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Re&2)!==0){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=yr(e),em(e,null,s),n}return _r(e,r,n,s),yr(e)}function Ya(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,od(e,s)}}function $c(e,n){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,u=null;if(s=s.firstBaseUpdate,s!==null){do{var d={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};u===null?c=u=d:u=u.next=d,s=s.next}while(s!==null);u===null?c=u=n:u=u.next=n}else c=u=n;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var eu=!1;function Fa(){if(eu){var e=Ls;if(e!==null)throw e}}function Qa(e,n,s,r){eu=!1;var c=e.updateQueue;ni=!1;var u=c.firstBaseUpdate,d=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var E=_,N=E.next;E.next=null,d===null?u=N:d.next=N,d=E;var M=e.alternate;M!==null&&(M=M.updateQueue,_=M.lastBaseUpdate,_!==d&&(_===null?M.firstBaseUpdate=N:_.next=N,M.lastBaseUpdate=E))}if(u!==null){var z=c.baseState;d=0,M=N=E=null,_=u;do{var R=_.lane&-536870913,x=R!==_.lane;if(x?(ge&R)===R:(r&R)===R){R!==0&&R===ks&&(eu=!0),M!==null&&(M=M.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var G=e,J=_;R=n;var ke=s;switch(J.tag){case 1:if(G=J.payload,typeof G=="function"){z=G.call(ke,z,R);break e}z=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=J.payload,R=typeof G=="function"?G.call(ke,z,R):G,R==null)break e;z=v({},z,R);break e;case 2:ni=!0}}R=_.callback,R!==null&&(e.flags|=64,x&&(e.flags|=8192),x=c.callbacks,x===null?c.callbacks=[R]:x.push(R))}else x={lane:R,tag:_.tag,payload:_.payload,callback:_.callback,next:null},M===null?(N=M=x,E=z):M=M.next=x,d|=R;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;x=_,_=x.next,x.next=null,c.lastBaseUpdate=x,c.shared.pending=null}}while(!0);M===null&&(E=z),c.baseState=E,c.firstBaseUpdate=N,c.lastBaseUpdate=M,u===null&&(c.shared.lanes=0),ci|=d,e.lanes=d,e.memoizedState=z}}function ym(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function vm(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ym(s[e],n)}var Us=C(null),Rr=C(0);function Sm(e,n){e=zn,P(Rr,e),P(Us,n),zn=e|n.baseLanes}function tu(){P(Rr,zn),P(Us,Us.current)}function nu(){zn=Rr.current,L(Us),L(Rr)}var Ht=C(null),Wt=null;function ai(e){var n=e.alternate;P(Xe,Xe.current&1),P(Ht,e),Wt===null&&(n===null||Us.current!==null||n.memoizedState!==null)&&(Wt=e)}function iu(e){P(Xe,Xe.current),P(Ht,e),Wt===null&&(Wt=e)}function Em(e){e.tag===22?(P(Xe,Xe.current),P(Ht,e),Wt===null&&(Wt=e)):li()}function li(){P(Xe,Xe.current),P(Ht,Ht.current)}function Pt(e){L(Ht),Wt===e&&(Wt=null),L(Xe)}var Xe=C(0);function Dr(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||uf(s)||ff(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Rn=0,oe=null,Me=null,$e=null,Or=!1,Bs=!1,Wi=!1,xr=0,Ka=0,Hs=null,Z0=0;function Fe(){throw Error(l(321))}function su(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Ut(e[s],n[s]))return!1;return!0}function au(e,n,s,r,c,u){return Rn=u,oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?sp:Su,Wi=!1,u=s(r,c),Wi=!1,Bs&&(u=Tm(n,s,r,c)),bm(e),u}function bm(e){O.H=Ja;var n=Me!==null&&Me.next!==null;if(Rn=0,$e=Me=oe=null,Or=!1,Ka=0,Hs=null,n)throw Error(l(300));e===null||et||(e=e.dependencies,e!==null&&Er(e)&&(et=!0))}function Tm(e,n,s,r){oe=e;var c=0;do{if(Bs&&(Hs=null),Ka=0,Bs=!1,25<=c)throw Error(l(301));if(c+=1,$e=Me=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}O.H=ap,u=n(s,r)}while(Bs);return u}function J0(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?Xa(n):n,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(oe.flags|=1024),n}function lu(){var e=xr!==0;return xr=0,e}function ru(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function ou(e){if(Or){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Or=!1}Rn=0,$e=Me=oe=null,Bs=!1,Ka=xr=0,Hs=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?oe.memoizedState=$e=e:$e=$e.next=e,$e}function Ze(){if(Me===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var n=$e===null?oe.memoizedState:$e.next;if(n!==null)$e=n,Me=e;else{if(e===null)throw oe.alternate===null?Error(l(467)):Error(l(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},$e===null?oe.memoizedState=$e=e:$e=$e.next=e}return $e}function Mr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xa(e){var n=Ka;return Ka+=1,Hs===null&&(Hs=[]),e=dm(Hs,e,n),n=oe,($e===null?n.memoizedState:$e.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?sp:Su),e}function Ir(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xa(e);if(e.$$typeof===ee)return pt(e)}throw Error(l(438,String(e)))}function cu(e){var n=null,s=oe.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=oe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Mr(),oe.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),r=0;r<e;r++)s[r]=Z;return n.index++,s}function Dn(e,n){return typeof n=="function"?n(e):n}function kr(e){var n=Ze();return uu(n,Me,e)}function uu(e,n,s){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var c=e.baseQueue,u=r.pending;if(u!==null){if(c!==null){var d=c.next;c.next=u.next,u.next=d}n.baseQueue=c=u,r.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{n=c.next;var _=d=null,E=null,N=n,M=!1;do{var z=N.lane&-536870913;if(z!==N.lane?(ge&z)===z:(Rn&z)===z){var R=N.revertLane;if(R===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),z===ks&&(M=!0);else if((Rn&R)===R){N=N.next,R===ks&&(M=!0);continue}else z={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(_=E=z,d=u):E=E.next=z,oe.lanes|=R,ci|=R;z=N.action,Wi&&s(u,z),u=N.hasEagerState?N.eagerState:s(u,z)}else R={lane:z,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(_=E=R,d=u):E=E.next=R,oe.lanes|=z,ci|=z;N=N.next}while(N!==null&&N!==n);if(E===null?d=u:E.next=_,!Ut(u,e.memoizedState)&&(et=!0,M&&(s=Ls,s!==null)))throw s;e.memoizedState=u,e.baseState=d,e.baseQueue=E,r.lastRenderedState=u}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function fu(e){var n=Ze(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var r=s.dispatch,c=s.pending,u=n.memoizedState;if(c!==null){s.pending=null;var d=c=c.next;do u=e(u,d.action),d=d.next;while(d!==c);Ut(u,n.memoizedState)||(et=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),s.lastRenderedState=u}return[u,r]}function Cm(e,n,s){var r=oe,c=Ze(),u=ve;if(u){if(s===void 0)throw Error(l(407));s=s()}else s=n();var d=!Ut((Me||c).memoizedState,s);if(d&&(c.memoizedState=s,et=!0),c=c.queue,mu(Nm.bind(null,r,c,e),[e]),c.getSnapshot!==n||d||$e!==null&&$e.memoizedState.tag&1){if(r.flags|=2048,Ps(9,{destroy:void 0},Am.bind(null,r,c,s,n),null),je===null)throw Error(l(349));u||(Rn&127)!==0||wm(r,n,s)}return s}function wm(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=oe.updateQueue,n===null?(n=Mr(),oe.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Am(e,n,s,r){n.value=s,n.getSnapshot=r,Rm(n)&&Dm(e)}function Nm(e,n,s){return s(function(){Rm(n)&&Dm(e)})}function Rm(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Ut(e,s)}catch{return!0}}function Dm(e){var n=Gi(e,2);n!==null&&Dt(n,e,2)}function hu(e){var n=St();if(typeof e=="function"){var s=e;if(e=s(),Wi){Xn(!0);try{s()}finally{Xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:e},n}function Om(e,n,s,r){return e.baseState=s,uu(e,Me,typeof r=="function"?r:Dn)}function W0(e,n,s,r,c){if(jr(e))throw Error(l(485));if(e=n.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){u.listeners.push(d)}};O.T!==null?s(!0):u.isTransition=!1,r(u),s=n.pending,s===null?(u.next=n.pending=u,xm(n,u)):(u.next=s.next,n.pending=s.next=u)}}function xm(e,n){var s=n.action,r=n.payload,c=e.state;if(n.isTransition){var u=O.T,d={};O.T=d;try{var _=s(c,r),E=O.S;E!==null&&E(d,_),Mm(e,n,_)}catch(N){du(e,n,N)}finally{u!==null&&d.types!==null&&(u.types=d.types),O.T=u}}else try{u=s(c,r),Mm(e,n,u)}catch(N){du(e,n,N)}}function Mm(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Im(e,n,r)},function(r){return du(e,n,r)}):Im(e,n,s)}function Im(e,n,s){n.status="fulfilled",n.value=s,km(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,xm(e,s)))}function du(e,n,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,km(n),n=n.next;while(n!==r)}e.action=null}function km(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Lm(e,n){return n}function zm(e,n){if(ve){var s=je.formState;if(s!==null){e:{var r=oe;if(ve){if(He){t:{for(var c=He,u=Jt;c.nodeType!==8;){if(!u){c=null;break t}if(c=$t(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){He=$t(c.nextSibling),r=c.data==="F!";break e}}ei(r)}r=!1}r&&(n=s[0])}}return s=St(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lm,lastRenderedState:n},s.queue=r,s=tp.bind(null,oe,r),r.dispatch=s,r=hu(!1),u=vu.bind(null,oe,!1,r.queue),r=St(),c={state:n,dispatch:null,action:e,pending:null},r.queue=c,s=W0.bind(null,oe,c,u,s),c.dispatch=s,r.memoizedState=e,[n,s,!1]}function jm(e){var n=Ze();return Um(n,Me,e)}function Um(e,n,s){if(n=uu(e,n,Lm)[0],e=kr(Dn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Xa(n)}catch(d){throw d===zs?Cr:d}else r=n;n=Ze();var c=n.queue,u=c.dispatch;return s!==n.memoizedState&&(oe.flags|=2048,Ps(9,{destroy:void 0},$0.bind(null,c,s),null)),[r,u,e]}function $0(e,n){e.action=n}function Bm(e){var n=Ze(),s=Me;if(s!==null)return Um(n,s,e);Ze(),n=n.memoizedState,s=Ze();var r=s.queue.dispatch;return s.memoizedState=e,[n,r,!1]}function Ps(e,n,s,r){return e={tag:e,create:s,deps:r,inst:n,next:null},n=oe.updateQueue,n===null&&(n=Mr(),oe.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,n.lastEffect=e),e}function Hm(){return Ze().memoizedState}function Lr(e,n,s,r){var c=St();oe.flags|=e,c.memoizedState=Ps(1|n,{destroy:void 0},s,r===void 0?null:r)}function zr(e,n,s,r){var c=Ze();r=r===void 0?null:r;var u=c.memoizedState.inst;Me!==null&&r!==null&&su(r,Me.memoizedState.deps)?c.memoizedState=Ps(n,u,s,r):(oe.flags|=e,c.memoizedState=Ps(1|n,u,s,r))}function Pm(e,n){Lr(8390656,8,e,n)}function mu(e,n){zr(2048,8,e,n)}function eE(e){oe.flags|=4;var n=oe.updateQueue;if(n===null)n=Mr(),oe.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function qm(e){var n=Ze().memoizedState;return eE({ref:n,nextImpl:e}),function(){if((Re&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function Gm(e,n){return zr(4,2,e,n)}function Vm(e,n){return zr(4,4,e,n)}function Ym(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Fm(e,n,s){s=s!=null?s.concat([e]):null,zr(4,4,Ym.bind(null,n,e),s)}function pu(){}function Qm(e,n){var s=Ze();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&su(n,r[1])?r[0]:(s.memoizedState=[e,n],e)}function Km(e,n){var s=Ze();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&su(n,r[1]))return r[0];if(r=e(),Wi){Xn(!0);try{e()}finally{Xn(!1)}}return s.memoizedState=[r,n],r}function gu(e,n,s){return s===void 0||(Rn&1073741824)!==0&&(ge&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Xp(),oe.lanes|=e,ci|=e,s)}function Xm(e,n,s,r){return Ut(s,n)?s:Us.current!==null?(e=gu(e,s,r),Ut(e,n)||(et=!0),e):(Rn&42)===0||(Rn&1073741824)!==0&&(ge&261930)===0?(et=!0,e.memoizedState=s):(e=Xp(),oe.lanes|=e,ci|=e,n)}function Zm(e,n,s,r,c){var u=U.p;U.p=u!==0&&8>u?u:8;var d=O.T,_={};O.T=_,vu(e,!1,n,s);try{var E=c(),N=O.S;if(N!==null&&N(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var M=X0(E,r);Za(e,n,M,Vt(e))}else Za(e,n,r,Vt(e))}catch(z){Za(e,n,{then:function(){},status:"rejected",reason:z},Vt())}finally{U.p=u,d!==null&&_.types!==null&&(d.types=_.types),O.T=d}}function tE(){}function _u(e,n,s,r){if(e.tag!==5)throw Error(l(476));var c=Jm(e).queue;Zm(e,c,n,K,s===null?tE:function(){return Wm(e),s(r)})}function Jm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:K},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Wm(e){var n=Jm(e);n.next===null&&(n=e.alternate.memoizedState),Za(e,n.next.queue,{},Vt())}function yu(){return pt(dl)}function $m(){return Ze().memoizedState}function ep(){return Ze().memoizedState}function nE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Vt();e=ii(s);var r=si(n,e,s);r!==null&&(Dt(r,n,s),Ya(r,n,s)),n={cache:Qc()},e.payload=n;return}n=n.return}}function iE(e,n,s){var r=Vt();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},jr(e)?np(n,s):(s=zc(e,n,s,r),s!==null&&(Dt(s,e,r),ip(s,n,r)))}function tp(e,n,s){var r=Vt();Za(e,n,s,r)}function Za(e,n,s,r){var c={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(jr(e))np(n,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var d=n.lastRenderedState,_=u(d,s);if(c.hasEagerState=!0,c.eagerState=_,Ut(_,d))return _r(e,n,c,0),je===null&&gr(),!1}catch{}if(s=zc(e,n,c,r),s!==null)return Dt(s,e,r),ip(s,n,r),!0}return!1}function vu(e,n,s,r){if(r={lane:2,revertLane:Ju(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},jr(e)){if(n)throw Error(l(479))}else n=zc(e,s,r,2),n!==null&&Dt(n,e,2)}function jr(e){var n=e.alternate;return e===oe||n!==null&&n===oe}function np(e,n){Bs=Or=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function ip(e,n,s){if((s&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,od(e,s)}}var Ja={readContext:pt,use:Ir,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};Ja.useEffectEvent=Fe;var sp={readContext:pt,use:Ir,useCallback:function(e,n){return St().memoizedState=[e,n===void 0?null:n],e},useContext:pt,useEffect:Pm,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Lr(4194308,4,Ym.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Lr(4194308,4,e,n)},useInsertionEffect:function(e,n){Lr(4,2,e,n)},useMemo:function(e,n){var s=St();n=n===void 0?null:n;var r=e();if(Wi){Xn(!0);try{e()}finally{Xn(!1)}}return s.memoizedState=[r,n],r},useReducer:function(e,n,s){var r=St();if(s!==void 0){var c=s(n);if(Wi){Xn(!0);try{s(n)}finally{Xn(!1)}}}else c=n;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=iE.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var n=St();return e={current:e},n.memoizedState=e},useState:function(e){e=hu(e);var n=e.queue,s=tp.bind(null,oe,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:pu,useDeferredValue:function(e,n){var s=St();return gu(s,e,n)},useTransition:function(){var e=hu(!1);return e=Zm.bind(null,oe,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var r=oe,c=St();if(ve){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),je===null)throw Error(l(349));(ge&127)!==0||wm(r,n,s)}c.memoizedState=s;var u={value:s,getSnapshot:n};return c.queue=u,Pm(Nm.bind(null,r,u,e),[e]),r.flags|=2048,Ps(9,{destroy:void 0},Am.bind(null,r,u,s,n),null),s},useId:function(){var e=St(),n=je.identifierPrefix;if(ve){var s=mn,r=dn;s=(r&~(1<<32-jt(r)-1)).toString(32)+s,n="_"+n+"R_"+s,s=xr++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Z0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:yu,useFormState:zm,useActionState:zm,useOptimistic:function(e){var n=St();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=vu.bind(null,oe,!0,s),s.dispatch=n,[e,n]},useMemoCache:cu,useCacheRefresh:function(){return St().memoizedState=nE.bind(null,oe)},useEffectEvent:function(e){var n=St(),s={impl:e};return n.memoizedState=s,function(){if((Re&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},Su={readContext:pt,use:Ir,useCallback:Qm,useContext:pt,useEffect:mu,useImperativeHandle:Fm,useInsertionEffect:Gm,useLayoutEffect:Vm,useMemo:Km,useReducer:kr,useRef:Hm,useState:function(){return kr(Dn)},useDebugValue:pu,useDeferredValue:function(e,n){var s=Ze();return Xm(s,Me.memoizedState,e,n)},useTransition:function(){var e=kr(Dn)[0],n=Ze().memoizedState;return[typeof e=="boolean"?e:Xa(e),n]},useSyncExternalStore:Cm,useId:$m,useHostTransitionStatus:yu,useFormState:jm,useActionState:jm,useOptimistic:function(e,n){var s=Ze();return Om(s,Me,e,n)},useMemoCache:cu,useCacheRefresh:ep};Su.useEffectEvent=qm;var ap={readContext:pt,use:Ir,useCallback:Qm,useContext:pt,useEffect:mu,useImperativeHandle:Fm,useInsertionEffect:Gm,useLayoutEffect:Vm,useMemo:Km,useReducer:fu,useRef:Hm,useState:function(){return fu(Dn)},useDebugValue:pu,useDeferredValue:function(e,n){var s=Ze();return Me===null?gu(s,e,n):Xm(s,Me.memoizedState,e,n)},useTransition:function(){var e=fu(Dn)[0],n=Ze().memoizedState;return[typeof e=="boolean"?e:Xa(e),n]},useSyncExternalStore:Cm,useId:$m,useHostTransitionStatus:yu,useFormState:Bm,useActionState:Bm,useOptimistic:function(e,n){var s=Ze();return Me!==null?Om(s,Me,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:cu,useCacheRefresh:ep};ap.useEffectEvent=qm;function Eu(e,n,s,r){n=e.memoizedState,s=s(r,n),s=s==null?n:v({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var bu={enqueueSetState:function(e,n,s){e=e._reactInternals;var r=Vt(),c=ii(r);c.payload=n,s!=null&&(c.callback=s),n=si(e,c,r),n!==null&&(Dt(n,e,r),Ya(n,e,r))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var r=Vt(),c=ii(r);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=si(e,c,r),n!==null&&(Dt(n,e,r),Ya(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Vt(),r=ii(s);r.tag=2,n!=null&&(r.callback=n),n=si(e,r,s),n!==null&&(Dt(n,e,s),Ya(n,e,s))}};function lp(e,n,s,r,c,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,d):n.prototype&&n.prototype.isPureReactComponent?!ja(s,r)||!ja(c,u):!0}function rp(e,n,s,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==e&&bu.enqueueReplaceState(n,n.state,null)}function $i(e,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(e=e.defaultProps){s===n&&(s=v({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function op(e){pr(e)}function cp(e){console.error(e)}function up(e){pr(e)}function Ur(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function fp(e,n,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Tu(e,n,s){return s=ii(s),s.tag=3,s.payload={element:null},s.callback=function(){Ur(e,n)},s}function hp(e){return e=ii(e),e.tag=3,e}function dp(e,n,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var u=r.value;e.payload=function(){return c(u)},e.callback=function(){fp(n,s,r)}}var d=s.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){fp(n,s,r),typeof c!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function sE(e,n,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&Is(n,s,c,!0),s=Ht.current,s!==null){switch(s.tag){case 31:case 13:return Wt===null?Zr():s.alternate===null&&Qe===0&&(Qe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===wr?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),Ku(e,r,c)),!1;case 22:return s.flags|=65536,r===wr?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),Ku(e,r,c)),!1}throw Error(l(435,s.tag))}return Ku(e,r,c),Zr(),!1}if(ve)return n=Ht.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==qc&&(e=Error(l(422),{cause:r}),Ha(Kt(e,s)))):(r!==qc&&(n=Error(l(423),{cause:r}),Ha(Kt(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Kt(r,s),c=Tu(e.stateNode,r,c),$c(e,c),Qe!==4&&(Qe=2)),!1;var u=Error(l(520),{cause:r});if(u=Kt(u,s),al===null?al=[u]:al.push(u),Qe!==4&&(Qe=2),n===null)return!0;r=Kt(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Tu(s.stateNode,r,e),$c(s,e),!1;case 1:if(n=s.type,u=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ui===null||!ui.has(u))))return s.flags|=65536,c&=-c,s.lanes|=c,c=hp(c),dp(c,e,s,r),$c(s,c),!1}s=s.return}while(s!==null);return!1}var Cu=Error(l(461)),et=!1;function gt(e,n,s,r){n.child=e===null?_m(n,null,s,r):Ji(n,e.child,s,r)}function mp(e,n,s,r,c){s=s.render;var u=n.ref;if("ref"in r){var d={};for(var _ in r)_!=="ref"&&(d[_]=r[_])}else d=r;return Qi(n),r=au(e,n,s,d,u,c),_=lu(),e!==null&&!et?(ru(e,n,c),On(e,n,c)):(ve&&_&&Hc(n),n.flags|=1,gt(e,n,r,c),n.child)}function pp(e,n,s,r,c){if(e===null){var u=s.type;return typeof u=="function"&&!jc(u)&&u.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=u,gp(e,n,u,r,c)):(e=vr(s.type,null,r,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(u=e.child,!Mu(e,c)){var d=u.memoizedProps;if(s=s.compare,s=s!==null?s:ja,s(d,r)&&e.ref===n.ref)return On(e,n,c)}return n.flags|=1,e=Cn(u,r),e.ref=n.ref,e.return=n,n.child=e}function gp(e,n,s,r,c){if(e!==null){var u=e.memoizedProps;if(ja(u,r)&&e.ref===n.ref)if(et=!1,n.pendingProps=r=u,Mu(e,c))(e.flags&131072)!==0&&(et=!0);else return n.lanes=e.lanes,On(e,n,c)}return wu(e,n,s,r,c)}function _p(e,n,s,r){var c=r.children,u=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(u=u!==null?u.baseLanes|s:s,e!==null){for(r=n.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~u}else r=0,n.child=null;return yp(e,n,u,s,r)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tr(n,u!==null?u.cachePool:null),u!==null?Sm(n,u):tu(),Em(n);else return r=n.lanes=536870912,yp(e,n,u!==null?u.baseLanes|s:s,s,r)}else u!==null?(Tr(n,u.cachePool),Sm(n,u),li(),n.memoizedState=null):(e!==null&&Tr(n,null),tu(),li());return gt(e,n,c,s),n.child}function Wa(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function yp(e,n,s,r,c){var u=Xc();return u=u===null?null:{parent:We._currentValue,pool:u},n.memoizedState={baseLanes:s,cachePool:u},e!==null&&Tr(n,null),tu(),Em(n),e!==null&&Is(e,n,r,!0),n.childLanes=c,null}function Br(e,n){return n=Pr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function vp(e,n,s){return Ji(n,e.child,null,s),e=Br(n,n.pendingProps),e.flags|=2,Pt(n),n.memoizedState=null,e}function aE(e,n,s){var r=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ve){if(r.mode==="hidden")return e=Br(n,r),n.lanes=536870912,Wa(null,e);if(iu(n),(e=He)?(e=xg(e,Jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:dn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},s=nm(e),s.return=n,n.child=s,mt=n,He=null)):e=null,e===null)throw ei(n);return n.lanes=536870912,null}return Br(n,r)}var u=e.memoizedState;if(u!==null){var d=u.dehydrated;if(iu(n),c)if(n.flags&256)n.flags&=-257,n=vp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(et||Is(e,n,s,!1),c=(s&e.childLanes)!==0,et||c){if(r=je,r!==null&&(d=cd(r,s),d!==0&&d!==u.retryLane))throw u.retryLane=d,Gi(e,d),Dt(r,e,d),Cu;Zr(),n=vp(e,n,s)}else e=u.treeContext,He=$t(d.nextSibling),mt=n,ve=!0,$n=null,Jt=!1,e!==null&&am(n,e),n=Br(n,r),n.flags|=4096;return n}return e=Cn(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hr(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function wu(e,n,s,r,c){return Qi(n),s=au(e,n,s,r,void 0,c),r=lu(),e!==null&&!et?(ru(e,n,c),On(e,n,c)):(ve&&r&&Hc(n),n.flags|=1,gt(e,n,s,c),n.child)}function Sp(e,n,s,r,c,u){return Qi(n),n.updateQueue=null,s=Tm(n,r,s,c),bm(e),r=lu(),e!==null&&!et?(ru(e,n,u),On(e,n,u)):(ve&&r&&Hc(n),n.flags|=1,gt(e,n,s,u),n.child)}function Ep(e,n,s,r,c){if(Qi(n),n.stateNode===null){var u=Ds,d=s.contextType;typeof d=="object"&&d!==null&&(u=pt(d)),u=new s(r,u),n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=bu,n.stateNode=u,u._reactInternals=n,u=n.stateNode,u.props=r,u.state=n.memoizedState,u.refs={},Jc(n),d=s.contextType,u.context=typeof d=="object"&&d!==null?pt(d):Ds,u.state=n.memoizedState,d=s.getDerivedStateFromProps,typeof d=="function"&&(Eu(n,s,d,r),u.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(d=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),d!==u.state&&bu.enqueueReplaceState(u,u.state,null),Qa(n,r,u,c),Fa(),u.state=n.memoizedState),typeof u.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){u=n.stateNode;var _=n.memoizedProps,E=$i(s,_);u.props=E;var N=u.context,M=s.contextType;d=Ds,typeof M=="object"&&M!==null&&(d=pt(M));var z=s.getDerivedStateFromProps;M=typeof z=="function"||typeof u.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,M||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_||N!==d)&&rp(n,u,r,d),ni=!1;var R=n.memoizedState;u.state=R,Qa(n,r,u,c),Fa(),N=n.memoizedState,_||R!==N||ni?(typeof z=="function"&&(Eu(n,s,z,r),N=n.memoizedState),(E=ni||lp(n,s,E,r,R,N,d))?(M||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(n.flags|=4194308)):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=N),u.props=r,u.state=N,u.context=d,r=E):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{u=n.stateNode,Wc(e,n),d=n.memoizedProps,M=$i(s,d),u.props=M,z=n.pendingProps,R=u.context,N=s.contextType,E=Ds,typeof N=="object"&&N!==null&&(E=pt(N)),_=s.getDerivedStateFromProps,(N=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==z||R!==E)&&rp(n,u,r,E),ni=!1,R=n.memoizedState,u.state=R,Qa(n,r,u,c),Fa();var x=n.memoizedState;d!==z||R!==x||ni||e!==null&&e.dependencies!==null&&Er(e.dependencies)?(typeof _=="function"&&(Eu(n,s,_,r),x=n.memoizedState),(M=ni||lp(n,s,M,r,R,x,E)||e!==null&&e.dependencies!==null&&Er(e.dependencies))?(N||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,x,E),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,x,E)),typeof u.componentDidUpdate=="function"&&(n.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=x),u.props=r,u.state=x,u.context=E,r=M):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),r=!1)}return u=r,Hr(e,n),r=(n.flags&128)!==0,u||r?(u=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:u.render(),n.flags|=1,e!==null&&r?(n.child=Ji(n,e.child,null,c),n.child=Ji(n,null,s,c)):gt(e,n,s,c),n.memoizedState=u.state,e=n.child):e=On(e,n,c),e}function bp(e,n,s,r){return Yi(),n.flags|=256,gt(e,n,s,r),n.child}var Au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nu(e){return{baseLanes:e,cachePool:fm()}}function Ru(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Gt),e}function Tp(e,n,s){var r=n.pendingProps,c=!1,u=(n.flags&128)!==0,d;if((d=u)||(d=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),d&&(c=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,e===null){if(ve){if(c?ai(n):li(),(e=He)?(e=xg(e,Jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:dn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},s=nm(e),s.return=n,n.child=s,mt=n,He=null)):e=null,e===null)throw ei(n);return ff(e)?n.lanes=32:n.lanes=536870912,null}var _=r.children;return r=r.fallback,c?(li(),c=n.mode,_=Pr({mode:"hidden",children:_},c),r=Vi(r,c,s,null),_.return=n,r.return=n,_.sibling=r,n.child=_,r=n.child,r.memoizedState=Nu(s),r.childLanes=Ru(e,d,s),n.memoizedState=Au,Wa(null,r)):(ai(n),Du(n,_))}var E=e.memoizedState;if(E!==null&&(_=E.dehydrated,_!==null)){if(u)n.flags&256?(ai(n),n.flags&=-257,n=Ou(e,n,s)):n.memoizedState!==null?(li(),n.child=e.child,n.flags|=128,n=null):(li(),_=r.fallback,c=n.mode,r=Pr({mode:"visible",children:r.children},c),_=Vi(_,c,s,null),_.flags|=2,r.return=n,_.return=n,r.sibling=_,n.child=r,Ji(n,e.child,null,s),r=n.child,r.memoizedState=Nu(s),r.childLanes=Ru(e,d,s),n.memoizedState=Au,n=Wa(null,r));else if(ai(n),ff(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var N=d.dgst;d=N,r=Error(l(419)),r.stack="",r.digest=d,Ha({value:r,source:null,stack:null}),n=Ou(e,n,s)}else if(et||Is(e,n,s,!1),d=(s&e.childLanes)!==0,et||d){if(d=je,d!==null&&(r=cd(d,s),r!==0&&r!==E.retryLane))throw E.retryLane=r,Gi(e,r),Dt(d,e,r),Cu;uf(_)||Zr(),n=Ou(e,n,s)}else uf(_)?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,He=$t(_.nextSibling),mt=n,ve=!0,$n=null,Jt=!1,e!==null&&am(n,e),n=Du(n,r.children),n.flags|=4096);return n}return c?(li(),_=r.fallback,c=n.mode,E=e.child,N=E.sibling,r=Cn(E,{mode:"hidden",children:r.children}),r.subtreeFlags=E.subtreeFlags&65011712,N!==null?_=Cn(N,_):(_=Vi(_,c,s,null),_.flags|=2),_.return=n,r.return=n,r.sibling=_,n.child=r,Wa(null,r),r=n.child,_=e.child.memoizedState,_===null?_=Nu(s):(c=_.cachePool,c!==null?(E=We._currentValue,c=c.parent!==E?{parent:E,pool:E}:c):c=fm(),_={baseLanes:_.baseLanes|s,cachePool:c}),r.memoizedState=_,r.childLanes=Ru(e,d,s),n.memoizedState=Au,Wa(e.child,r)):(ai(n),s=e.child,e=s.sibling,s=Cn(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,e!==null&&(d=n.deletions,d===null?(n.deletions=[e],n.flags|=16):d.push(e)),n.child=s,n.memoizedState=null,s)}function Du(e,n){return n=Pr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Pr(e,n){return e=Bt(22,e,null,n),e.lanes=0,e}function Ou(e,n,s){return Ji(n,e.child,null,s),e=Du(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Cp(e,n,s){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),Yc(e.return,n,s)}function xu(e,n,s,r,c,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c,treeForkCount:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=s,d.tailMode=c,d.treeForkCount=u)}function wp(e,n,s){var r=n.pendingProps,c=r.revealOrder,u=r.tail;r=r.children;var d=Xe.current,_=(d&2)!==0;if(_?(d=d&1|2,n.flags|=128):d&=1,P(Xe,d),gt(e,n,r,s),r=ve?Ba:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cp(e,s,n);else if(e.tag===19)Cp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Dr(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),xu(n,!1,c,s,u,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Dr(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}xu(n,!0,s,null,u,r);break;case"together":xu(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function On(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ci|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Is(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=Cn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Cn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Mu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Er(e)))}function lE(e,n,s){switch(n.tag){case 3:lt(n,n.stateNode.containerInfo),ti(n,We,e.memoizedState.cache),Yi();break;case 27:case 5:Li(n);break;case 4:lt(n,n.stateNode.containerInfo);break;case 10:ti(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,iu(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(ai(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Tp(e,n,s):(ai(n),e=On(e,n,s),e!==null?e.sibling:null);ai(n);break;case 19:var c=(e.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(Is(e,n,s,!1),r=(s&n.childLanes)!==0),c){if(r)return wp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),P(Xe,Xe.current),r)break;return null;case 22:return n.lanes=0,_p(e,n,s,n.pendingProps);case 24:ti(n,We,e.memoizedState.cache)}return On(e,n,s)}function Ap(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)et=!0;else{if(!Mu(e,s)&&(n.flags&128)===0)return et=!1,lE(e,n,s);et=(e.flags&131072)!==0}else et=!1,ve&&(n.flags&1048576)!==0&&sm(n,Ba,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Xi(n.elementType),n.type=e,typeof e=="function")jc(e)?(r=$i(e,r),n.tag=1,n=Ep(null,n,e,r,s)):(n.tag=0,n=wu(null,n,e,r,s));else{if(e!=null){var c=e.$$typeof;if(c===Ne){n.tag=11,n=mp(null,n,e,r,s);break e}else if(c===se){n.tag=14,n=pp(null,n,e,r,s);break e}}throw n=nt(e)||e,Error(l(306,n,""))}}return n;case 0:return wu(e,n,n.type,n.pendingProps,s);case 1:return r=n.type,c=$i(r,n.pendingProps),Ep(e,n,r,c,s);case 3:e:{if(lt(n,n.stateNode.containerInfo),e===null)throw Error(l(387));r=n.pendingProps;var u=n.memoizedState;c=u.element,Wc(e,n),Qa(n,r,null,s);var d=n.memoizedState;if(r=d.cache,ti(n,We,r),r!==u.cache&&Fc(n,[We],s,!0),Fa(),r=d.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){n=bp(e,n,r,s);break e}else if(r!==c){c=Kt(Error(l(424)),n),Ha(c),n=bp(e,n,r,s);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,He=$t(e.firstChild),mt=n,ve=!0,$n=null,Jt=!0,s=_m(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Yi(),r===c){n=On(e,n,s);break e}gt(e,n,r,s)}n=n.child}return n;case 26:return Hr(e,n),e===null?(s=jg(n.type,null,n.pendingProps,null))?n.memoizedState=s:ve||(s=n.type,e=n.pendingProps,r=io(ue.current).createElement(s),r[dt]=n,r[Tt]=e,_t(r,s,e),rt(r),n.stateNode=r):n.memoizedState=jg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Li(n),e===null&&ve&&(r=n.stateNode=kg(n.type,n.pendingProps,ue.current),mt=n,Jt=!0,c=He,mi(n.type)?(hf=c,He=$t(r.firstChild)):He=c),gt(e,n,n.pendingProps.children,s),Hr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ve&&((c=r=He)&&(r=zE(r,n.type,n.pendingProps,Jt),r!==null?(n.stateNode=r,mt=n,He=$t(r.firstChild),Jt=!1,c=!0):c=!1),c||ei(n)),Li(n),c=n.type,u=n.pendingProps,d=e!==null?e.memoizedProps:null,r=u.children,rf(c,u)?r=null:d!==null&&rf(c,d)&&(n.flags|=32),n.memoizedState!==null&&(c=au(e,n,J0,null,null,s),dl._currentValue=c),Hr(e,n),gt(e,n,r,s),n.child;case 6:return e===null&&ve&&((e=s=He)&&(s=jE(s,n.pendingProps,Jt),s!==null?(n.stateNode=s,mt=n,He=null,e=!0):e=!1),e||ei(n)),null;case 13:return Tp(e,n,s);case 4:return lt(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Ji(n,null,r,s):gt(e,n,r,s),n.child;case 11:return mp(e,n,n.type,n.pendingProps,s);case 7:return gt(e,n,n.pendingProps,s),n.child;case 8:return gt(e,n,n.pendingProps.children,s),n.child;case 12:return gt(e,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,ti(n,n.type,r.value),gt(e,n,r.children,s),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,Qi(n),c=pt(c),r=r(c),n.flags|=1,gt(e,n,r,s),n.child;case 14:return pp(e,n,n.type,n.pendingProps,s);case 15:return gp(e,n,n.type,n.pendingProps,s);case 19:return wp(e,n,s);case 31:return aE(e,n,s);case 22:return _p(e,n,s,n.pendingProps);case 24:return Qi(n),r=pt(We),e===null?(c=Xc(),c===null&&(c=je,u=Qc(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=s),c=u),n.memoizedState={parent:r,cache:c},Jc(n),ti(n,We,c)):((e.lanes&s)!==0&&(Wc(e,n),Qa(n,null,null,s),Fa()),c=e.memoizedState,u=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ti(n,We,r)):(r=u.cache,ti(n,We,r),r!==c.cache&&Fc(n,[We],s,!0))),gt(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function xn(e){e.flags|=4}function Iu(e,n,s,r,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if($p())e.flags|=8192;else throw Zi=wr,Zc}else e.flags&=-16777217}function Np(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!qg(n))if($p())e.flags|=8192;else throw Zi=wr,Zc}function qr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ld():536870912,e.lanes|=n,Ys|=n)}function $a(e,n){if(!ve)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=s,n}function rE(e,n,s){var r=n.pendingProps;switch(Pc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(n),null;case 1:return Pe(n),null;case 3:return s=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Nn(We),Ve(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ms(n)?xn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gc())),Pe(n),null;case 26:var c=n.type,u=n.memoizedState;return e===null?(xn(n),u!==null?(Pe(n),Np(n,u)):(Pe(n),Iu(n,c,null,r,s))):u?u!==e.memoizedState?(xn(n),Pe(n),Np(n,u)):(Pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&xn(n),Pe(n),Iu(n,c,e,r,s)),null;case 27:if(zi(n),s=ue.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&xn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Pe(n),null}e=V.current,Ms(n)?lm(n):(e=kg(c,r,s),n.stateNode=e,xn(n))}return Pe(n),null;case 5:if(zi(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&xn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Pe(n),null}if(u=V.current,Ms(n))lm(n);else{var d=io(ue.current);switch(u){case 1:u=d.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=d.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=d.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=d.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=d.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?d.createElement(c,{is:r.is}):d.createElement(c)}}u[dt]=n,u[Tt]=r;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)u.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=u;e:switch(_t(u,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&xn(n)}}return Pe(n),Iu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&xn(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(e=ue.current,Ms(n)){if(e=n.stateNode,s=n.memoizedProps,r=null,c=mt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[dt]=n,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||Tg(e.nodeValue,s)),e||ei(n,!0)}else e=io(e).createTextNode(r),e[dt]=n,n.stateNode=e}return Pe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(r=Ms(n),s!==null){if(e===null){if(!r)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[dt]=n}else Yi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),e=!1}else s=Gc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Pt(n),n):(Pt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Pe(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ms(n),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[dt]=n}else Yi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),c=!1}else c=Gc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Pt(n),n):(Pt(n),null)}return Pt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==c&&(r.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),qr(n,n.updateQueue),Pe(n),null);case 4:return Ve(),e===null&&tf(n.stateNode.containerInfo),Pe(n),null;case 10:return Nn(n.type),Pe(n),null;case 19:if(L(Xe),r=n.memoizedState,r===null)return Pe(n),null;if(c=(n.flags&128)!==0,u=r.rendering,u===null)if(c)$a(r,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(u=Dr(e),u!==null){for(n.flags|=128,$a(r,!1),e=u.updateQueue,n.updateQueue=e,qr(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)tm(s,e),s=s.sibling;return P(Xe,Xe.current&1|2),ve&&wn(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&Lt()>Qr&&(n.flags|=128,c=!0,$a(r,!1),n.lanes=4194304)}else{if(!c)if(e=Dr(u),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,qr(n,e),$a(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!ve)return Pe(n),null}else 2*Lt()-r.renderingStartTime>Qr&&s!==536870912&&(n.flags|=128,c=!0,$a(r,!1),n.lanes=4194304);r.isBackwards?(u.sibling=n.child,n.child=u):(e=r.last,e!==null?e.sibling=u:n.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Lt(),e.sibling=null,s=Xe.current,P(Xe,c?s&1|2:s&1),ve&&wn(n,r.treeForkCount),e):(Pe(n),null);case 22:case 23:return Pt(n),nu(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(Pe(n),n.subtreeFlags&6&&(n.flags|=8192)):Pe(n),s=n.updateQueue,s!==null&&qr(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),e!==null&&L(Ki),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Nn(We),Pe(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function oE(e,n){switch(Pc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Nn(We),Ve(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return zi(n),null;case 31:if(n.memoizedState!==null){if(Pt(n),n.alternate===null)throw Error(l(340));Yi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Pt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Yi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return L(Xe),null;case 4:return Ve(),null;case 10:return Nn(n.type),null;case 22:case 23:return Pt(n),nu(),e!==null&&L(Ki),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Nn(We),null;case 25:return null;default:return null}}function Rp(e,n){switch(Pc(n),n.tag){case 3:Nn(We),Ve();break;case 26:case 27:case 5:zi(n);break;case 4:Ve();break;case 31:n.memoizedState!==null&&Pt(n);break;case 13:Pt(n);break;case 19:L(Xe);break;case 10:Nn(n.type);break;case 22:case 23:Pt(n),nu(),e!==null&&L(Ki);break;case 24:Nn(We)}}function el(e,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&e)===e){r=void 0;var u=s.create,d=s.inst;r=u(),d.destroy=r}s=s.next}while(s!==c)}}catch(_){xe(n,n.return,_)}}function ri(e,n,s){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var u=c.next;r=u;do{if((r.tag&e)===e){var d=r.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,c=n;var E=s,N=_;try{N()}catch(M){xe(c,E,M)}}}r=r.next}while(r!==u)}}catch(M){xe(n,n.return,M)}}function Dp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{vm(n,s)}catch(r){xe(e,e.return,r)}}}function Op(e,n,s){s.props=$i(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){xe(e,n,r)}}function tl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(c){xe(e,n,c)}}function pn(e,n){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){xe(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){xe(e,n,c)}else s.current=null}function xp(e){var n=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){xe(e,e.return,c)}}function ku(e,n,s){try{var r=e.stateNode;OE(r,e.type,s,n),r[Tt]=n}catch(c){xe(e,e.return,c)}}function Mp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mi(e.type)||e.tag===4}function Lu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=bn));else if(r!==4&&(r===27&&mi(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(zu(e,n,s),e=e.sibling;e!==null;)zu(e,n,s),e=e.sibling}function Gr(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(r!==4&&(r===27&&mi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Gr(e,n,s),e=e.sibling;e!==null;)Gr(e,n,s),e=e.sibling}function Ip(e){var n=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);_t(n,r,s),n[dt]=e,n[Tt]=s}catch(u){xe(e,e.return,u)}}var Mn=!1,tt=!1,ju=!1,kp=typeof WeakSet=="function"?WeakSet:Set,ot=null;function cE(e,n){if(e=e.containerInfo,af=uo,e=Fd(e),Oc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var d=0,_=-1,E=-1,N=0,M=0,z=e,R=null;t:for(;;){for(var x;z!==s||c!==0&&z.nodeType!==3||(_=d+c),z!==u||r!==0&&z.nodeType!==3||(E=d+r),z.nodeType===3&&(d+=z.nodeValue.length),(x=z.firstChild)!==null;)R=z,z=x;for(;;){if(z===e)break t;if(R===s&&++N===c&&(_=d),R===u&&++M===r&&(E=d),(x=z.nextSibling)!==null)break;z=R,R=z.parentNode}z=x}s=_===-1||E===-1?null:{start:_,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(lf={focusedElem:e,selectionRange:s},uo=!1,ot=n;ot!==null;)if(n=ot,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ot=e;else for(;ot!==null;){switch(n=ot,u=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,s=n,c=u.memoizedProps,u=u.memoizedState,r=s.stateNode;try{var G=$i(s.type,c);e=r.getSnapshotBeforeUpdate(G,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(J){xe(s,s.return,J)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)cf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,ot=e;break}ot=n.return}}function Lp(e,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:kn(e,s),r&4&&el(5,s);break;case 1:if(kn(e,s),r&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(d){xe(s,s.return,d)}else{var c=$i(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(d){xe(s,s.return,d)}}r&64&&Dp(s),r&512&&tl(s,s.return);break;case 3:if(kn(e,s),r&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{vm(e,n)}catch(d){xe(s,s.return,d)}}break;case 27:n===null&&r&4&&Ip(s);case 26:case 5:kn(e,s),n===null&&r&4&&xp(s),r&512&&tl(s,s.return);break;case 12:kn(e,s);break;case 31:kn(e,s),r&4&&Up(e,s);break;case 13:kn(e,s),r&4&&Bp(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=yE.bind(null,s),UE(e,s))));break;case 22:if(r=s.memoizedState!==null||Mn,!r){n=n!==null&&n.memoizedState!==null||tt,c=Mn;var u=tt;Mn=r,(tt=n)&&!u?Ln(e,s,(s.subtreeFlags&8772)!==0):kn(e,s),Mn=c,tt=u}break;case 30:break;default:kn(e,s)}}function zp(e){var n=e.alternate;n!==null&&(e.alternate=null,zp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&dc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,wt=!1;function In(e,n,s){for(s=s.child;s!==null;)jp(e,n,s),s=s.sibling}function jp(e,n,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(wa,s)}catch{}switch(s.tag){case 26:tt||pn(s,n),In(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:tt||pn(s,n);var r=Ge,c=wt;mi(s.type)&&(Ge=s.stateNode,wt=!1),In(e,n,s),ul(s.stateNode),Ge=r,wt=c;break;case 5:tt||pn(s,n);case 6:if(r=Ge,c=wt,Ge=null,In(e,n,s),Ge=r,wt=c,Ge!==null)if(wt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(s.stateNode)}catch(u){xe(s,n,u)}else try{Ge.removeChild(s.stateNode)}catch(u){xe(s,n,u)}break;case 18:Ge!==null&&(wt?(e=Ge,Dg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),$s(e)):Dg(Ge,s.stateNode));break;case 4:r=Ge,c=wt,Ge=s.stateNode.containerInfo,wt=!0,In(e,n,s),Ge=r,wt=c;break;case 0:case 11:case 14:case 15:ri(2,s,n),tt||ri(4,s,n),In(e,n,s);break;case 1:tt||(pn(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Op(s,n,r)),In(e,n,s);break;case 21:In(e,n,s);break;case 22:tt=(r=tt)||s.memoizedState!==null,In(e,n,s),tt=r;break;default:In(e,n,s)}}function Up(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$s(e)}catch(s){xe(n,n.return,s)}}}function Bp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$s(e)}catch(s){xe(n,n.return,s)}}function uE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new kp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new kp),n;default:throw Error(l(435,e.tag))}}function Vr(e,n){var s=uE(e);n.forEach(function(r){if(!s.has(r)){s.add(r);var c=vE.bind(null,e,r);r.then(c,c)}})}function At(e,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],u=e,d=n,_=d;e:for(;_!==null;){switch(_.tag){case 27:if(mi(_.type)){Ge=_.stateNode,wt=!1;break e}break;case 5:Ge=_.stateNode,wt=!1;break e;case 3:case 4:Ge=_.stateNode.containerInfo,wt=!0;break e}_=_.return}if(Ge===null)throw Error(l(160));jp(u,d,c),Ge=null,wt=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Hp(n,e),n=n.sibling}var an=null;function Hp(e,n){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(n,e),Nt(e),r&4&&(ri(3,e,e.return),el(3,e),ri(5,e,e.return));break;case 1:At(n,e),Nt(e),r&512&&(tt||s===null||pn(s,s.return)),r&64&&Mn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=an;if(At(n,e),Nt(e),r&512&&(tt||s===null||pn(s,s.return)),r&4){var u=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":u=c.getElementsByTagName("title")[0],(!u||u[Ra]||u[dt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(r),c.head.insertBefore(u,c.querySelector("head > title"))),_t(u,r,s),u[dt]=e,rt(u),r=u;break e;case"link":var d=Hg("link","href",c).get(r+(s.href||""));if(d){for(var _=0;_<d.length;_++)if(u=d[_],u.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&u.getAttribute("rel")===(s.rel==null?null:s.rel)&&u.getAttribute("title")===(s.title==null?null:s.title)&&u.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){d.splice(_,1);break t}}u=c.createElement(r),_t(u,r,s),c.head.appendChild(u);break;case"meta":if(d=Hg("meta","content",c).get(r+(s.content||""))){for(_=0;_<d.length;_++)if(u=d[_],u.getAttribute("content")===(s.content==null?null:""+s.content)&&u.getAttribute("name")===(s.name==null?null:s.name)&&u.getAttribute("property")===(s.property==null?null:s.property)&&u.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&u.getAttribute("charset")===(s.charSet==null?null:s.charSet)){d.splice(_,1);break t}}u=c.createElement(r),_t(u,r,s),c.head.appendChild(u);break;default:throw Error(l(468,r))}u[dt]=e,rt(u),r=u}e.stateNode=r}else Pg(c,e.type,e.stateNode);else e.stateNode=Bg(c,r,e.memoizedProps);else u!==r?(u===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):u.count--,r===null?Pg(c,e.type,e.stateNode):Bg(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&ku(e,e.memoizedProps,s.memoizedProps)}break;case 27:At(n,e),Nt(e),r&512&&(tt||s===null||pn(s,s.return)),s!==null&&r&4&&ku(e,e.memoizedProps,s.memoizedProps);break;case 5:if(At(n,e),Nt(e),r&512&&(tt||s===null||pn(s,s.return)),e.flags&32){c=e.stateNode;try{bs(c,"")}catch(G){xe(e,e.return,G)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,ku(e,c,s!==null?s.memoizedProps:c)),r&1024&&(ju=!0);break;case 6:if(At(n,e),Nt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(G){xe(e,e.return,G)}}break;case 3:if(lo=null,c=an,an=so(n.containerInfo),At(n,e),an=c,Nt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{$s(n.containerInfo)}catch(G){xe(e,e.return,G)}ju&&(ju=!1,Pp(e));break;case 4:r=an,an=so(e.stateNode.containerInfo),At(n,e),Nt(e),an=r;break;case 12:At(n,e),Nt(e);break;case 31:At(n,e),Nt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Vr(e,r)));break;case 13:At(n,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fr=Lt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Vr(e,r)));break;case 22:c=e.memoizedState!==null;var E=s!==null&&s.memoizedState!==null,N=Mn,M=tt;if(Mn=N||c,tt=M||E,At(n,e),tt=M,Mn=N,Nt(e),r&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||E||Mn||tt||es(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){E=s=n;try{if(u=E.stateNode,c)d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=E.stateNode;var z=E.memoizedProps.style,R=z!=null&&z.hasOwnProperty("display")?z.display:null;_.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(G){xe(E,E.return,G)}}}else if(n.tag===6){if(s===null){E=n;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(G){xe(E,E.return,G)}}}else if(n.tag===18){if(s===null){E=n;try{var x=E.stateNode;c?Og(x,!0):Og(E.stateNode,!1)}catch(G){xe(E,E.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Vr(e,s))));break;case 19:At(n,e),Nt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Vr(e,r)));break;case 30:break;case 21:break;default:At(n,e),Nt(e)}}function Nt(e){var n=e.flags;if(n&2){try{for(var s,r=e.return;r!==null;){if(Mp(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var c=s.stateNode,u=Lu(e);Gr(e,u,c);break;case 5:var d=s.stateNode;s.flags&32&&(bs(d,""),s.flags&=-33);var _=Lu(e);Gr(e,_,d);break;case 3:case 4:var E=s.stateNode.containerInfo,N=Lu(e);zu(e,N,E);break;default:throw Error(l(161))}}catch(M){xe(e,e.return,M)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Pp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function kn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Lp(e,n.alternate,n),n=n.sibling}function es(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ri(4,n,n.return),es(n);break;case 1:pn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Op(n,n.return,s),es(n);break;case 27:ul(n.stateNode);case 26:case 5:pn(n,n.return),es(n);break;case 22:n.memoizedState===null&&es(n);break;case 30:es(n);break;default:es(n)}e=e.sibling}}function Ln(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=e,u=n,d=u.flags;switch(u.tag){case 0:case 11:case 15:Ln(c,u,s),el(4,u);break;case 1:if(Ln(c,u,s),r=u,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){xe(r,r.return,N)}if(r=u,c=r.updateQueue,c!==null){var _=r.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)ym(E[c],_)}catch(N){xe(r,r.return,N)}}s&&d&64&&Dp(u),tl(u,u.return);break;case 27:Ip(u);case 26:case 5:Ln(c,u,s),s&&r===null&&d&4&&xp(u),tl(u,u.return);break;case 12:Ln(c,u,s);break;case 31:Ln(c,u,s),s&&d&4&&Up(c,u);break;case 13:Ln(c,u,s),s&&d&4&&Bp(c,u);break;case 22:u.memoizedState===null&&Ln(c,u,s),tl(u,u.return);break;case 30:break;default:Ln(c,u,s)}n=n.sibling}}function Uu(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Pa(s))}function Bu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pa(e))}function ln(e,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qp(e,n,s,r),n=n.sibling}function qp(e,n,s,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ln(e,n,s,r),c&2048&&el(9,n);break;case 1:ln(e,n,s,r);break;case 3:ln(e,n,s,r),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pa(e)));break;case 12:if(c&2048){ln(e,n,s,r),e=n.stateNode;try{var u=n.memoizedProps,d=u.id,_=u.onPostCommit;typeof _=="function"&&_(d,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){xe(n,n.return,E)}}else ln(e,n,s,r);break;case 31:ln(e,n,s,r);break;case 13:ln(e,n,s,r);break;case 23:break;case 22:u=n.stateNode,d=n.alternate,n.memoizedState!==null?u._visibility&2?ln(e,n,s,r):nl(e,n):u._visibility&2?ln(e,n,s,r):(u._visibility|=2,qs(e,n,s,r,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Uu(d,n);break;case 24:ln(e,n,s,r),c&2048&&Bu(n.alternate,n);break;default:ln(e,n,s,r)}}function qs(e,n,s,r,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var u=e,d=n,_=s,E=r,N=d.flags;switch(d.tag){case 0:case 11:case 15:qs(u,d,_,E,c),el(8,d);break;case 23:break;case 22:var M=d.stateNode;d.memoizedState!==null?M._visibility&2?qs(u,d,_,E,c):nl(u,d):(M._visibility|=2,qs(u,d,_,E,c)),c&&N&2048&&Uu(d.alternate,d);break;case 24:qs(u,d,_,E,c),c&&N&2048&&Bu(d.alternate,d);break;default:qs(u,d,_,E,c)}n=n.sibling}}function nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,r=n,c=r.flags;switch(r.tag){case 22:nl(s,r),c&2048&&Uu(r.alternate,r);break;case 24:nl(s,r),c&2048&&Bu(r.alternate,r);break;default:nl(s,r)}n=n.sibling}}var il=8192;function Gs(e,n,s){if(e.subtreeFlags&il)for(e=e.child;e!==null;)Gp(e,n,s),e=e.sibling}function Gp(e,n,s){switch(e.tag){case 26:Gs(e,n,s),e.flags&il&&e.memoizedState!==null&&ZE(s,an,e.memoizedState,e.memoizedProps);break;case 5:Gs(e,n,s);break;case 3:case 4:var r=an;an=so(e.stateNode.containerInfo),Gs(e,n,s),an=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=il,il=16777216,Gs(e,n,s),il=r):Gs(e,n,s));break;default:Gs(e,n,s)}}function Vp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];ot=r,Fp(r,e)}Vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yp(e),e=e.sibling}function Yp(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&ri(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yr(e)):sl(e);break;default:sl(e)}}function Yr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];ot=r,Fp(r,e)}Vp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ri(8,n,n.return),Yr(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Yr(n));break;default:Yr(n)}e=e.sibling}}function Fp(e,n){for(;ot!==null;){var s=ot;switch(s.tag){case 0:case 11:case 15:ri(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Pa(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,ot=r;else e:for(s=e;ot!==null;){r=ot;var c=r.sibling,u=r.return;if(zp(r),r===s){ot=null;break e}if(c!==null){c.return=u,ot=c;break e}ot=u}}}var fE={getCacheForType:function(e){var n=pt(We),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return pt(We).controller.signal}},hE=typeof WeakMap=="function"?WeakMap:Map,Re=0,je=null,de=null,ge=0,Oe=0,qt=null,oi=!1,Vs=!1,Hu=!1,zn=0,Qe=0,ci=0,ts=0,Pu=0,Gt=0,Ys=0,al=null,Rt=null,qu=!1,Fr=0,Qp=0,Qr=1/0,Kr=null,ui=null,it=0,fi=null,Fs=null,jn=0,Gu=0,Vu=null,Kp=null,ll=0,Yu=null;function Vt(){return(Re&2)!==0&&ge!==0?ge&-ge:O.T!==null?Ju():ud()}function Xp(){if(Gt===0)if((ge&536870912)===0||ve){var e=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),Gt=e}else Gt=536870912;return e=Ht.current,e!==null&&(e.flags|=32),Gt}function Dt(e,n,s){(e===je&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Qs(e,0),hi(e,ge,Gt,!1)),Na(e,s),((Re&2)===0||e!==je)&&(e===je&&((Re&2)===0&&(ts|=s),Qe===4&&hi(e,ge,Gt,!1)),gn(e))}function Zp(e,n,s){if((Re&6)!==0)throw Error(l(327));var r=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Aa(e,n),c=r?pE(e,n):Qu(e,n,!0),u=r;do{if(c===0){Vs&&!r&&hi(e,n,0,!1);break}else{if(s=e.current.alternate,u&&!dE(s)){c=Qu(e,n,!1),u=!1;continue}if(c===2){if(u=n,e.errorRecoveryDisabledLanes&u)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var _=e;c=al;var E=_.current.memoizedState.isDehydrated;if(E&&(Qs(_,d).flags|=256),d=Qu(_,d,!1),d!==2){if(Hu&&!E){_.errorRecoveryDisabledLanes|=u,ts|=u,c=4;break e}u=Rt,Rt=c,u!==null&&(Rt===null?Rt=u:Rt.push.apply(Rt,u))}c=d}if(u=!1,c!==2)continue}}if(c===1){Qs(e,0),hi(e,n,0,!0);break}e:{switch(r=e,u=c,u){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:hi(r,n,Gt,!oi);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(c=Fr+300-Lt(),10<c)){if(hi(r,n,Gt,!oi),sr(r,0,!0)!==0)break e;jn=n,r.timeoutHandle=Ng(Jp.bind(null,r,s,Rt,Kr,qu,n,Gt,ts,Ys,oi,u,"Throttled",-0,0),c);break e}Jp(r,s,Rt,Kr,qu,n,Gt,ts,Ys,oi,u,null,-0,0)}}break}while(!0);gn(e)}function Jp(e,n,s,r,c,u,d,_,E,N,M,z,R,x){if(e.timeoutHandle=-1,z=n.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bn},Gp(n,u,z);var G=(u&62914560)===u?Fr-Lt():(u&4194048)===u?Qp-Lt():0;if(G=JE(z,G),G!==null){jn=u,e.cancelPendingCommit=G(ag.bind(null,e,n,u,s,r,c,d,_,E,M,z,null,R,x)),hi(e,u,d,!N);return}}ag(e,n,u,s,r,c,d,_,E)}function dE(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],u=c.getSnapshot;c=c.value;try{if(!Ut(u(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hi(e,n,s,r){n&=~Pu,n&=~ts,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var c=n;0<c;){var u=31-jt(c),d=1<<u;r[u]=-1,c&=~d}s!==0&&rd(e,s,n)}function Xr(){return(Re&6)===0?(rl(0),!1):!0}function Fu(){if(de!==null){if(Oe===0)var e=de.return;else e=de,An=Fi=null,ou(e),js=null,Ga=0,e=de;for(;e!==null;)Rp(e.alternate,e),e=e.return;de=null}}function Qs(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,IE(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),jn=0,Fu(),je=e,de=s=Cn(e.current,null),ge=n,Oe=0,qt=null,oi=!1,Vs=Aa(e,n),Hu=!1,Ys=Gt=Pu=ts=ci=Qe=0,Rt=al=null,qu=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var c=31-jt(r),u=1<<c;n|=e[c],r&=~u}return zn=n,gr(),s}function Wp(e,n){oe=null,O.H=Ja,n===zs||n===Cr?(n=mm(),Oe=3):n===Zc?(n=mm(),Oe=4):Oe=n===Cu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qt=n,de===null&&(Qe=1,Ur(e,Kt(n,e.current)))}function $p(){var e=Ht.current;return e===null?!0:(ge&4194048)===ge?Wt===null:(ge&62914560)===ge||(ge&536870912)!==0?e===Wt:!1}function eg(){var e=O.H;return O.H=Ja,e===null?Ja:e}function tg(){var e=O.A;return O.A=fE,e}function Zr(){Qe=4,oi||(ge&4194048)!==ge&&Ht.current!==null||(Vs=!0),(ci&134217727)===0&&(ts&134217727)===0||je===null||hi(je,ge,Gt,!1)}function Qu(e,n,s){var r=Re;Re|=2;var c=eg(),u=tg();(je!==e||ge!==n)&&(Kr=null,Qs(e,n)),n=!1;var d=Qe;e:do try{if(Oe!==0&&de!==null){var _=de,E=qt;switch(Oe){case 8:Fu(),d=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(n=!0);var N=Oe;if(Oe=0,qt=null,Ks(e,_,E,N),s&&Vs){d=0;break e}break;default:N=Oe,Oe=0,qt=null,Ks(e,_,E,N)}}mE(),d=Qe;break}catch(M){Wp(e,M)}while(!0);return n&&e.shellSuspendCounter++,An=Fi=null,Re=r,O.H=c,O.A=u,de===null&&(je=null,ge=0,gr()),d}function mE(){for(;de!==null;)ng(de)}function pE(e,n){var s=Re;Re|=2;var r=eg(),c=tg();je!==e||ge!==n?(Kr=null,Qr=Lt()+500,Qs(e,n)):Vs=Aa(e,n);e:do try{if(Oe!==0&&de!==null){n=de;var u=qt;t:switch(Oe){case 1:Oe=0,qt=null,Ks(e,n,u,1);break;case 2:case 9:if(hm(u)){Oe=0,qt=null,ig(n);break}n=function(){Oe!==2&&Oe!==9||je!==e||(Oe=7),gn(e)},u.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:hm(u)?(Oe=0,qt=null,ig(n)):(Oe=0,qt=null,Ks(e,n,u,7));break;case 5:var d=null;switch(de.tag){case 26:d=de.memoizedState;case 5:case 27:var _=de;if(d?qg(d):_.stateNode.complete){Oe=0,qt=null;var E=_.sibling;if(E!==null)de=E;else{var N=_.return;N!==null?(de=N,Jr(N)):de=null}break t}}Oe=0,qt=null,Ks(e,n,u,5);break;case 6:Oe=0,qt=null,Ks(e,n,u,6);break;case 8:Fu(),Qe=6;break e;default:throw Error(l(462))}}gE();break}catch(M){Wp(e,M)}while(!0);return An=Fi=null,O.H=r,O.A=c,Re=s,de!==null?0:(je=null,ge=0,gr(),Qe)}function gE(){for(;de!==null&&!ji();)ng(de)}function ng(e){var n=Ap(e.alternate,e,zn);e.memoizedProps=e.pendingProps,n===null?Jr(e):de=n}function ig(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Sp(s,n,n.pendingProps,n.type,void 0,ge);break;case 11:n=Sp(s,n,n.pendingProps,n.type.render,n.ref,ge);break;case 5:ou(n);default:Rp(s,n),n=de=tm(n,zn),n=Ap(s,n,zn)}e.memoizedProps=e.pendingProps,n===null?Jr(e):de=n}function Ks(e,n,s,r){An=Fi=null,ou(n),js=null,Ga=0;var c=n.return;try{if(sE(e,c,n,s,ge)){Qe=1,Ur(e,Kt(s,e.current)),de=null;return}}catch(u){if(c!==null)throw de=c,u;Qe=1,Ur(e,Kt(s,e.current)),de=null;return}n.flags&32768?(ve||r===1?e=!0:Vs||(ge&536870912)!==0?e=!1:(oi=e=!0,(r===2||r===9||r===3||r===6)&&(r=Ht.current,r!==null&&r.tag===13&&(r.flags|=16384))),sg(n,e)):Jr(n)}function Jr(e){var n=e;do{if((n.flags&32768)!==0){sg(n,oi);return}e=n.return;var s=rE(n.alternate,n,zn);if(s!==null){de=s;return}if(n=n.sibling,n!==null){de=n;return}de=n=e}while(n!==null);Qe===0&&(Qe=5)}function sg(e,n){do{var s=oE(e.alternate,e);if(s!==null){s.flags&=32767,de=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){de=e;return}de=e=s}while(e!==null);Qe=6,de=null}function ag(e,n,s,r,c,u,d,_,E){e.cancelPendingCommit=null;do Wr();while(it!==0);if((Re&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(u=n.lanes|n.childLanes,u|=Lc,XS(e,s,u,d,_,E),e===je&&(de=je=null,ge=0),Fs=n,fi=e,jn=s,Gu=u,Vu=c,Kp=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,SE(er,function(){return ug(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=O.T,O.T=null,c=U.p,U.p=2,d=Re,Re|=4;try{cE(e,n,s)}finally{Re=d,U.p=c,O.T=r}}it=1,lg(),rg(),og()}}function lg(){if(it===1){it=0;var e=fi,n=Fs,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=O.T,O.T=null;var r=U.p;U.p=2;var c=Re;Re|=4;try{Hp(n,e);var u=lf,d=Fd(e.containerInfo),_=u.focusedElem,E=u.selectionRange;if(d!==_&&_&&_.ownerDocument&&Yd(_.ownerDocument.documentElement,_)){if(E!==null&&Oc(_)){var N=E.start,M=E.end;if(M===void 0&&(M=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(M,_.value.length);else{var z=_.ownerDocument||document,R=z&&z.defaultView||window;if(R.getSelection){var x=R.getSelection(),G=_.textContent.length,J=Math.min(E.start,G),ke=E.end===void 0?J:Math.min(E.end,G);!x.extend&&J>ke&&(d=ke,ke=J,J=d);var w=Vd(_,J),T=Vd(_,ke);if(w&&T&&(x.rangeCount!==1||x.anchorNode!==w.node||x.anchorOffset!==w.offset||x.focusNode!==T.node||x.focusOffset!==T.offset)){var A=z.createRange();A.setStart(w.node,w.offset),x.removeAllRanges(),J>ke?(x.addRange(A),x.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),x.addRange(A))}}}}for(z=[],x=_;x=x.parentNode;)x.nodeType===1&&z.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<z.length;_++){var k=z[_];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}uo=!!af,lf=af=null}finally{Re=c,U.p=r,O.T=s}}e.current=n,it=2}}function rg(){if(it===2){it=0;var e=fi,n=Fs,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=O.T,O.T=null;var r=U.p;U.p=2;var c=Re;Re|=4;try{Lp(e,n.alternate,n)}finally{Re=c,U.p=r,O.T=s}}it=3}}function og(){if(it===4||it===3){it=0,Ca();var e=fi,n=Fs,s=jn,r=Kp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?it=5:(it=0,Fs=fi=null,cg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ui=null),fc(s),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(wa,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=O.T,c=U.p,U.p=2,O.T=null;try{for(var u=e.onRecoverableError,d=0;d<r.length;d++){var _=r[d];u(_.value,{componentStack:_.stack})}}finally{O.T=n,U.p=c}}(jn&3)!==0&&Wr(),gn(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Yu?ll++:(ll=0,Yu=e):ll=0,rl(0)}}function cg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pa(n)))}function Wr(){return lg(),rg(),og(),ug()}function ug(){if(it!==5)return!1;var e=fi,n=Gu;Gu=0;var s=fc(jn),r=O.T,c=U.p;try{U.p=32>s?32:s,O.T=null,s=Vu,Vu=null;var u=fi,d=jn;if(it=0,Fs=fi=null,jn=0,(Re&6)!==0)throw Error(l(331));var _=Re;if(Re|=4,Yp(u.current),qp(u,u.current,d,s),Re=_,rl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(wa,u)}catch{}return!0}finally{U.p=c,O.T=r,cg(e,n)}}function fg(e,n,s){n=Kt(s,n),n=Tu(e.stateNode,n,2),e=si(e,n,2),e!==null&&(Na(e,2),gn(e))}function xe(e,n,s){if(e.tag===3)fg(e,e,s);else for(;n!==null;){if(n.tag===3){fg(n,e,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ui===null||!ui.has(r))){e=Kt(s,e),s=hp(2),r=si(n,s,2),r!==null&&(dp(s,r,n,e),Na(r,2),gn(r));break}}n=n.return}}function Ku(e,n,s){var r=e.pingCache;if(r===null){r=e.pingCache=new hE;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(s)||(Hu=!0,c.add(s),e=_E.bind(null,e,n,s),n.then(e,e))}function _E(e,n,s){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,je===e&&(ge&s)===s&&(Qe===4||Qe===3&&(ge&62914560)===ge&&300>Lt()-Fr?(Re&2)===0&&Qs(e,0):Pu|=s,Ys===ge&&(Ys=0)),gn(e)}function hg(e,n){n===0&&(n=ld()),e=Gi(e,n),e!==null&&(Na(e,n),gn(e))}function yE(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),hg(e,s)}function vE(e,n){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),hg(e,s)}function SE(e,n){return Te(e,n)}var $r=null,Xs=null,Xu=!1,eo=!1,Zu=!1,di=0;function gn(e){e!==Xs&&e.next===null&&(Xs===null?$r=Xs=e:Xs=Xs.next=e),eo=!0,Xu||(Xu=!0,bE())}function rl(e,n){if(!Zu&&eo){Zu=!0;do for(var s=!1,r=$r;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var u=0;else{var d=r.suspendedLanes,_=r.pingedLanes;u=(1<<31-jt(42|e)+1)-1,u&=c&~(d&~_),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(s=!0,gg(r,u))}else u=ge,u=sr(r,r===je?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Aa(r,u)||(s=!0,gg(r,u));r=r.next}while(s);Zu=!1}}function EE(){dg()}function dg(){eo=Xu=!1;var e=0;di!==0&&ME()&&(e=di);for(var n=Lt(),s=null,r=$r;r!==null;){var c=r.next,u=mg(r,n);u===0?(r.next=null,s===null?$r=c:s.next=c,c===null&&(Xs=s)):(s=r,(e!==0||(u&3)!==0)&&(eo=!0)),r=c}it!==0&&it!==5||rl(e),di!==0&&(di=0)}function mg(e,n){for(var s=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var d=31-jt(u),_=1<<d,E=c[d];E===-1?((_&s)===0||(_&r)!==0)&&(c[d]=KS(_,n)):E<=n&&(e.expiredLanes|=_),u&=~_}if(n=je,s=ge,s=sr(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===n&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ye(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Aa(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(r!==null&&Ye(r),fc(s)){case 2:case 8:s=sd;break;case 32:s=er;break;case 268435456:s=ad;break;default:s=er}return r=pg.bind(null,e),s=Te(s,r),e.callbackPriority=n,e.callbackNode=s,n}return r!==null&&r!==null&&Ye(r),e.callbackPriority=2,e.callbackNode=null,2}function pg(e,n){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Wr()&&e.callbackNode!==s)return null;var r=ge;return r=sr(e,e===je?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Zp(e,r,n),mg(e,Lt()),e.callbackNode!=null&&e.callbackNode===s?pg.bind(null,e):null)}function gg(e,n){if(Wr())return null;Zp(e,n,!0)}function bE(){kE(function(){(Re&6)!==0?Te(id,EE):dg()})}function Ju(){if(di===0){var e=ks;e===0&&(e=tr,tr<<=1,(tr&261888)===0&&(tr=256)),di=e}return di}function _g(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:or(""+e)}function yg(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function TE(e,n,s,r,c){if(n==="submit"&&s&&s.stateNode===c){var u=_g((c[Tt]||null).action),d=r.submitter;d&&(n=(n=d[Tt]||null)?_g(n.formAction):d.getAttribute("formAction"),n!==null&&(u=n,d=null));var _=new hr("action","action",null,r,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(di!==0){var E=d?yg(c,d):new FormData(c);_u(s,{pending:!0,data:E,method:c.method,action:u},null,E)}}else typeof u=="function"&&(_.preventDefault(),E=d?yg(c,d):new FormData(c),_u(s,{pending:!0,data:E,method:c.method,action:u},u,E))},currentTarget:c}]})}}for(var Wu=0;Wu<kc.length;Wu++){var $u=kc[Wu],CE=$u.toLowerCase(),wE=$u[0].toUpperCase()+$u.slice(1);sn(CE,"on"+wE)}sn(Xd,"onAnimationEnd"),sn(Zd,"onAnimationIteration"),sn(Jd,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(P0,"onTransitionRun"),sn(q0,"onTransitionStart"),sn(G0,"onTransitionCancel"),sn(Wd,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function vg(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],c=r.event;r=r.listeners;e:{var u=void 0;if(n)for(var d=r.length-1;0<=d;d--){var _=r[d],E=_.instance,N=_.currentTarget;if(_=_.listener,E!==u&&c.isPropagationStopped())break e;u=_,c.currentTarget=N;try{u(c)}catch(M){pr(M)}c.currentTarget=null,u=E}else for(d=0;d<r.length;d++){if(_=r[d],E=_.instance,N=_.currentTarget,_=_.listener,E!==u&&c.isPropagationStopped())break e;u=_,c.currentTarget=N;try{u(c)}catch(M){pr(M)}c.currentTarget=null,u=E}}}}function me(e,n){var s=n[hc];s===void 0&&(s=n[hc]=new Set);var r=e+"__bubble";s.has(r)||(Sg(n,e,2,!1),s.add(r))}function ef(e,n,s){var r=0;n&&(r|=4),Sg(s,e,r,n)}var to="_reactListening"+Math.random().toString(36).slice(2);function tf(e){if(!e[to]){e[to]=!0,dd.forEach(function(s){s!=="selectionchange"&&(AE.has(s)||ef(s,!1,e),ef(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[to]||(n[to]=!0,ef("selectionchange",!1,n))}}function Sg(e,n,s,r){switch(Xg(n)){case 2:var c=eb;break;case 8:c=tb;break;default:c=_f}s=c.bind(null,n,s,e),c=void 0,!Ec||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function nf(e,n,s,r,c){var u=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var _=r.stateNode.containerInfo;if(_===c)break;if(d===4)for(d=r.return;d!==null;){var E=d.tag;if((E===3||E===4)&&d.stateNode.containerInfo===c)return;d=d.return}for(;_!==null;){if(d=_s(_),d===null)return;if(E=d.tag,E===5||E===6||E===26||E===27){r=u=d;continue e}_=_.parentNode}}r=r.return}wd(function(){var N=u,M=vc(s),z=[];e:{var R=$d.get(e);if(R!==void 0){var x=hr,G=e;switch(e){case"keypress":if(ur(s)===0)break e;case"keydown":case"keyup":x=v0;break;case"focusin":G="focus",x=wc;break;case"focusout":G="blur",x=wc;break;case"beforeblur":case"afterblur":x=wc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=r0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=b0;break;case Xd:case Zd:case Jd:x=u0;break;case Wd:x=C0;break;case"scroll":case"scrollend":x=a0;break;case"wheel":x=A0;break;case"copy":case"cut":case"paste":x=h0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Od;break;case"toggle":case"beforetoggle":x=R0}var J=(n&4)!==0,ke=!J&&(e==="scroll"||e==="scrollend"),w=J?R!==null?R+"Capture":null:R;J=[];for(var T=N,A;T!==null;){var k=T;if(A=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||A===null||w===null||(k=Oa(T,w),k!=null&&J.push(cl(T,k,A))),ke)break;T=T.return}0<J.length&&(R=new x(R,G,null,s,M),z.push({event:R,listeners:J}))}}if((n&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",R&&s!==yc&&(G=s.relatedTarget||s.fromElement)&&(_s(G)||G[gs]))break e;if((x||R)&&(R=M.window===M?M:(R=M.ownerDocument)?R.defaultView||R.parentWindow:window,x?(G=s.relatedTarget||s.toElement,x=N,G=G?_s(G):null,G!==null&&(ke=f(G),J=G.tag,G!==ke||J!==5&&J!==27&&J!==6)&&(G=null)):(x=null,G=N),x!==G)){if(J=Rd,k="onMouseLeave",w="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(J=Od,k="onPointerLeave",w="onPointerEnter",T="pointer"),ke=x==null?R:Da(x),A=G==null?R:Da(G),R=new J(k,T+"leave",x,s,M),R.target=ke,R.relatedTarget=A,k=null,_s(M)===N&&(J=new J(w,T+"enter",G,s,M),J.target=A,J.relatedTarget=ke,k=J),ke=k,x&&G)t:{for(J=NE,w=x,T=G,A=0,k=w;k;k=J(k))A++;k=0;for(var X=T;X;X=J(X))k++;for(;0<A-k;)w=J(w),A--;for(;0<k-A;)T=J(T),k--;for(;A--;){if(w===T||T!==null&&w===T.alternate){J=w;break t}w=J(w),T=J(T)}J=null}else J=null;x!==null&&Eg(z,R,x,J,!1),G!==null&&ke!==null&&Eg(z,ke,G,J,!0)}}e:{if(R=N?Da(N):window,x=R.nodeName&&R.nodeName.toLowerCase(),x==="select"||x==="input"&&R.type==="file")var Ce=Ud;else if(zd(R))if(Bd)Ce=U0;else{Ce=z0;var F=L0}else x=R.nodeName,!x||x.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?N&&_c(N.elementType)&&(Ce=Ud):Ce=j0;if(Ce&&(Ce=Ce(e,N))){jd(z,Ce,s,M);break e}F&&F(e,R,N),e==="focusout"&&N&&R.type==="number"&&N.memoizedProps.value!=null&&gc(R,"number",R.value)}switch(F=N?Da(N):window,e){case"focusin":(zd(F)||F.contentEditable==="true")&&(As=F,xc=N,Ua=null);break;case"focusout":Ua=xc=As=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,Qd(z,s,M);break;case"selectionchange":if(H0)break;case"keydown":case"keyup":Qd(z,s,M)}var ce;if(Nc)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ws?kd(e,s)&&(_e="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(_e="onCompositionStart");_e&&(xd&&s.locale!=="ko"&&(ws||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ws&&(ce=Ad()):(Jn=M,bc="value"in Jn?Jn.value:Jn.textContent,ws=!0)),F=no(N,_e),0<F.length&&(_e=new Dd(_e,e,null,s,M),z.push({event:_e,listeners:F}),ce?_e.data=ce:(ce=Ld(s),ce!==null&&(_e.data=ce)))),(ce=O0?x0(e,s):M0(e,s))&&(_e=no(N,"onBeforeInput"),0<_e.length&&(F=new Dd("onBeforeInput","beforeinput",null,s,M),z.push({event:F,listeners:_e}),F.data=ce)),TE(z,e,N,s,M)}vg(z,n)})}function cl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function no(e,n){for(var s=n+"Capture",r=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=Oa(e,s),c!=null&&r.unshift(cl(e,c,u)),c=Oa(e,n),c!=null&&r.push(cl(e,c,u))),e.tag===3)return r;e=e.return}return[]}function NE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Eg(e,n,s,r,c){for(var u=n._reactName,d=[];s!==null&&s!==r;){var _=s,E=_.alternate,N=_.stateNode;if(_=_.tag,E!==null&&E===r)break;_!==5&&_!==26&&_!==27||N===null||(E=N,c?(N=Oa(s,u),N!=null&&d.unshift(cl(s,N,E))):c||(N=Oa(s,u),N!=null&&d.push(cl(s,N,E)))),s=s.return}d.length!==0&&e.push({event:n,listeners:d})}var RE=/\r\n?/g,DE=/\u0000|\uFFFD/g;function bg(e){return(typeof e=="string"?e:""+e).replace(RE,`
`).replace(DE,"")}function Tg(e,n){return n=bg(n),bg(e)===n}function Ie(e,n,s,r,c,u){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||bs(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&bs(e,""+r);break;case"className":lr(e,"class",r);break;case"tabIndex":lr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(e,s,r);break;case"style":Td(e,r,u);break;case"data":if(n!=="object"){lr(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=or(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(s==="formAction"?(n!=="input"&&Ie(e,n,"name",c.name,c,null),Ie(e,n,"formEncType",c.formEncType,c,null),Ie(e,n,"formMethod",c.formMethod,c,null),Ie(e,n,"formTarget",c.formTarget,c,null)):(Ie(e,n,"encType",c.encType,c,null),Ie(e,n,"method",c.method,c,null),Ie(e,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=or(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=bn);break;case"onScroll":r!=null&&me("scroll",e);break;case"onScrollEnd":r!=null&&me("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=or(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":me("beforetoggle",e),me("toggle",e),ar(e,"popover",r);break;case"xlinkActuate":En(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":En(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":En(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":En(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":En(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":En(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":En(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":En(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":En(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ar(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=i0.get(s)||s,ar(e,s,r))}}function sf(e,n,s,r,c,u){switch(s){case"style":Td(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof r=="string"?bs(e,r):(typeof r=="number"||typeof r=="bigint")&&bs(e,""+r);break;case"onScroll":r!=null&&me("scroll",e);break;case"onScrollEnd":r!=null&&me("scrollend",e);break;case"onClick":r!=null&&(e.onclick=bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!md.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),u=e[Tt]||null,u=u!=null?u[s]:null,typeof u=="function"&&e.removeEventListener(n,u,c),typeof r=="function")){typeof u!="function"&&u!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,r,c);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):ar(e,s,r)}}}function _t(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",e),me("load",e);var r=!1,c=!1,u;for(u in s)if(s.hasOwnProperty(u)){var d=s[u];if(d!=null)switch(u){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ie(e,n,u,d,s,null)}}c&&Ie(e,n,"srcSet",s.srcSet,s,null),r&&Ie(e,n,"src",s.src,s,null);return;case"input":me("invalid",e);var _=u=d=c=null,E=null,N=null;for(r in s)if(s.hasOwnProperty(r)){var M=s[r];if(M!=null)switch(r){case"name":c=M;break;case"type":d=M;break;case"checked":E=M;break;case"defaultChecked":N=M;break;case"value":u=M;break;case"defaultValue":_=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(l(137,n));break;default:Ie(e,n,r,M,s,null)}}vd(e,u,_,E,N,d,c,!1);return;case"select":me("invalid",e),r=d=u=null;for(c in s)if(s.hasOwnProperty(c)&&(_=s[c],_!=null))switch(c){case"value":u=_;break;case"defaultValue":d=_;break;case"multiple":r=_;default:Ie(e,n,c,_,s,null)}n=u,s=d,e.multiple=!!r,n!=null?Es(e,!!r,n,!1):s!=null&&Es(e,!!r,s,!0);return;case"textarea":me("invalid",e),u=c=r=null;for(d in s)if(s.hasOwnProperty(d)&&(_=s[d],_!=null))switch(d){case"value":r=_;break;case"defaultValue":c=_;break;case"children":u=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Ie(e,n,d,_,s,null)}Ed(e,r,c,u);return;case"option":for(E in s)s.hasOwnProperty(E)&&(r=s[E],r!=null)&&(E==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Ie(e,n,E,r,s,null));return;case"dialog":me("beforetoggle",e),me("toggle",e),me("cancel",e),me("close",e);break;case"iframe":case"object":me("load",e);break;case"video":case"audio":for(r=0;r<ol.length;r++)me(ol[r],e);break;case"image":me("error",e),me("load",e);break;case"details":me("toggle",e);break;case"embed":case"source":case"link":me("error",e),me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in s)if(s.hasOwnProperty(N)&&(r=s[N],r!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ie(e,n,N,r,s,null)}return;default:if(_c(n)){for(M in s)s.hasOwnProperty(M)&&(r=s[M],r!==void 0&&sf(e,n,M,r,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(r=s[_],r!=null&&Ie(e,n,_,r,s,null))}function OE(e,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,d=null,_=null,E=null,N=null,M=null;for(x in s){var z=s[x];if(s.hasOwnProperty(x)&&z!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":E=z;default:r.hasOwnProperty(x)||Ie(e,n,x,null,r,z)}}for(var R in r){var x=r[R];if(z=s[R],r.hasOwnProperty(R)&&(x!=null||z!=null))switch(R){case"type":u=x;break;case"name":c=x;break;case"checked":N=x;break;case"defaultChecked":M=x;break;case"value":d=x;break;case"defaultValue":_=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(137,n));break;default:x!==z&&Ie(e,n,R,x,r,z)}}pc(e,d,_,E,N,M,u,c);return;case"select":x=d=_=R=null;for(u in s)if(E=s[u],s.hasOwnProperty(u)&&E!=null)switch(u){case"value":break;case"multiple":x=E;default:r.hasOwnProperty(u)||Ie(e,n,u,null,r,E)}for(c in r)if(u=r[c],E=s[c],r.hasOwnProperty(c)&&(u!=null||E!=null))switch(c){case"value":R=u;break;case"defaultValue":_=u;break;case"multiple":d=u;default:u!==E&&Ie(e,n,c,u,r,E)}n=_,s=d,r=x,R!=null?Es(e,!!s,R,!1):!!r!=!!s&&(n!=null?Es(e,!!s,n,!0):Es(e,!!s,s?[]:"",!1));return;case"textarea":x=R=null;for(_ in s)if(c=s[_],s.hasOwnProperty(_)&&c!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ie(e,n,_,null,r,c)}for(d in r)if(c=r[d],u=s[d],r.hasOwnProperty(d)&&(c!=null||u!=null))switch(d){case"value":R=c;break;case"defaultValue":x=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==u&&Ie(e,n,d,c,r,u)}Sd(e,R,x);return;case"option":for(var G in s)R=s[G],s.hasOwnProperty(G)&&R!=null&&!r.hasOwnProperty(G)&&(G==="selected"?e.selected=!1:Ie(e,n,G,null,r,R));for(E in r)R=r[E],x=s[E],r.hasOwnProperty(E)&&R!==x&&(R!=null||x!=null)&&(E==="selected"?e.selected=R&&typeof R!="function"&&typeof R!="symbol":Ie(e,n,E,R,r,x));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in s)R=s[J],s.hasOwnProperty(J)&&R!=null&&!r.hasOwnProperty(J)&&Ie(e,n,J,null,r,R);for(N in r)if(R=r[N],x=s[N],r.hasOwnProperty(N)&&R!==x&&(R!=null||x!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,n));break;default:Ie(e,n,N,R,r,x)}return;default:if(_c(n)){for(var ke in s)R=s[ke],s.hasOwnProperty(ke)&&R!==void 0&&!r.hasOwnProperty(ke)&&sf(e,n,ke,void 0,r,R);for(M in r)R=r[M],x=s[M],!r.hasOwnProperty(M)||R===x||R===void 0&&x===void 0||sf(e,n,M,R,r,x);return}}for(var w in s)R=s[w],s.hasOwnProperty(w)&&R!=null&&!r.hasOwnProperty(w)&&Ie(e,n,w,null,r,R);for(z in r)R=r[z],x=s[z],!r.hasOwnProperty(z)||R===x||R==null&&x==null||Ie(e,n,z,R,r,x)}function Cg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var c=s[r],u=c.transferSize,d=c.initiatorType,_=c.duration;if(u&&_&&Cg(d)){for(d=0,_=c.responseEnd,r+=1;r<s.length;r++){var E=s[r],N=E.startTime;if(N>_)break;var M=E.transferSize,z=E.initiatorType;M&&Cg(z)&&(E=E.responseEnd,d+=M*(E<_?1:(_-N)/(E-N)))}if(--r,n+=8*(u+d)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var af=null,lf=null;function io(e){return e.nodeType===9?e:e.ownerDocument}function wg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ag(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var of=null;function ME(){var e=window.event;return e&&e.type==="popstate"?e===of?!1:(of=e,!0):(of=null,!1)}var Ng=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,Rg=typeof Promise=="function"?Promise:void 0,kE=typeof queueMicrotask=="function"?queueMicrotask:typeof Rg<"u"?function(e){return Rg.resolve(null).then(e).catch(LE)}:Ng;function LE(e){setTimeout(function(){throw e})}function mi(e){return e==="head"}function Dg(e,n){var s=n,r=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(c),$s(n);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")ul(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ul(s);for(var u=s.firstChild;u;){var d=u.nextSibling,_=u.nodeName;u[Ra]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&u.rel.toLowerCase()==="stylesheet"||s.removeChild(u),u=d}}else s==="body"&&ul(e.ownerDocument.body);s=c}while(s);$s(n)}function Og(e,n){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function cf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cf(s),dc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function zE(e,n,s,r){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ra])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function jE(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=$t(e.nextSibling),e===null))return null;return e}function xg(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$t(e.nextSibling),e===null))return null;return e}function uf(e){return e.data==="$?"||e.data==="$~"}function ff(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function UE(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function $t(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var hf=null;function Mg(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return $t(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Ig(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function kg(e,n,s){switch(n=io(s),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);dc(e)}var en=new Map,Lg=new Set;function so(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Un=U.d;U.d={f:BE,r:HE,D:PE,C:qE,L:GE,m:VE,X:FE,S:YE,M:QE};function BE(){var e=Un.f(),n=Xr();return e||n}function HE(e){var n=ys(e);n!==null&&n.tag===5&&n.type==="form"?Wm(n):Un.r(e)}var Zs=typeof document>"u"?null:document;function zg(e,n,s){var r=Zs;if(r&&typeof n=="string"&&n){var c=Ft(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Lg.has(c)||(Lg.add(c),e={rel:e,crossOrigin:s,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),_t(n,"link",e),rt(n),r.head.appendChild(n)))}}function PE(e){Un.D(e),zg("dns-prefetch",e,null)}function qE(e,n){Un.C(e,n),zg("preconnect",e,n)}function GE(e,n,s){Un.L(e,n,s);var r=Zs;if(r&&e&&n){var c='link[rel="preload"][as="'+Ft(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Ft(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Ft(s.imageSizes)+'"]')):c+='[href="'+Ft(e)+'"]';var u=c;switch(n){case"style":u=Js(e);break;case"script":u=Ws(e)}en.has(u)||(e=v({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),en.set(u,e),r.querySelector(c)!==null||n==="style"&&r.querySelector(fl(u))||n==="script"&&r.querySelector(hl(u))||(n=r.createElement("link"),_t(n,"link",e),rt(n),r.head.appendChild(n)))}}function VE(e,n){Un.m(e,n);var s=Zs;if(s&&e){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ft(r)+'"][href="'+Ft(e)+'"]',u=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ws(e)}if(!en.has(u)&&(e=v({rel:"modulepreload",href:e},n),en.set(u,e),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(hl(u)))return}r=s.createElement("link"),_t(r,"link",e),rt(r),s.head.appendChild(r)}}}function YE(e,n,s){Un.S(e,n,s);var r=Zs;if(r&&e){var c=vs(r).hoistableStyles,u=Js(e);n=n||"default";var d=c.get(u);if(!d){var _={loading:0,preload:null};if(d=r.querySelector(fl(u)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},s),(s=en.get(u))&&df(e,s);var E=d=r.createElement("link");rt(E),_t(E,"link",e),E._p=new Promise(function(N,M){E.onload=N,E.onerror=M}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ao(d,n,r)}d={type:"stylesheet",instance:d,count:1,state:_},c.set(u,d)}}}function FE(e,n){Un.X(e,n);var s=Zs;if(s&&e){var r=vs(s).hoistableScripts,c=Ws(e),u=r.get(c);u||(u=s.querySelector(hl(c)),u||(e=v({src:e,async:!0},n),(n=en.get(c))&&mf(e,n),u=s.createElement("script"),rt(u),_t(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function QE(e,n){Un.M(e,n);var s=Zs;if(s&&e){var r=vs(s).hoistableScripts,c=Ws(e),u=r.get(c);u||(u=s.querySelector(hl(c)),u||(e=v({src:e,async:!0,type:"module"},n),(n=en.get(c))&&mf(e,n),u=s.createElement("script"),rt(u),_t(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function jg(e,n,s,r){var c=(c=ue.current)?so(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Js(s.href),s=vs(c).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Js(s.href);var u=vs(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(fl(e)))&&!u._p&&(d.instance=u,d.state.loading=5),en.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},en.set(e,s),u||KE(c,e,s,d.state))),n&&r===null)throw Error(l(528,""));return d}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ws(s),s=vs(c).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Js(e){return'href="'+Ft(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function Ug(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function KE(e,n,s,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),_t(n,"link",s),rt(n),e.head.appendChild(n))}function Ws(e){return'[src="'+Ft(e)+'"]'}function hl(e){return"script[async]"+e}function Bg(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Ft(s.href)+'"]');if(r)return n.instance=r,rt(r),r;var c=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),rt(r),_t(r,"style",c),ao(r,s.precedence,e),n.instance=r;case"stylesheet":c=Js(s.href);var u=e.querySelector(fl(c));if(u)return n.state.loading|=4,n.instance=u,rt(u),u;r=Ug(s),(c=en.get(c))&&df(r,c),u=(e.ownerDocument||e).createElement("link"),rt(u);var d=u;return d._p=new Promise(function(_,E){d.onload=_,d.onerror=E}),_t(u,"link",r),n.state.loading|=4,ao(u,s.precedence,e),n.instance=u;case"script":return u=Ws(s.src),(c=e.querySelector(hl(u)))?(n.instance=c,rt(c),c):(r=s,(c=en.get(u))&&(r=v({},s),mf(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),rt(c),_t(c,"link",r),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,ao(r,s.precedence,e));return n.instance}function ao(e,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,u=c,d=0;d<r.length;d++){var _=r[d];if(_.dataset.precedence===n)u=_;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function df(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function mf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var lo=null;function Hg(e,n,s){if(lo===null){var r=new Map,c=lo=new Map;c.set(s,r)}else c=lo,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var u=s[c];if(!(u[Ra]||u[dt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var d=u.getAttribute(n)||"";d=e+d;var _=r.get(d);_?_.push(u):r.set(d,[u])}}return r}function Pg(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function XE(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ZE(e,n,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Js(r.href),u=n.querySelector(fl(c));if(u){n=u._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ro.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=u,rt(u);return}u=n.ownerDocument||n,r=Ug(r),(c=en.get(c))&&df(r,c),u=u.createElement("link"),rt(u);var d=u;d._p=new Promise(function(_,E){d.onload=_,d.onerror=E}),_t(u,"link",r),s.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ro.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var pf=0;function JE(e,n){return e.stylesheets&&e.count===0&&co(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&co(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+n);0<e.imgBytes&&pf===0&&(pf=62500*xE());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&co(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>pf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function ro(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)co(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oo=null;function co(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oo=new Map,n.forEach(WE,e),oo=null,ro.call(e))}function WE(e,n){if(!(n.state.loading&4)){var s=oo.get(e);if(s)var r=s.get(null);else{s=new Map,oo.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var d=c[u];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(s.set(d.dataset.precedence,d),r=d)}r&&s.set(null,r)}c=n.instance,d=c.getAttribute("data-precedence"),u=s.get(d)||r,u===r&&s.set(null,c),s.set(d,c),this.count++,r=ro.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var dl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function $E(e,n,s,r,c,u,d,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cc(0),this.hiddenUpdates=cc(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Gg(e,n,s,r,c,u,d,_,E,N,M,z){return e=new $E(e,n,s,d,E,N,M,z,_),n=1,u===!0&&(n|=24),u=Bt(3,null,null,n),e.current=u,u.stateNode=e,n=Qc(),n.refCount++,e.pooledCache=n,n.refCount++,u.memoizedState={element:r,isDehydrated:s,cache:n},Jc(u),e}function Vg(e){return e?(e=Ds,e):Ds}function Yg(e,n,s,r,c,u){c=Vg(c),r.context===null?r.context=c:r.pendingContext=c,r=ii(n),r.payload={element:s},u=u===void 0?null:u,u!==null&&(r.callback=u),s=si(e,r,n),s!==null&&(Dt(s,e,n),Ya(s,e,n))}function Fg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function gf(e,n){Fg(e,n),(e=e.alternate)&&Fg(e,n)}function Qg(e){if(e.tag===13||e.tag===31){var n=Gi(e,67108864);n!==null&&Dt(n,e,67108864),gf(e,67108864)}}function Kg(e){if(e.tag===13||e.tag===31){var n=Vt();n=uc(n);var s=Gi(e,n);s!==null&&Dt(s,e,n),gf(e,n)}}var uo=!0;function eb(e,n,s,r){var c=O.T;O.T=null;var u=U.p;try{U.p=2,_f(e,n,s,r)}finally{U.p=u,O.T=c}}function tb(e,n,s,r){var c=O.T;O.T=null;var u=U.p;try{U.p=8,_f(e,n,s,r)}finally{U.p=u,O.T=c}}function _f(e,n,s,r){if(uo){var c=yf(r);if(c===null)nf(e,n,r,fo,s),Zg(e,r);else if(ib(c,e,n,s,r))r.stopPropagation();else if(Zg(e,r),n&4&&-1<nb.indexOf(e)){for(;c!==null;){var u=ys(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var d=Ui(u.pendingLanes);if(d!==0){var _=u;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var E=1<<31-jt(d);_.entanglements[1]|=E,d&=~E}gn(u),(Re&6)===0&&(Qr=Lt()+500,rl(0))}}break;case 31:case 13:_=Gi(u,2),_!==null&&Dt(_,u,2),Xr(),gf(u,2)}if(u=yf(r),u===null&&nf(e,n,r,fo,s),u===c)break;c=u}c!==null&&r.stopPropagation()}else nf(e,n,r,null,s)}}function yf(e){return e=vc(e),vf(e)}var fo=null;function vf(e){if(fo=null,e=_s(e),e!==null){var n=f(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fo=e,null}function Xg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(PS()){case id:return 2;case sd:return 8;case er:case qS:return 32;case ad:return 268435456;default:return 32}default:return 32}}var Sf=!1,pi=null,gi=null,_i=null,ml=new Map,pl=new Map,yi=[],nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zg(e,n){switch(e){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function gl(e,n,s,r,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:u,targetContainers:[c]},n!==null&&(n=ys(n),n!==null&&Qg(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function ib(e,n,s,r,c){switch(n){case"focusin":return pi=gl(pi,e,n,s,r,c),!0;case"dragenter":return gi=gl(gi,e,n,s,r,c),!0;case"mouseover":return _i=gl(_i,e,n,s,r,c),!0;case"pointerover":var u=c.pointerId;return ml.set(u,gl(ml.get(u)||null,e,n,s,r,c)),!0;case"gotpointercapture":return u=c.pointerId,pl.set(u,gl(pl.get(u)||null,e,n,s,r,c)),!0}return!1}function Jg(e){var n=_s(e.target);if(n!==null){var s=f(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,fd(e.priority,function(){Kg(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,fd(e.priority,function(){Kg(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ho(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=yf(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);yc=r,s.target.dispatchEvent(r),yc=null}else return n=ys(s),n!==null&&Qg(n),e.blockedOn=s,!1;n.shift()}return!0}function Wg(e,n,s){ho(e)&&s.delete(n)}function sb(){Sf=!1,pi!==null&&ho(pi)&&(pi=null),gi!==null&&ho(gi)&&(gi=null),_i!==null&&ho(_i)&&(_i=null),ml.forEach(Wg),pl.forEach(Wg)}function mo(e,n){e.blockedOn===n&&(e.blockedOn=null,Sf||(Sf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,sb)))}var po=null;function $g(e){po!==e&&(po=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){po===e&&(po=null);for(var n=0;n<e.length;n+=3){var s=e[n],r=e[n+1],c=e[n+2];if(typeof r!="function"){if(vf(r||s)===null)continue;break}var u=ys(s);u!==null&&(e.splice(n,3),n-=3,_u(u,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function $s(e){function n(E){return mo(E,e)}pi!==null&&mo(pi,e),gi!==null&&mo(gi,e),_i!==null&&mo(_i,e),ml.forEach(n),pl.forEach(n);for(var s=0;s<yi.length;s++){var r=yi[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yi.length&&(s=yi[0],s.blockedOn===null);)Jg(s),s.blockedOn===null&&yi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],u=s[r+1],d=c[Tt]||null;if(typeof u=="function")d||$g(s);else if(d){var _=null;if(u&&u.hasAttribute("formAction")){if(c=u,d=u[Tt]||null)_=d.formAction;else if(vf(c)!==null)continue}else _=d.action;typeof _=="function"?s[r+1]=_:(s.splice(r,3),r-=3),$g(s)}}}function e_(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(d){return c=d})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Ef(e){this._internalRoot=e}go.prototype.render=Ef.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,r=Vt();Yg(s,r,e,n,null,null)},go.prototype.unmount=Ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Yg(e.current,2,null,e,null,null),Xr(),n[gs]=null}};function go(e){this._internalRoot=e}go.prototype.unstable_scheduleHydration=function(e){if(e){var n=ud();e={blockedOn:null,target:e,priority:n};for(var s=0;s<yi.length&&n!==0&&n<yi[s].priority;s++);yi.splice(s,0,e),s===0&&Jg(e)}};var t_=t.version;if(t_!=="19.2.3")throw Error(l(527,t_,"19.2.3"));U.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var ab={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{wa=_o.inject(ab),zt=_o}catch{}}return yl.createRoot=function(e,n){if(!o(e))throw Error(l(299));var s=!1,r="",c=op,u=cp,d=up;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Gg(e,1,!1,null,null,s,r,null,c,u,d,e_),e[gs]=n.current,tf(e),new Ef(n)},yl.hydrateRoot=function(e,n,s){if(!o(e))throw Error(l(299));var r=!1,c="",u=op,d=cp,_=up,E=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.formState!==void 0&&(E=s.formState)),n=Gg(e,1,!0,n,s??null,r,c,E,u,d,_,e_),n.context=Vg(null),s=n.current,r=Vt(),r=uc(r),c=ii(r),c.callback=null,si(s,c,r),s=r,n.current.lanes=s,Na(n,s),gn(n),e[gs]=n.current,tf(e),new go(n)},yl.version="19.2.3",yl}var f_;function gb(){if(f_)return Cf.exports;f_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Cf.exports=pb(),Cf.exports}var _b=gb();const yb={pl:{appTitle:"Wizualizacja Kosztw",navTransactions:" Transakcje",navDashboard:" Panel",noDataFound:"Nie znaleziono danych",noDataDesc:"Twoja lista transakcji jest pusta. Moesz zaimportowa dane z pliku JSON.",importJson:"Importuj JSON",pasteJson:"Wklej swj JSON z transakcjami poniej:",saveImport:"Zapisz i Importuj",cancel:"Anuluj",loading:"adowanie danych...",confirmDeleteTitle:"Potwierd usunicie",confirmDeleteMsg:"Czy na pewno chcesz usun t transakcj? Tej operacji nie mona cofn.",confirm:"Potwierd",addTransaction:"Dodaj transakcj",editTransaction:"Edytuj transakcj",date:"Data",name:"Nazwa",amount:"Kwota",type:"Typ",saveTransaction:"Zapisz transakcj",updateTransaction:"Aktualizuj transakcj",transactions:"Transakcje",noTransactions:"Nie dodano jeszcze adnych transakcji.",sortBy:"Sortuj wedug",dateNewest:"Data (Najnowsze)",dateOldest:"Data (Najstarsze)",amountHigh:"Kwota (Wysoka)",amountLow:"Kwota (Niska)",typeAZ:"Typ (A-Z)",nameAZ:"Nazwa (A-Z)",convertTo:"Przelicz na...",edit:"Edytuj",delete:"Usu",showLess:"Poka mniej",showAll:"Poka wszystko",totalSum:"Suma cakowita:",dashboard:"Panel",summary:"Podsumowanie",totalExpenses:"Cakowite wydatki",averageDaily:"rednia dzienna",totalItems:"Liczba pozycji",expensesByType:"Wydatki wedug typu",expensesByProject:"Wydatki wedug projektu",cumulativeGrowth:"Wzrost skumulowany",dailyHeatmap:"Mapa ciepa wydatkw dziennych",topExpenses:"Najwiksze wydatki",noDataAvailable:"Brak danych",low:"Niska",high:"Wysoka",saveToCloud:"Zapisz w chmurze (Firebase)",generateJson:"Generuj JSON",jsonOutput:"Wynik JSON",copyToClipboard:"Kopiuj do schowka",sharedBanner:"Przegldasz udostpniony panel",goToMyDashboard:"Przejd do mojego panelu",shareDashboard:" Udostpnij panel",shareSuccess:"Link do udostpniania skopiowany! Kady z tym linkiem moe zobaczy Twj panel.",shareError:"Najpierw zapisz w chmurze, aby uzyska link do udostpniania.",sharedLoadError:"Nie udao si zaadowa udostpnionego panelu. Moe by prywatny lub usunity.",saveSuccess:"Pomylnie zapisano w chmurze!",saveError:"Nie udao si zapisa w chmurze.",importSuccess:"Pomylnie zaimportowano {{count}} transakcji!",importNoValid:"Nie znaleziono prawidowych transakcji w podanym pliku JSON.",importInvalidJson:"Nieprawidowy format JSON. Sprawd swoje dane.",copied:"Skopiowano do schowka!",errorLogTitle:"Rozbienoci w danych",errorLogDesc:"W pobranych danych znaleziono nastpujce problemy:",itemIndex:"Indeks elementu:",issues:"Problemy:",rawData:"Surowe dane:",close:"Zamknij",items:"pozycji",namePlaceholder:"np. arwka",typePlaceholder:"np. Oglne",deleteSuccess:"Transakcja usunita pomylnie",search:"Szukaj...",showResults:"Poka wyniki",noResults:"Nie znaleziono wynikw",found:"znaleziono",project:"Projekt",budget:"Budet",allProjects:"Wszystkie projekty",startDate:"Data od",endDate:"Data do",clearFilters:"Wyczy filtry",filter:"Filtruj",addProject:"Dodaj projekt",enterProjectName:"Wpisz nazw projektu:",add:"Dodaj",projectName:"Nazwa projektu",duplicateProject:"Taki projekt ju istnieje",signInWithGoogle:"Zaloguj przez Google",logout:"Wyloguj"},uk:{appTitle:" ",navTransactions:" ",navDashboard:" ",noDataFound:"  ",noDataDesc:"   .       JSON.",importJson:" JSON",pasteJson:"  JSON   :",saveImport:"  ",cancel:"",loading:" ...",confirmDeleteTitle:" ",confirmDeleteMsg:" ,     ?    .",confirm:"",addTransaction:" ",editTransaction:" ",date:"",name:"",amount:"",type:"",saveTransaction:" ",updateTransaction:" ",transactions:"",noTransactions:"   .",sortBy:" ",dateNewest:" ()",dateOldest:" ()",amountHigh:" ()",amountLow:" ()",typeAZ:" (-)",nameAZ:" (-)",convertTo:" ...",edit:"",delete:"",showLess:" ",showAll:" ",totalSum:" :",dashboard:"",summary:"",totalExpenses:" ",averageDaily:"",totalItems:" ",expensesByType:"  ",expensesByProject:"  ",cumulativeGrowth:" ",dailyHeatmap:"   ",topExpenses:" ",noDataAvailable:" ",low:"",high:"",saveToCloud:"   (Firebase)",generateJson:" JSON",jsonOutput:" JSON",copyToClipboard:"  ",sharedBanner:"  ",goToMyDashboard:"   ",shareDashboard:"  ",shareSuccess:"   ! -       .",shareError:"   ,     .",sharedLoadError:"    .      .",saveSuccess:"   !",saveError:"    .",importSuccess:"  {{count}} !",importNoValid:"      JSON.",importInvalidJson:"  JSON.   .",copied:"!",errorLogTitle:"  ",errorLogDesc:"     :",itemIndex:" :",issues:":",rawData:" :",close:"",items:"",namePlaceholder:"., ",typePlaceholder:"., ",deleteSuccess:"  ",search:"...",showResults:" ",noResults:"  ",found:"",project:"",budget:"",allProjects:" ",startDate:" ",endDate:" ",clearFilters:" ",filter:"",addProject:" ",enterProjectName:"  :",add:"",projectName:" ",duplicateProject:"   ",signInWithGoogle:"   Google",logout:""},ru:{appTitle:" ",navTransactions:" ",navDashboard:" ",noDataFound:"  ",noDataDesc:"   .       JSON.",importJson:" JSON",pasteJson:"  JSON   :",saveImport:"  ",cancel:"",loading:" ...",confirmDeleteTitle:" ",confirmDeleteMsg:" ,     ?    .",confirm:"",addTransaction:" ",editTransaction:" ",date:"",name:"",amount:"",type:"",saveTransaction:" ",updateTransaction:" ",transactions:"",noTransactions:"   .",sortBy:" ",dateNewest:" ()",dateOldest:" ()",amountHigh:" ()",amountLow:" ()",typeAZ:" (-)",nameAZ:" (-)",convertTo:" ...",edit:"",delete:"",showLess:" ",showAll:" ",totalSum:" :",dashboard:"",summary:"",totalExpenses:" ",averageDaily:"",totalItems:" ",expensesByType:"  ",expensesByProject:"  ",cumulativeGrowth:" ",dailyHeatmap:"   ",topExpenses:"  ",noDataAvailable:" ",low:"",high:"",saveToCloud:"   (Firebase)",generateJson:" JSON",jsonOutput:" JSON",copyToClipboard:"  ",sharedBanner:"  ",goToMyDashboard:"   ",shareDashboard:"  ",shareSuccess:"   ! ,     ,    .",shareError:"   ,     .",sharedLoadError:"    .      .",saveSuccess:"   !",saveError:"    .",importSuccess:"  {{count}} !",importNoValid:"  JSON    .",importInvalidJson:"  JSON. ,   .",copied:"!",errorLogTitle:"  ",errorLogDesc:"     :",itemIndex:" :",issues:":",rawData:" :",close:"",items:"",namePlaceholder:"., ",typePlaceholder:"., ",deleteSuccess:"  ",search:"...",showResults:" ",noResults:"  ",found:"",project:"",budget:"",allProjects:" ",startDate:" ",endDate:" ",clearFilters:" ",filter:"",addProject:" ",enterProjectName:"  :",add:"",projectName:" ",duplicateProject:"   ",signInWithGoogle:"  Google",logout:""},en:{appTitle:"Cost Visualization",navTransactions:" Transactions",navDashboard:" Dashboard",noDataFound:"No Data Found",noDataDesc:"Your transaction list is empty. You can import data from a JSON file.",importJson:"Import JSON",pasteJson:"Paste your transaction JSON below:",saveImport:"Save & Import",cancel:"Cancel",loading:"Loading data...",confirmDeleteTitle:"Confirm Delete",confirmDeleteMsg:"Are you sure you want to delete this transaction? This action cannot be undone.",confirm:"Confirm",addTransaction:"Add Transaction",editTransaction:"Edit Transaction",date:"Date",name:"Name",amount:"Amount",type:"Type",saveTransaction:"Save Transaction",updateTransaction:"Update Transaction",transactions:"Transactions",noTransactions:"No transactions added yet.",sortBy:"Sort by",dateNewest:"Date (Newest)",dateOldest:"Date (Oldest)",amountHigh:"Amount (High)",amountLow:"Amount (Low)",typeAZ:"Type (A-Z)",nameAZ:"Name (A-Z)",convertTo:"Convert to...",edit:"Edit",delete:"Delete",showLess:"Show less",showAll:"Show all",totalSum:"Total Sum:",dashboard:"Dashboard",summary:"Summary",totalExpenses:"Total Expenses",averageDaily:"Average Daily",totalItems:"Total Items",expensesByType:"Expenses by Type",expensesByProject:"Expenses by Project",cumulativeGrowth:"Cumulative Growth",dailyHeatmap:"Daily Expense Heatmap",topExpenses:"Top Expenses",noDataAvailable:"No Data Available",low:"Low",high:"High",saveToCloud:"Save to Cloud (Firebase)",generateJson:"Generate JSON",jsonOutput:"JSON Output",copyToClipboard:"Copy to Clipboard",sharedBanner:"Viewing a shared dashboard",goToMyDashboard:"Go to my dashboard",shareDashboard:" Share Dashboard",shareSuccess:"Share link copied! Anyone with this link can view your dashboard.",shareError:"Save to cloud first to get a share link.",sharedLoadError:"Failed to load shared dashboard. It might be private or deleted.",saveSuccess:"Successfully saved to cloud!",saveError:"Failed to save to cloud.",importSuccess:"Successfully imported {{count}} transactions!",importNoValid:"No valid transactions found in the provided JSON.",importInvalidJson:"Invalid JSON format. Please check your input.",copied:"Copied!",errorLogTitle:"Data Discrepancies",errorLogDesc:"The following issues were found in the retrieved data:",itemIndex:"Item Index:",issues:"Issues:",rawData:"Raw Data:",close:"Close",items:"items",namePlaceholder:"e.g., Apple",typePlaceholder:"e.g., Food",deleteSuccess:"Transaction deleted successfully",search:"Search...",showResults:"Show results",noResults:"No results found",found:"found",project:"Project",budget:"Budget",allProjects:"All Projects",startDate:"Start Date",endDate:"End Date",clearFilters:"Clear Filters",filter:"Filter",addProject:"Add Project",enterProjectName:"Enter project name:",add:"Add",projectName:"Project Name",duplicateProject:"Project already exists",signInWithGoogle:"Sign in with Google",logout:"Logout"}},Cy=W.createContext(),vb=({children:a})=>{const[t,i]=W.useState(()=>localStorage.getItem("appLanguage")||"pl");W.useEffect(()=>{localStorage.setItem("appLanguage",t)},[t]);const l=(o,f={})=>{let h=yb[t][o]||o;return Object.keys(f).forEach(m=>{h=h.replace(`{{${m}}}`,f[m])}),h};return y.jsx(Cy.Provider,{value:{language:t,setLanguage:i,t:l},children:a})},nn=()=>{const a=W.useContext(Cy);if(!a)throw new Error("useLanguage must be used within a LanguageProvider");return a},Sb=({onSave:a,editingTransaction:t,onCancelEdit:i,existingTypes:l,existingProjects:o,defaultProject:f})=>{const{t:h}=nn(),[m,g]=W.useState({date:"",name:"",amount:"",type:"",project:""}),p=D=>{if(!D)return"";const I=new Date(D);if(isNaN(I.getTime()))return"";const H=String(I.getDate()).padStart(2,"0"),ne=String(I.getMonth()+1).padStart(2,"0"),j=String(I.getFullYear()).slice(-2);return`${H}.${ne}.${j}`},b=D=>{if(!D)return new Date().toISOString().split("T")[0];const I=D.split(".");if(I.length!==3)return"";const[H,ne,j]=I;return`20${j}-${ne}-${H}`};W.useEffect(()=>{g(t?{...t,date:b(t.date),project:t.project||"Budget"}:{date:new Date().toISOString().split("T")[0],name:"",amount:"",type:"",project:f||"Budget"})},[t,f]);const v=D=>{const{name:I,value:H}=D.target;g(ne=>({...ne,[I]:H}))},S=D=>{D.preventDefault();const I=parseFloat(m.amount);a({date:p(m.date),name:m.name,amount:isNaN(I)?0:parseFloat(I.toFixed(2)),type:m.type,project:m.project||"Budget"}),t||g({date:new Date().toISOString().split("T")[0],name:"",amount:"",type:"",project:f||"Budget"})};return y.jsxs("form",{onSubmit:S,className:"card animate-fade-in",children:[y.jsx("h2",{children:h(t?"editTransaction":"addTransaction")}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"project",children:h("project")}),y.jsx("input",{type:"text",id:"project",name:"project",value:m.project,onChange:v,placeholder:h("budget")||"Budget",list:"project-suggestions",required:!0}),y.jsx("datalist",{id:"project-suggestions",children:o&&o.map((D,I)=>y.jsx("option",{value:D},I))})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"date",children:h("date")}),y.jsx("input",{type:"date",id:"date",name:"date",value:m.date,onChange:v,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"name",children:h("name")}),y.jsx("input",{type:"text",id:"name",name:"name",value:m.name,onChange:v,placeholder:h("namePlaceholder")||"e.g., Apple",required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{htmlFor:"amount",children:[h("amount")," (z)"]}),y.jsx("input",{type:"number",id:"amount",name:"amount",value:m.amount,onChange:v,placeholder:"0.00",step:"0.01",required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"type",children:h("type")}),y.jsx("input",{type:"text",id:"type",name:"type",value:m.type,onChange:v,placeholder:h("typePlaceholder")||"e.g., Food",list:"type-suggestions",required:!0}),y.jsx("datalist",{id:"type-suggestions",children:l&&l.map((D,I)=>y.jsx("option",{value:D},I))})]}),y.jsxs("div",{className:"actions",style:{justifyContent:"flex-end",marginTop:"1rem"},children:[t&&y.jsx("button",{type:"button",className:"secondary",onClick:i,children:h("cancel")}),y.jsx("button",{type:"submit",children:h(t?"updateTransaction":"addTransaction")})]})]})},wy=({transactions:a,onEdit:t,onDelete:i,rates:l})=>{const{t:o}=nn(),[f,h]=W.useState(""),[m,g]=W.useState(!1),[p,b]=W.useState({key:"date",direction:"desc"}),[v,S]=W.useState(""),[D,I]=W.useState(""),[H,ne]=W.useState(""),j=10,$=W.useMemo(()=>{let Q=a;if((D||H)&&(Q=Q.filter(he=>{if(!he.date)return!1;const[Z,ie,q]=he.date.split(".").map(Number),ht=new Date(2e3+q,ie-1,Z).getTime();let nt=!0,Je=!0;if(D){const[O,U,K]=D.split("-").map(Number),Se=new Date(O,U-1,K).getTime();nt=ht>=Se}if(H){const[O,U,K]=H.split("-").map(Number),Se=new Date(O,U-1,K).getTime();Je=ht<=Se}return nt&&Je})),v){const he=v.toLowerCase();Q=Q.filter(Z=>Z.name&&Z.name.toLowerCase().includes(he)||Z.type&&Z.type.toLowerCase().includes(he))}return Q},[a,v,D,H]),ee=W.useMemo(()=>{const Q=[...$];return Q.sort((he,Z)=>{if(p.key==="amount"){const ie=parseFloat(he.amount)||0,q=parseFloat(Z.amount)||0;return p.direction==="asc"?ie-q:q-ie}if(p.key==="date"){const ie=nt=>{if(!nt)return 0;const[Je,O,U]=nt.split(".").map(Number);return new Date(2e3+U,O-1,Je).getTime()},q=ie(he.date),ht=ie(Z.date);return p.direction==="asc"?q-ht:ht-q}if(p.key==="type"||p.key==="name"){const ie=(he[p.key]||"").toLowerCase(),q=(Z[p.key]||"").toLowerCase();return ie<q?p.direction==="asc"?-1:1:ie>q?p.direction==="asc"?1:-1:0}return 0}),Q},[$,p]);if(a.length===0)return y.jsx("div",{className:"card animate-fade-in",style:{textAlign:"center",color:"#94a3b8"},children:y.jsx("p",{children:o("noTransactions")})});const Ne=$.reduce((Q,he)=>Q+(parseFloat(he.amount)||0),0),ze=Q=>{if(!f||!l||!l[f])return null;const he=l[f];return(Q*he).toFixed(2)},Ee=v||D||H,se=Ee||m?ee:ee.slice(0,j);return y.jsxs("div",{className:"card animate-fade-in",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",flexWrap:"wrap",gap:"1rem"},children:[y.jsxs("h2",{style:{margin:0},children:[o("transactions")," (",$.length,")"]}),y.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:[y.jsxs("div",{className:"filters-container",style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[y.jsx("input",{type:"text",placeholder:o("search")||"Search...",value:v,onChange:Q=>S(Q.target.value),style:{width:"120px",padding:"0.4em"}}),y.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.2rem"},children:y.jsx("input",{type:"date",value:D,onChange:Q=>I(Q.target.value),title:o("startDate"),style:{width:"auto",padding:"0.4em"}})}),y.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.2rem"},children:y.jsx("input",{type:"date",value:H,onChange:Q=>ne(Q.target.value),title:o("endDate"),style:{width:"auto",padding:"0.4em"}})}),(v||D||H)&&y.jsx("button",{className:"secondary small",onClick:()=>{S(""),I(""),ne("")},children:o("clearFilters")||"Clear"})]}),y.jsxs("select",{value:`${p.key}-${p.direction}`,onChange:Q=>{const[he,Z]=Q.target.value.split("-");b({key:he,direction:Z})},style:{width:"auto",padding:"0.4em"},children:[y.jsx("option",{value:"date-desc",children:o("dateNewest")}),y.jsx("option",{value:"date-asc",children:o("dateOldest")}),y.jsx("option",{value:"amount-desc",children:o("amountHigh")}),y.jsx("option",{value:"amount-asc",children:o("amountLow")}),y.jsx("option",{value:"type-asc",children:o("typeAZ")}),y.jsx("option",{value:"name-asc",children:o("nameAZ")})]}),l&&y.jsxs("select",{value:f,onChange:Q=>h(Q.target.value),style:{width:"auto",padding:"0.4em"},children:[y.jsx("option",{value:"",children:o("convertTo")}),y.jsx("option",{value:"EUR",children:"EUR ()"}),y.jsx("option",{value:"USD",children:"USD ($)"}),y.jsx("option",{value:"UAH",children:"UAH ()"}),y.jsx("option",{value:"BYN",children:"BYN (Br)"})]})]})]}),y.jsx("div",{className:"transaction-scroll-container",children:y.jsxs("ul",{className:"transaction-list",children:[se.map(Q=>{const he=ze(Q.amount);return y.jsxs("li",{className:"transaction-item",children:[y.jsxs("div",{className:"transaction-details",children:[y.jsx("div",{className:"transaction-name",children:Q.name}),y.jsxs("div",{className:"transaction-meta",children:[y.jsx("span",{className:"transaction-date",children:Q.date}),y.jsx("span",{className:"transaction-type",children:Q.type}),Q.project&&Q.project!=="Budget"&&y.jsxs("span",{className:"transaction-project",style:{marginLeft:"0.5rem",fontSize:"0.85em",opacity:.7},children:[" ",Q.project]})]})]}),y.jsxs("div",{style:{marginRight:"1rem",textAlign:"right"},children:[y.jsxs("div",{style:{fontWeight:"bold",color:"#3b82f6"},children:[Number(Q.amount).toFixed(2)," z"]}),he&&y.jsxs("div",{style:{fontSize:"0.85em",color:"#94a3b8"},children:[" ",he," ",f]})]}),y.jsxs("div",{className:"actions",children:[y.jsx("button",{className:"secondary",onClick:()=>t(Q),children:o("edit")}),y.jsx("button",{className:"danger",onClick:()=>i(Q.id),children:o("delete")})]})]},Q.id)}),se.length===0&&Ee&&y.jsx("li",{className:"transaction-item",style:{justifyContent:"center",color:"#94a3b8"},children:o("noResults")||"No results found"})]})}),!Ee&&a.length>j&&y.jsx("button",{className:"secondary",onClick:()=>g(!m),style:{width:"100%",marginTop:"1rem"},children:m?o("showLess"):`${o("showAll")} (${a.length})`}),y.jsxs("div",{style:{marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid var(--glass-border)",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"1.2em",fontWeight:"bold"},children:[y.jsx("span",{children:o("totalSum")}),y.jsxs("div",{style:{textAlign:"right"},children:[y.jsxs("div",{style:{color:"#3b82f6"},children:[Ne.toFixed(2)," z"]}),f&&l&&l[f]&&y.jsxs("div",{style:{fontSize:"0.8em",color:"#94a3b8"},children:[" ",(Ne*l[f]).toFixed(2)," ",f]})]})]})]})},Eb=({errors:a,onClose:t})=>{const{t:i}=nn();return!a||a.length===0?null:y.jsxs("div",{className:"modal-overlay",children:[y.jsxs("div",{className:"modal-content card animate-fade-in",style:{maxWidth:"600px",width:"90%",maxHeight:"80vh",overflowY:"auto"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[y.jsx("h2",{style:{margin:0,color:"#e74c3c"},children:i("errorLogTitle")}),y.jsx("button",{onClick:t,className:"secondary",style:{padding:"0.25rem 0.5rem"},children:"X"})]}),y.jsx("p",{children:i("errorLogDesc")}),y.jsx("ul",{style:{listStyle:"none",padding:0},children:a.map((l,o)=>y.jsx("li",{style:{marginBottom:"1rem",padding:"0.5rem",border:"1px solid var(--glass-border)",borderRadius:"4px",backgroundColor:"rgba(231, 76, 60, 0.1)"},children:l.message?y.jsx("strong",{children:l.message}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("strong",{children:i("itemIndex")})," ",l.index]}),y.jsxs("div",{children:[y.jsx("strong",{children:i("issues")})," ",l.messages.join(", ")]}),y.jsxs("div",{style:{fontSize:"0.85em",color:"#94a3b8",marginTop:"0.25rem"},children:[i("rawData")," ",JSON.stringify(l.item)]})]})},o))}),y.jsx("div",{style:{textAlign:"right",marginTop:"1rem"},children:y.jsx("button",{onClick:t,children:i("close")})})]}),y.jsx("style",{children:`
                .modal-overlay {
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background-color: rgba(0, 0, 0, 0.5);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 1000;
                }
                .modal-content {
                    background: white;
                    padding: 2rem;
                    border-radius: 8px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                }
            `})]})},Ay=({onImport:a})=>{const{t}=nn(),[i,l]=W.useState(!1),[o,f]=W.useState(""),h=()=>{a(o),l(!1),f("")};return i?y.jsxs("div",{className:"card animate-fade-in",style:{padding:"2rem"},children:[y.jsx("h3",{children:t("importJson")}),y.jsx("p",{children:t("pasteJson")}),y.jsx("textarea",{value:o,onChange:m=>f(m.target.value),placeholder:'[{"date": "14.01.26", "name": "Test", "amount": 10, "type": "Food"}]',style:{width:"100%",height:"200px",marginTop:"1rem",padding:"0.5rem",fontFamily:"monospace",borderRadius:"4px",border:"1px solid var(--border-color)",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"}}),y.jsxs("div",{className:"actions",style:{marginTop:"1rem",justifyContent:"flex-end"},children:[y.jsx("button",{className:"secondary",onClick:()=>l(!1),children:t("cancel")}),y.jsx("button",{className:"primary",onClick:h,children:t("saveImport")})]})]}):y.jsxs("div",{className:"card animate-fade-in",style:{textAlign:"center",padding:"2rem"},children:[y.jsx("h3",{children:t("noDataFound")}),y.jsx("p",{children:t("noDataDesc")}),y.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"1rem"},children:y.jsx("button",{onClick:()=>l(!0),className:"secondary",children:t("importJson")})})]})},bb=({message:a,type:t="success",onClose:i,duration:l=3e3})=>(W.useEffect(()=>{const o=setTimeout(()=>{i()},l);return()=>clearTimeout(o)},[i,l]),y.jsxs("div",{className:`notification ${t} animate-fade-in`,children:[y.jsxs("div",{className:"notification-content",children:[t==="success"?"":""," ",a]}),y.jsx("button",{className:"notification-close",onClick:i,children:""})]})),Tb=({isOpen:a,title:t,transactions:i,onClose:l,onEdit:o,onDelete:f})=>{const{t:h}=nn();return a?y.jsx("div",{className:"modal-backdrop",onClick:l,children:y.jsxs("div",{className:"modal-card",onClick:m=>m.stopPropagation(),style:{width:"90%",maxWidth:"800px",maxHeight:"85vh",display:"flex",flexDirection:"column",padding:"1.5rem"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[y.jsx("h2",{style:{margin:0},children:t}),y.jsx("button",{className:"secondary small",onClick:l,style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"white"},children:""})]}),y.jsx("div",{style:{flex:1,overflowY:"auto"},children:y.jsx(wy,{transactions:i,onEdit:m=>{o(m),l()},onDelete:m=>{f(m),l()},rates:null})})]})}):null},h_=["#8B5CF6","#EC4899","#F59E0B","#10B981","#3B82F6","#EF4444"],Cb=({sortedTypes:a,totalSpent:t,onSliceClick:i})=>{const{t:l}=nn();if(t===0)return y.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#94a3b8"},children:l("noDataAvailable")});const o=300,f=o/2,h=o/2-20;let m=0;const g=[];return a.forEach((p,b)=>{const v=p.value/t*100,S=p.value/t*360,D=m+S,I=f+h*Math.cos((m-90)*Math.PI/180),H=f+h*Math.sin((m-90)*Math.PI/180),ne=f+h*Math.cos((D-90)*Math.PI/180),j=f+h*Math.sin((D-90)*Math.PI/180),$=S>180?1:0,ee=S===360?[`M ${f} ${f-h}`,`A ${h} ${h} 0 1 1 ${f} ${f+h}`,`A ${h} ${h} 0 1 1 ${f} ${f-h}`,"Z"].join(" "):[`M ${f} ${f}`,`L ${I} ${H}`,`A ${h} ${h} 0 ${$} 1 ${ne} ${j}`,"Z"].join(" "),Ne=m+S/2,ze=h*.7,Ee=f+ze*Math.cos((Ne-90)*Math.PI/180),se=f+ze*Math.sin((Ne-90)*Math.PI/180);g.push({path:ee,color:h_[b%h_.length],labelX:Ee,labelY:se,percentage:v.toFixed(0),name:p.name,items:p.items}),m=D}),y.jsxs("div",{className:"pie-chart-container",children:[y.jsx("svg",{viewBox:`0 0 ${o} ${o}`,className:"pie-chart-svg",children:g.map((p,b)=>y.jsxs(Ty.Fragment,{children:[y.jsx("path",{d:p.path,fill:p.color,className:"pie-slice",onClick:()=>i(p.name,p.items),style:{cursor:"pointer"},children:y.jsxs("title",{children:[p.name,": ",p.percentage,"% - Click to view"]})}),parseFloat(p.percentage)>5&&y.jsxs("text",{x:p.labelX,y:p.labelY,textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"12",fontWeight:"bold",style:{transform:"rotate(90deg)",transformOrigin:`${p.labelX}px ${p.labelY}px`,pointerEvents:"none"},children:[p.percentage,"%"]})]},b))}),y.jsx("div",{className:"pie-legend",children:g.map((p,b)=>y.jsxs("div",{className:"legend-item",onClick:()=>i(p.name,p.items),style:{cursor:"pointer"},children:[y.jsx("div",{className:"stat-color-dot",style:{backgroundColor:p.color}}),y.jsxs("span",{children:[p.name," (",p.percentage,"%)"]})]},b))})]})},wb=({data:a})=>{const{t}=nn();if(!a||a.length===0)return y.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#94a3b8"},children:t("noDataAvailable")});const i=600,l=300,o=40,f=i-o*2,h=l-o*2,m=a[a.length-1].cumulative,g=Math.ceil(m/1e3)*1e3||1e3,p=a.map((S,D)=>{const I=o+D/(a.length-1||1)*f,H=l-o-S.cumulative/g*h;return{x:I,y:H,...S}}),b=p.map((S,D)=>`${D===0?"M":"L"} ${S.x} ${S.y}`).join(" "),v=`
      M ${o} ${l-o}
      L ${p[0].x} ${p[0].y}
      ${p.slice(1).map(S=>`L ${S.x} ${S.y}`).join(" ")}
      L ${p[p.length-1].x} ${l-o}
      Z
    `;return y.jsxs("svg",{viewBox:`0 0 ${i} ${l}`,style:{width:"100%",height:"auto"},children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[y.jsx("stop",{offset:"0%",style:{stopColor:"#8B5CF6",stopOpacity:.5}}),y.jsx("stop",{offset:"100%",style:{stopColor:"#8B5CF6",stopOpacity:0}})]})}),[0,.25,.5,.75,1].map((S,D)=>{const I=l-o-S*h;return y.jsxs(Ty.Fragment,{children:[y.jsx("line",{x1:o,y1:I,x2:i-o,y2:I,stroke:"rgba(255,255,255,0.1)"}),y.jsx("text",{x:o-5,y:I,textAnchor:"end",fill:"rgba(255,255,255,0.5)",fontSize:"10",dominantBaseline:"middle",children:(S*g).toFixed(0)})]},D)}),y.jsx("path",{d:v,fill:"url(#chartGradient)"}),y.jsx("path",{d:b,fill:"none",stroke:"#8B5CF6",strokeWidth:"3"}),p.map((S,D)=>y.jsx("circle",{cx:S.x,cy:S.y,r:"3",fill:"#8B5CF6",children:y.jsxs("title",{children:[S.date,": ",S.cumulative.toFixed(0)," PLN"]})},D)),p.filter((S,D)=>D%Math.ceil(p.length/5)===0||D===p.length-1).map((S,D)=>y.jsx("text",{x:S.x,y:l-o+20,textAnchor:"middle",fill:"rgba(255,255,255,0.5)",fontSize:"10",children:S.date.split(".").slice(0,2).join(".")},D))]})},d_=["#8B5CF6","#EC4899","#F59E0B","#10B981","#3B82F6","#EF4444"],Ab=({transactions:a,onEdit:t,onDelete:i,selectedProject:l,onImport:o})=>{const{t:f}=nn(),[h,m]=W.useState(""),[g,p]=W.useState(""),[b,v]=W.useState({isOpen:!1,title:"",transactions:[]}),S=l==="All",D=W.useMemo(()=>{if(!a)return[];let j=a;return(h||g)&&(j=j.filter($=>{if(!$.date)return!1;const[ee,Ne,ze]=$.date.split(".").map(Number),Ee=new Date(2e3+ze,Ne-1,ee).getTime();let se=!0,Q=!0;if(h){const[he,Z,ie]=h.split("-").map(Number),q=new Date(he,Z-1,ie).getTime();se=Ee>=q}if(g){const[he,Z,ie]=g.split("-").map(Number),q=new Date(he,Z-1,ie).getTime();Q=Ee<=q}return se&&Q})),j},[a,h,g]),I=W.useMemo(()=>{if(D.length===0)return{totalSpent:0,avgCheck:0,totalCount:0,sortedGroups:[],sortedDaily:[],topExpenses:[],cumulativeData:[]};const j=D.reduce((Z,ie)=>Z+ie.amount,0),$=D.length>0?j/D.length:0,ee={};D.forEach(Z=>{const ie=S?Z.project||f("budget"):Z.type;ee[ie]||(ee[ie]={total:0,count:0,items:[]}),ee[ie].total+=Z.amount,ee[ie].count+=1,ee[ie].items.push(Z)});const Ne=Object.entries(ee).map(([Z,ie])=>({name:Z,value:ie.total,count:ie.count,items:ie.items})).sort((Z,ie)=>ie.value-Z.value),ze={};D.forEach(Z=>{ze[Z.date]||(ze[Z.date]={total:0,items:[]}),ze[Z.date].total+=Z.amount,ze[Z.date].items.push(Z)});const Ee=Object.entries(ze).map(([Z,ie])=>({date:Z,total:ie.total,items:ie.items})).sort((Z,ie)=>{const[q,ht,nt]=Z.date.split("."),[Je,O,U]=ie.date.split(".");return new Date(`20${nt}-${ht}-${q}`)-new Date(`20${U}-${O}-${Je}`)}),se=[...D].sort((Z,ie)=>ie.amount-Z.amount).slice(0,15);let Q=0;const he=Ee.map(Z=>(Q+=Z.total,{date:Z.date,cumulative:Q}));return{totalSpent:j,avgCheck:$,totalCount:D.length,sortedGroups:Ne,sortedDaily:Ee,topExpenses:se,cumulativeData:he}},[D,S,f]),H=(j,$)=>{v({isOpen:!0,title:j,transactions:$})};if(!a||a.length===0)return y.jsx("div",{className:"dashboard-container animate-fade-in",children:y.jsx(Ay,{onImport:o})});const ne=(j,$)=>{const ee=j/$;return ee<.33?`rgba(59, 130, 246, ${.3+ee*.4})`:ee<.66?`rgba(139, 92, 246, ${.7+(ee-.33)*.2})`:`rgba(239, 68, 68, ${.9+(ee-.66)*.1})`};return y.jsxs("div",{className:"dashboard-container animate-fade-in",children:[y.jsxs("div",{className:"dashboard-filters",style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"2rem",flexWrap:"wrap"},children:[y.jsxs("h3",{children:[f("filter"),":"]}),y.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:y.jsx("input",{type:"date",value:h,onChange:j=>m(j.target.value),title:f("startDate")})}),y.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:y.jsx("input",{type:"date",value:g,onChange:j=>p(j.target.value),title:f("endDate")})}),(h||g)&&y.jsx("button",{className:"secondary small",onClick:()=>{m(""),p("")},children:f("clearFilters")})]}),y.jsxs("div",{className:"summary-stats",children:[y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-label",children:f("totalExpenses")}),y.jsxs("div",{className:"stat-value",children:[I.totalSpent.toFixed(0)," PLN"]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-label",children:f("averageDaily")}),y.jsxs("div",{className:"stat-value",children:[I.avgCheck.toFixed(0)," PLN"]})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-label",children:f("totalItems")}),y.jsx("div",{className:"stat-value",children:I.totalCount})]})]}),y.jsxs("div",{className:"dashboard-grid",children:[y.jsxs("div",{className:"card",children:[y.jsxs("h3",{children:[" ",f(S?"expensesByProject":"expensesByType")]}),y.jsx(Cb,{sortedTypes:I.sortedGroups,totalSpent:I.totalSpent,onSliceClick:(j,$)=>H(`${j}`,$)}),y.jsx("div",{className:"stats-list",children:I.sortedGroups.map((j,$)=>y.jsxs("div",{className:"stat-item",onClick:()=>H(j.name,j.items),style:{cursor:"pointer"},children:[y.jsxs("div",{className:"stat-name-group",children:[y.jsx("div",{className:"stat-color-dot",style:{backgroundColor:d_[$%d_.length]}}),y.jsx("span",{children:j.name})]}),y.jsxs("div",{className:"stat-amount-group",children:[y.jsxs("div",{className:"stat-item-amount",children:[j.value.toFixed(0)," PLN"]}),y.jsxs("div",{className:"stat-item-count",children:[j.count," ",f("items")||"items"]})]})]},$))})]}),y.jsxs("div",{className:"card",children:[y.jsxs("h3",{children:[" ",f("cumulativeGrowth")]}),y.jsx(wb,{data:I.cumulativeData}),y.jsxs("h3",{style:{marginTop:"2rem"},children:[" ",f("dailyHeatmap")]}),y.jsx("div",{className:"calendar-grid",children:I.sortedDaily.map((j,$)=>y.jsxs("div",{className:"calendar-day",style:{backgroundColor:ne(j.total,Math.max(...I.sortedDaily.map(ee=>ee.total))),cursor:"pointer"},onClick:()=>H(j.date,j.items),children:[y.jsx("div",{className:"calendar-date",children:j.date}),y.jsx("div",{className:"calendar-amount",children:j.total.toFixed(0)})]},$))}),y.jsxs("div",{className:"heatmap-legend",children:[y.jsx("span",{children:f("low")}),y.jsx("div",{className:"legend-gradient"}),y.jsx("span",{children:f("high")})]})]}),y.jsxs("div",{className:"card",style:{gridColumn:"1 / -1"},children:[y.jsxs("h3",{children:[" ",f("topExpenses")]}),y.jsx("div",{className:"top-expenses-list",children:I.topExpenses.map((j,$)=>y.jsxs("div",{className:"top-expense-item",children:[y.jsxs("div",{className:"top-expense-info",children:[y.jsxs("div",{className:"top-expense-name",children:[$+1,". ",j.name]}),y.jsxs("div",{className:"top-expense-meta",children:[j.date,"  ",S?(j.project||f("budget"))+"  ":"",j.type]})]}),y.jsxs("div",{className:"top-expense-amount",children:[j.amount," PLN"]})]},$))})]})]}),y.jsx(Tb,{isOpen:b.isOpen,title:b.title,transactions:b.transactions,onClose:()=>v(j=>({...j,isOpen:!1})),onEdit:t,onDelete:i})]})},Nb=({isOpen:a,title:t,message:i,onConfirm:l,onCancel:o,confirmText:f,cancelText:h})=>{const{t:m}=nn();return a?y.jsx("div",{className:"modal-backdrop",onClick:o,children:y.jsxs("div",{className:"modal-card",onClick:g=>g.stopPropagation(),children:[y.jsx("h2",{children:t}),y.jsx("p",{children:i}),y.jsxs("div",{className:"modal-actions",children:[y.jsx("button",{className:"secondary",onClick:o,children:h||m("cancel")}),y.jsx("button",{className:"danger",onClick:l,children:f||m("confirm")})]})]})}):null},Rb=({isOpen:a,title:t,message:i,onConfirm:l,onCancel:o,confirmText:f,cancelText:h,initialValue:m="",placeholder:g=""})=>{const{t:p}=nn(),[b,v]=W.useState(m),S=W.useRef(null);if(W.useEffect(()=>{a&&(v(m),setTimeout(()=>{S.current?.focus()},50))},[a,m]),!a)return null;const D=()=>{l(b)},I=H=>{H.key==="Enter"?D():H.key==="Escape"&&o()};return y.jsx("div",{className:"modal-backdrop",onClick:o,children:y.jsxs("div",{className:"modal-card",onClick:H=>H.stopPropagation(),children:[y.jsx("h2",{children:t}),i&&y.jsx("p",{children:i}),y.jsx("input",{ref:S,type:"text",value:b,onChange:H=>v(H.target.value),placeholder:g,onKeyDown:I,style:{width:"100%",padding:"0.8rem",fontSize:"1rem",marginBottom:"1.5rem",marginTop:"1rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",backgroundColor:"rgba(255,255,255,0.05)",color:"white",outline:"none"}}),y.jsxs("div",{className:"modal-actions",children:[y.jsx("button",{className:"secondary",onClick:o,children:h||p("cancel")}),y.jsx("button",{className:"primary",onClick:D,disabled:!b.trim(),children:f||p("confirm")})]})]})})},Db=()=>{};var m_={};const Ny={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const B=function(a,t){if(!a)throw ha(t)},ha=function(a){return new Error("Firebase Database ("+Ny.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const Ry=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++l)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ob=function(a){const t=[];let i=0,l=0;for(;i<a.length;){const o=a[i++];if(o<128)t[l++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[i++];t[l++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[i++],h=a[i++],m=a[i++],g=((o&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;t[l++]=String.fromCharCode(55296+(g>>10)),t[l++]=String.fromCharCode(56320+(g&1023))}else{const f=a[i++],h=a[i++];t[l++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return t.join("")},hh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<a.length;o+=3){const f=a[o],h=o+1<a.length,m=h?a[o+1]:0,g=o+2<a.length,p=g?a[o+2]:0,b=f>>2,v=(f&3)<<4|m>>4;let S=(m&15)<<2|p>>6,D=p&63;g||(D=64,h||(S=64)),l.push(i[b],i[v],i[S],i[D])}return l.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Ry(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):Ob(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<a.length;){const f=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const p=o<a.length?i[a.charAt(o)]:64;++o;const v=o<a.length?i[a.charAt(o)]:64;if(++o,f==null||m==null||p==null||v==null)throw new xb;const S=f<<2|m>>4;if(l.push(S),p!==64){const D=m<<4&240|p>>2;if(l.push(D),v!==64){const I=p<<6&192|v;l.push(I)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class xb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dy=function(a){const t=Ry(a);return hh.encodeByteArray(t,!0)},Ao=function(a){return Dy(a).replace(/\./g,"")},No=function(a){try{return hh.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Mb(a){return Oy(void 0,a)}function Oy(a,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!Ib(i)||(a[i]=Oy(a[i],t[i]));return a}function Ib(a){return a!=="__proto__"}function kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lb=()=>kb().__FIREBASE_DEFAULTS__,zb=()=>{if(typeof process>"u"||typeof m_>"u")return;const a=m_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},jb=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&No(a[1]);return t&&JSON.parse(t)},dh=()=>{try{return Db()||Lb()||zb()||jb()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},xy=a=>dh()?.emulatorHosts?.[a],Ub=a=>{const t=xy(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),l]:[t.substring(0,i),l]},My=()=>dh()?.config,Iy=a=>dh()?.[`_${a}`];class Ko{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,l))}}}function da(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ky(a){return(await fetch(a,{credentials:"include"})).ok}function Bb(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=t||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Ao(JSON.stringify(i)),Ao(JSON.stringify(h)),""].join(".")}const Cl={};function Hb(){const a={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?a.emulator.push(t):a.prod.push(t);return a}function Pb(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let p_=!1;function Ly(a,t){if(typeof window>"u"||typeof document>"u"||!da(window.location.host)||Cl[a]===t||Cl[a]||p_)return;Cl[a]=t;function i(S){return`__firebase__banner__${S}`}const l="__firebase__banner",f=Hb().prod.length>0;function h(){const S=document.getElementById(l);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{p_=!0,h()},S}function b(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function v(){const S=Pb(l),D=i("text"),I=document.getElementById(D)||document.createElement("span"),H=i("learnmore"),ne=document.getElementById(H)||document.createElement("a"),j=i("preprendIcon"),$=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ee=S.element;m(ee),b(ne,H);const Ne=p();g($,j),ee.append($,I,ne,Ne),document.body.appendChild(ee)}f?(I.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function qb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gb(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function zy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vb(){const a=bt();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function Yb(){return Ny.NODE_ADMIN===!0}function Fb(){try{return typeof indexedDB=="object"}catch{return!1}}function Qb(){return new Promise((a,t)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Kb="FirebaseError";class ki extends Error{constructor(t,i,l){super(i),this.code=t,this.customData=l,this.name=Kb,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,i,l){this.service=t,this.serviceName=i,this.errors=l}create(t,...i){const l=i[0]||{},o=`${this.service}/${t}`,f=this.errors[t],h=f?Xb(f,l):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ki(o,m,l)}}function Xb(a,t){return a.replace(Zb,(i,l)=>{const o=t[l];return o!=null?String(o):`<${l}?>`})}const Zb=/\{\$([^}]+)}/g;function xl(a){return JSON.parse(a)}function st(a){return JSON.stringify(a)}const jy=function(a){let t={},i={},l={},o="";try{const f=a.split(".");t=xl(No(f[0])||""),i=xl(No(f[1])||""),o=f[2],l=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:l,signature:o}},Jb=function(a){const t=jy(a),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},Wb=function(a){const t=jy(a).claims;return typeof t=="object"&&t.admin===!0};function Qn(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function ra(a,t){if(Object.prototype.hasOwnProperty.call(a,t))return a[t]}function Yf(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Ro(a,t,i){const l={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=t.call(i,a[o],o,a));return l}function os(a,t){if(a===t)return!0;const i=Object.keys(a),l=Object.keys(t);for(const o of i){if(!l.includes(o))return!1;const f=a[o],h=t[o];if(g_(f)&&g_(h)){if(!os(f,h))return!1}else if(f!==h)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function g_(a){return a!==null&&typeof a=="object"}function ma(a){const t=[];for(const[i,l]of Object.entries(a))Array.isArray(l)?l.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}class $b{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const l=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)l[v]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)l[v]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let v=16;v<80;v++){const S=l[v-3]^l[v-8]^l[v-14]^l[v-16];l[v]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],p,b;for(let v=0;v<80;v++){v<40?v<20?(p=m^f&(h^m),b=1518500249):(p=f^h^m,b=1859775393):v<60?(p=f&h|m&(f|h),b=2400959708):(p=f^h^m,b=3395469782);const S=(o<<5|o>>>27)+p+g+b+l[v]&4294967295;g=m,m=h,h=(f<<30|f>>>2)&4294967295,f=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const l=i-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=l;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(f[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<i;)if(f[h]=t[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)t[l]=this.chain_[o]>>f&255,++l;return t}}function eT(a,t){const i=new tT(a,t);return i.subscribe.bind(i)}class tT{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,l){let o;if(t===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");nT(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:l},o.next===void 0&&(o.next=Rf),o.error===void 0&&(o.error=Rf),o.complete===void 0&&(o.complete=Rf);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),f}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nT(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Rf(){}function ph(a,t){return`${a} failed: ${t} argument `}const iT=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);if(o>=55296&&o<=56319){const f=o-55296;l++,B(l<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(l)-56320;o=65536+(f<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Xo=function(a){let t=0;for(let i=0;i<a.length;i++){const l=a.charCodeAt(i);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,i++):t+=3}return t};function kt(a){return a&&a._delegate?a._delegate:a}class cs{constructor(t,i,l){this.name=t,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const is="[DEFAULT]";class sT{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const l=new Ko;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),l=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lT(t))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});l.resolve(f)}catch{}}}}clearInstance(t=is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=is){return this.instances.has(t)}getOptions(t=is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);l===m&&h.resolve(o)}return o}onInit(t,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(t),this.onInitCallbacks.set(l,o);const f=this.instances.get(l);return f&&t(f,l),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:aT(t),options:i}),this.instances.set(t,l),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=is){return this.component?this.component.multipleInstances?t:is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aT(a){return a===is?void 0:a}function lT(a){return a.instantiationMode==="EAGER"}class rT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new sT(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Le;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Le||(Le={}));const oT={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},cT=Le.INFO,uT={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},fT=(a,t,...i)=>{if(t<a.logLevel)return;const l=new Date().toISOString(),o=uT[t];if(o)console[o](`[${l}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gh{constructor(t){this.name=t,this._logLevel=cT,this._logHandler=fT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Le))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?oT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...t),this._logHandler(this,Le.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...t),this._logHandler(this,Le.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...t),this._logHandler(this,Le.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...t),this._logHandler(this,Le.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...t),this._logHandler(this,Le.ERROR,...t)}}const hT=(a,t)=>t.some(i=>a instanceof i);let __,y_;function dT(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mT(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uy=new WeakMap,Ff=new WeakMap,By=new WeakMap,Df=new WeakMap,_h=new WeakMap;function pT(a){const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",h)},f=()=>{i(Ci(a.result)),o()},h=()=>{l(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&Uy.set(i,a)}).catch(()=>{}),_h.set(t,a),t}function gT(a){if(Ff.has(a))return;const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",h),a.removeEventListener("abort",h)},f=()=>{i(),o()},h=()=>{l(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",h),a.addEventListener("abort",h)});Ff.set(a,t)}let Qf={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Ff.get(a);if(t==="objectStoreNames")return a.objectStoreNames||By.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ci(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function _T(a){Qf=a(Qf)}function yT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const l=a.call(Of(this),t,...i);return By.set(l,t.sort?t.sort():[t]),Ci(l)}:mT().includes(a)?function(...t){return a.apply(Of(this),t),Ci(Uy.get(this))}:function(...t){return Ci(a.apply(Of(this),t))}}function vT(a){return typeof a=="function"?yT(a):(a instanceof IDBTransaction&&gT(a),hT(a,dT())?new Proxy(a,Qf):a)}function Ci(a){if(a instanceof IDBRequest)return pT(a);if(Df.has(a))return Df.get(a);const t=vT(a);return t!==a&&(Df.set(a,t),_h.set(t,a)),t}const Of=a=>_h.get(a);function ST(a,t,{blocked:i,upgrade:l,blocking:o,terminated:f}={}){const h=indexedDB.open(a,t),m=Ci(h);return l&&h.addEventListener("upgradeneeded",g=>{l(Ci(h.result),g.oldVersion,g.newVersion,Ci(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{f&&g.addEventListener("close",()=>f()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const ET=["get","getKey","getAll","getAllKeys","count"],bT=["put","add","delete","clear"],xf=new Map;function v_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(xf.get(t))return xf.get(t);const i=t.replace(/FromIndex$/,""),l=t!==i,o=bT.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||ET.includes(i)))return;const f=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return l&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),o&&g.done]))[0]};return xf.set(t,f),f}_T(a=>({...a,get:(t,i,l)=>v_(t,i)||a.get(t,i,l),has:(t,i)=>!!v_(t,i)||a.has(t,i)}));class TT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CT(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function CT(a){return a.getComponent()?.type==="VERSION"}const Kf="@firebase/app",S_="0.14.6";const Vn=new gh("@firebase/app"),wT="@firebase/app-compat",AT="@firebase/analytics-compat",NT="@firebase/analytics",RT="@firebase/app-check-compat",DT="@firebase/app-check",OT="@firebase/auth",xT="@firebase/auth-compat",MT="@firebase/database",IT="@firebase/data-connect",kT="@firebase/database-compat",LT="@firebase/functions",zT="@firebase/functions-compat",jT="@firebase/installations",UT="@firebase/installations-compat",BT="@firebase/messaging",HT="@firebase/messaging-compat",PT="@firebase/performance",qT="@firebase/performance-compat",GT="@firebase/remote-config",VT="@firebase/remote-config-compat",YT="@firebase/storage",FT="@firebase/storage-compat",QT="@firebase/firestore",KT="@firebase/ai",XT="@firebase/firestore-compat",ZT="firebase",JT="12.6.0";const Xf="[DEFAULT]",WT={[Kf]:"fire-core",[wT]:"fire-core-compat",[NT]:"fire-analytics",[AT]:"fire-analytics-compat",[DT]:"fire-app-check",[RT]:"fire-app-check-compat",[OT]:"fire-auth",[xT]:"fire-auth-compat",[MT]:"fire-rtdb",[IT]:"fire-data-connect",[kT]:"fire-rtdb-compat",[LT]:"fire-fn",[zT]:"fire-fn-compat",[jT]:"fire-iid",[UT]:"fire-iid-compat",[BT]:"fire-fcm",[HT]:"fire-fcm-compat",[PT]:"fire-perf",[qT]:"fire-perf-compat",[GT]:"fire-rc",[VT]:"fire-rc-compat",[YT]:"fire-gcs",[FT]:"fire-gcs-compat",[QT]:"fire-fst",[XT]:"fire-fst-compat",[KT]:"fire-vertex","fire-js":"fire-js",[ZT]:"fire-js-all"};const Do=new Map,$T=new Map,Zf=new Map;function E_(a,t){try{a.container.addComponent(t)}catch(i){Vn.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function oa(a){const t=a.name;if(Zf.has(t))return Vn.debug(`There were multiple attempts to register component ${t}.`),!1;Zf.set(t,a);for(const i of Do.values())E_(i,a);for(const i of $T.values())E_(i,a);return!0}function yh(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function tn(a){return a==null?!1:a.settings!==void 0}const e1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new ql("app","Firebase",e1);class t1{constructor(t,i,l){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}const pa=JT;function Hy(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const l={name:Xf,automaticDataCollectionEnabled:!0,...t},o=l.name;if(typeof o!="string"||!o)throw wi.create("bad-app-name",{appName:String(o)});if(i||(i=My()),!i)throw wi.create("no-options");const f=Do.get(o);if(f){if(os(i,f.options)&&os(l,f.config))return f;throw wi.create("duplicate-app",{appName:o})}const h=new rT(o);for(const g of Zf.values())h.addComponent(g);const m=new t1(i,l,h);return Do.set(o,m),m}function Py(a=Xf){const t=Do.get(a);if(!t&&a===Xf&&My())return Hy();if(!t)throw wi.create("no-app",{appName:a});return t}function Ai(a,t,i){let l=WT[a]??a;i&&(l+=`-${i}`);const o=l.match(/\s|\//),f=t.match(/\s|\//);if(o||f){const h=[`Unable to register library "${l}" with version "${t}":`];o&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&f&&h.push("and"),f&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vn.warn(h.join(" "));return}oa(new cs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}const n1="firebase-heartbeat-database",i1=1,Ml="firebase-heartbeat-store";let Mf=null;function qy(){return Mf||(Mf=ST(n1,i1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(a=>{throw wi.create("idb-open",{originalErrorMessage:a.message})})),Mf}async function s1(a){try{const i=(await qy()).transaction(Ml),l=await i.objectStore(Ml).get(Gy(a));return await i.done,l}catch(t){if(t instanceof ki)Vn.warn(t.message);else{const i=wi.create("idb-get",{originalErrorMessage:t?.message});Vn.warn(i.message)}}}async function b_(a,t){try{const l=(await qy()).transaction(Ml,"readwrite");await l.objectStore(Ml).put(t,Gy(a)),await l.done}catch(i){if(i instanceof ki)Vn.warn(i.message);else{const l=wi.create("idb-set",{originalErrorMessage:i?.message});Vn.warn(l.message)}}}function Gy(a){return`${a.name}!${a.options.appId}`}const a1=1024,l1=30;class r1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new c1(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=T_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>l1){const o=u1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Vn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=T_(),{heartbeatsToSend:i,unsentEntries:l}=o1(this._heartbeatsCache.heartbeats),o=Ao(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Vn.warn(t),""}}}function T_(){return new Date().toISOString().substring(0,10)}function o1(a,t=a1){const i=[];let l=a.slice();for(const o of a){const f=i.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),C_(i)>t){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),C_(i)>t){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class c1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fb()?Qb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await s1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return b_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return b_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function C_(a){return Ao(JSON.stringify({version:2,heartbeats:a})).length}function u1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let l=1;l<a.length;l++)a[l].date<i&&(i=a[l].date,t=l);return t}function f1(a){oa(new cs("platform-logger",t=>new TT(t),"PRIVATE")),oa(new cs("heartbeat",t=>new r1(t),"PRIVATE")),Ai(Kf,S_,a),Ai(Kf,S_,"esm2020"),Ai("fire-js","")}f1("");var h1="firebase",d1="12.7.0";Ai(h1,d1,"app");var w_={};const A_="@firebase/database",N_="1.1.0";let Vy="";function m1(a){Vy=a}class p1{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),st(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:xl(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class g1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Qn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Yy=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const t=window[a];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new p1(t)}}catch{}return new g1},as=Yy("localStorage"),_1=Yy("sessionStorage");const na=new gh("@firebase/database"),y1=(function(){let a=1;return function(){return a++}})(),Fy=function(a){const t=iT(a),i=new $b;i.update(t);const l=i.digest();return hh.encodeByteArray(l)},Gl=function(...a){let t="";for(let i=0;i<a.length;i++){const l=a[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=Gl.apply(null,l):typeof l=="object"?t+=st(l):t+=l,t+=" "}return t};let wl=null,R_=!0;const v1=function(a,t){B(!0,"Can't turn on custom loggers persistently."),na.logLevel=Le.VERBOSE,wl=na.log.bind(na)},vt=function(...a){if(R_===!0&&(R_=!1,wl===null&&_1.get("logging_enabled")===!0&&v1()),wl){const t=Gl.apply(null,a);wl(t)}},Vl=function(a){return function(...t){vt(a,...t)}},Jf=function(...a){const t="FIREBASE INTERNAL ERROR: "+Gl(...a);na.error(t)},Yn=function(...a){const t=`FIREBASE FATAL ERROR: ${Gl(...a)}`;throw na.error(t),new Error(t)},Mt=function(...a){const t="FIREBASE WARNING: "+Gl(...a);na.warn(t)},S1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Qy=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},E1=function(a){if(document.readyState==="complete")a();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ca="[MIN_NAME]",us="[MAX_NAME]",ga=function(a,t){if(a===t)return 0;if(a===ca||t===us)return-1;if(t===ca||a===us)return 1;{const i=D_(a),l=D_(t);return i!==null?l!==null?i-l===0?a.length-t.length:i-l:-1:l!==null?1:a<t?-1:1}},b1=function(a,t){return a===t?0:a<t?-1:1},vl=function(a,t){if(t&&a in t)return t[a];throw new Error("Missing required key ("+a+") in object: "+st(t))},vh=function(a){if(typeof a!="object"||a===null)return st(a);const t=[];for(const l in a)t.push(l);t.sort();let i="{";for(let l=0;l<t.length;l++)l!==0&&(i+=","),i+=st(t[l]),i+=":",i+=vh(a[t[l]]);return i+="}",i},Ky=function(a,t){const i=a.length;if(i<=t)return[a];const l=[];for(let o=0;o<i;o+=t)o+t>i?l.push(a.substring(o,i)):l.push(a.substring(o,o+t));return l};function It(a,t){for(const i in a)a.hasOwnProperty(i)&&t(i,a[i])}const Xy=function(a){B(!Qy(a),"Invalid JSON number");const t=11,i=52,l=(1<<t-1)-1;let o,f,h,m,g;a===0?(f=0,h=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),l),f=m+l,h=Math.round(a*Math.pow(2,i-m)-Math.pow(2,i))):(f=0,h=Math.round(a/Math.pow(2,1-l-i))));const p=[];for(g=i;g;g-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(g=t;g;g-=1)p.push(f%2?1:0),f=Math.floor(f/2);p.push(o?1:0),p.reverse();const b=p.join("");let v="";for(g=0;g<64;g+=8){let S=parseInt(b.substr(g,8),2).toString(16);S.length===1&&(S="0"+S),v=v+S}return v.toLowerCase()},T1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},C1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function w1(a,t){let i="Unknown Error";a==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?i="Client doesn't have permission to access the desired data.":a==="unavailable"&&(i="The service is unavailable");const l=new Error(a+" at "+t._path.toString()+": "+i);return l.code=a.toUpperCase(),l}const A1=new RegExp("^-?(0*)\\d{1,10}$"),N1=-2147483648,R1=2147483647,D_=function(a){if(A1.test(a)){const t=Number(a);if(t>=N1&&t<=R1)return t}return null},_a=function(a){try{a()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Mt("Exception was thrown by user callback.",i),t},Math.floor(0))}},D1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Al=function(a,t){const i=setTimeout(a,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class O1{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,tn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Mt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class x1{constructor(t,i,l){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mt(t)}}class Eo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Eo.OWNER="owner";const Sh="5",Zy="v",Jy="s",Wy="r",$y="f",ev=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tv="ls",nv="p",Wf="ac",iv="websocket",sv="long_polling";class av{constructor(t,i,l,o,f=!1,h="",m=!1,g=!1,p=null){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=as.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&as.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function M1(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function lv(a,t,i){B(typeof t=="string","typeof type must == string"),B(typeof i=="object","typeof params must == object");let l;if(t===iv)l=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(t===sv)l=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);M1(a)&&(i.ns=a.namespace);const o=[];return It(i,(f,h)=>{o.push(f+"="+h)}),l+o.join("&")}class I1{constructor(){this.counters_={}}incrementCounter(t,i=1){Qn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return Mb(this.counters_)}}const If={},kf={};function Eh(a){const t=a.toString();return If[t]||(If[t]=new I1),If[t]}function k1(a,t){const i=a.toString();return kf[i]||(kf[i]=t()),kf[i]}class L1{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&_a(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const O_="start",z1="close",j1="pLPCommand",U1="pRTLPCB",rv="id",ov="pw",cv="ser",B1="cb",H1="seg",P1="ts",q1="d",G1="dframe",uv=1870,fv=30,V1=uv-fv,Y1=25e3,F1=3e4;class ta{constructor(t,i,l,o,f,h,m){this.connId=t,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vl(t),this.stats_=Eh(i),this.urlFn=g=>(this.appCheckToken&&(g[Wf]=this.appCheckToken),lv(i,sv,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new L1(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(F1)),E1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bh((...f)=>{const[h,m,g,p,b]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===O_)this.id=m,this.password=g;else if(h===z1)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[O_]="t",l[cv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[B1]=this.scriptTagHolder.uniqueCallbackIdentifier),l[Zy]=Sh,this.transportSessionId&&(l[Jy]=this.transportSessionId),this.lastSessionId&&(l[tv]=this.lastSessionId),this.applicationId&&(l[nv]=this.applicationId),this.appCheckToken&&(l[Wf]=this.appCheckToken),typeof location<"u"&&location.hostname&&ev.test(location.hostname)&&(l[Wy]=$y);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ta.forceAllow_=!0}static forceDisallow(){ta.forceDisallow_=!0}static isAvailable(){return ta.forceAllow_?!0:!ta.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!T1()&&!C1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=st(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=Dy(i),o=Ky(l,V1);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[G1]="t",l[rv]=t,l[ov]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=st(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class bh{constructor(t,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=y1(),window[j1+this.uniqueCallbackIdentifier]=t,window[U1+this.uniqueCallbackIdentifier]=i,this.myIFrame=bh.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){vt("frame writing exception"),m.stack&&vt(m.stack),vt(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||vt("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[rv]=this.myID,t[ov]=this.myPW,t[cv]=this.currentSerial;let i=this.urlFn(t),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fv+l.length<=uv;){const h=this.pendingSegs.shift();l=l+"&"+H1+o+"="+h.seg+"&"+P1+o+"="+h.ts+"&"+q1+o+"="+h.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,l){this.pendingSegs.push({seg:t,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(Y1)),f=()=>{clearTimeout(o),l()};this.addTag(t,f)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{vt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}const Q1=16384,K1=45e3;let Oo=null;typeof MozWebSocket<"u"?Oo=MozWebSocket:typeof WebSocket<"u"&&(Oo=WebSocket);class rn{constructor(t,i,l,o,f,h,m){this.connId=t,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vl(this.connId),this.stats_=Eh(i),this.connURL=rn.connectionURL_(i,h,m,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,l,o,f){const h={};return h[Zy]=Sh,typeof location<"u"&&location.hostname&&ev.test(location.hostname)&&(h[Wy]=$y),i&&(h[Jy]=i),l&&(h[tv]=l),o&&(h[Wf]=o),f&&(h[nv]=f),lv(t,iv,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,as.set("previous_websocket_failure",!0);try{let l;Yb(),this.mySock=new Oo(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){rn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&Oo!==null&&!rn.forceDisallow_}static previouslyFailed(){return as.isInMemoryStorage||as.get("previous_websocket_failure")===!0}markConnectionHealthy(){as.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=xl(i);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(B(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const i=st(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=Ky(i,Q1);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(K1))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}rn.responsesRequiredToBeHealthy=2;rn.healthyTimeout=3e4;class Il{static get ALL_TRANSPORTS(){return[ta,rn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=rn&&rn.isAvailable();let l=i&&!rn.previouslyFailed();if(t.webSocketOnly&&(i||Mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[rn];else{const o=this.transports_=[];for(const f of Il.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Il.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Il.globalTransportInitialized_=!1;const X1=6e4,Z1=5e3,J1=10*1024,W1=100*1024,Lf="t",x_="d",$1="s",M_="r",eC="e",I_="o",k_="a",L_="n",z_="p",tC="h";class nC{constructor(t,i,l,o,f,h,m,g,p,b){this.id=t,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vl("c:"+this.id+":"),this.transportManager_=new Il(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Al(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>W1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>J1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Lf in t){const i=t[Lf];i===k_?this.upgradeIfSecondaryHealthy_():i===M_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===I_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=vl("t",t),l=vl("d",t);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:z_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:k_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:L_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=vl("t",t),l=vl("d",t);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=vl(Lf,t);if(x_ in t){const l=t[x_];if(i===tC){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===L_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===$1?this.onConnectionShutdown_(l):i===M_?this.onReset_(l):i===eC?Jf("Server Error: "+l):i===I_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jf("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,l=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Sh!==l&&Mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),Al(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(X1))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Al(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Z1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:z_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(as.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class hv{put(t,i,l,o){}merge(t,i,l,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,l){}onDisconnectMerge(t,i,l){}onDisconnectCancel(t,i){}reportStats(t){}}class dv{constructor(t){this.allowedEvents_=t,this.listeners_={},B(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(t,i,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:l});const o=this.getInitialEvent(t);o&&i.apply(l,o)}off(t,i,l){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let f=0;f<o.length;f++)if(o[f].callback===i&&(!l||l===o[f].context)){o.splice(f,1);return}}validateEventType_(t){B(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class xo extends dv{static getInstance(){return new xo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return B(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const j_=32,U_=768;class Ue{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function Ae(){return new Ue("")}function ye(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function Oi(a){return a.pieces_.length-a.pieceNum_}function Be(a){let t=a.pieceNum_;return t<a.pieces_.length&&t++,new Ue(a.pieces_,t)}function mv(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function iC(a){let t="";for(let i=a.pieceNum_;i<a.pieces_.length;i++)a.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(a.pieces_[i])));return t||"/"}function pv(a,t=0){return a.pieces_.slice(a.pieceNum_+t)}function gv(a){if(a.pieceNum_>=a.pieces_.length)return null;const t=[];for(let i=a.pieceNum_;i<a.pieces_.length-1;i++)t.push(a.pieces_[i]);return new Ue(t,0)}function at(a,t){const i=[];for(let l=a.pieceNum_;l<a.pieces_.length;l++)i.push(a.pieces_[l]);if(t instanceof Ue)for(let l=t.pieceNum_;l<t.pieces_.length;l++)i.push(t.pieces_[l]);else{const l=t.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new Ue(i,0)}function pe(a){return a.pieceNum_>=a.pieces_.length}function Et(a,t){const i=ye(a),l=ye(t);if(i===null)return t;if(i===l)return Et(Be(a),Be(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+a+")")}function _v(a,t){if(Oi(a)!==Oi(t))return!1;for(let i=a.pieceNum_,l=t.pieceNum_;i<=a.pieces_.length;i++,l++)if(a.pieces_[i]!==t.pieces_[l])return!1;return!0}function on(a,t){let i=a.pieceNum_,l=t.pieceNum_;if(Oi(a)>Oi(t))return!1;for(;i<a.pieces_.length;){if(a.pieces_[i]!==t.pieces_[l])return!1;++i,++l}return!0}class sC{constructor(t,i){this.errorPrefix_=i,this.parts_=pv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Xo(this.parts_[l]);yv(this)}}function aC(a,t){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(t),a.byteLength_+=Xo(t),yv(a)}function lC(a){const t=a.parts_.pop();a.byteLength_-=Xo(t),a.parts_.length>0&&(a.byteLength_-=1)}function yv(a){if(a.byteLength_>U_)throw new Error(a.errorPrefix_+"has a key path longer than "+U_+" bytes ("+a.byteLength_+").");if(a.parts_.length>j_)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+j_+") or object contains a cycle "+ss(a))}function ss(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class Th extends dv{static getInstance(){return new Th}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return B(t==="visible","Unknown event type: "+t),[this.visible_]}}const Sl=1e3,rC=300*1e3,B_=30*1e3,oC=1.3,cC=3e4,uC="server_kill",H_=3;class Gn extends hv{constructor(t,i,l,o,f,h,m,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=Gn.nextPersistentConnectionId_++,this.log_=Vl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sl,this.maxReconnectDelay_=rC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Th.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&xo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,l){const o=++this.requestNumber_,f={r:o,a:t,b:i};this.log_(st(f)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),l&&(this.requestCBHash_[o]=l)}get(t){this.initConnection_();const i=new Ko,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),i.promise}listen(t,i,l,o){this.initConnection_();const f=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),B(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:l};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(t){const i=t.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const f={p:l},h="q";t.tag&&(f.q=i._queryObject,f.t=t.tag),f.h=t.hashFn(),this.sendRequest(h,f,m=>{const g=m.d,p=m.s;Gn.warnOnListenWarnings_(g,i),(this.listens.get(l)&&this.listens.get(l).get(o))===t&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(l,o),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Qn(t,"w")){const l=ra(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();Mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Wb(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=B_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=Jb(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const f=o.s,h=o.d||"error";this.authToken_===t&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,l=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(t,i){const l=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),B(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,t._queryObject,i)}sendUnlisten_(t,i,l,o){this.log_("Unlisten on "+t+" for "+i);const f={p:t},h="n";o&&(f.q=l,f.t=o),this.sendRequest(h,f)}onDisconnectPut(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:l})}onDisconnectMerge(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:l})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,l,o){const f={p:i,d:l};this.log_("onDisconnect "+t,f),this.sendRequest(t,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,l,o){this.putInternal("p",t,i,l,o)}merge(t,i,l,o){this.putInternal("m",t,i,l,o)}putInternal(t,i,l,o,f){this.initConnection_();const h={p:i,d:l};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,l,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const f=l.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+st(t));const i=t.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Jf("Unrecognized action received from server: "+st(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Sl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>cC&&(this.reconnectDelay_=Sl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*oC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Gn.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,l())},p=function(v){B(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(v)};this.realtime_={close:g,sendRequest:p};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,S]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);h?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=S&&S.token,m=new nC(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,l,D=>{Mt(D+" ("+this.repoInfo_.toString()+")"),this.interrupt(uC)},f))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&Mt(v),g())}}}interrupt(t){vt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){vt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Yf(this.interruptReasons_)&&(this.reconnectDelay_=Sl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let l;i?l=i.map(f=>vh(f)).join("$"):l="default";const o=this.removeListen_(t,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const l=new Ue(t).toString();let o;if(this.listens.has(l)){const f=this.listens.get(l);o=f.get(i),f.delete(i),f.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(t,i){vt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=H_&&(this.reconnectDelay_=B_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){vt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=H_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Vy.replace(/\./g,"-")]=1,mh()?t["framework.cordova"]=1:zy()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=xo.getInstance().currentlyOnline();return Yf(this.interruptReasons_)&&t}}Gn.nextPersistentConnectionId_=0;Gn.nextConnectionId_=0;class fe{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new fe(t,i)}}class Zo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const l=new fe(ca,t),o=new fe(ca,i);return this.compare(l,o)!==0}minPost(){return fe.MIN}}let yo;class vv extends Zo{static get __EMPTY_NODE(){return yo}static set __EMPTY_NODE(t){yo=t}compare(t,i){return ga(t.name,i.name)}isDefinedOn(t){throw ha("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return fe.MIN}maxPost(){return new fe(us,yo)}makePost(t,i){return B(typeof t=="string","KeyIndex indexValue must always be a string."),new fe(t,yo)}toString(){return".key"}}const ia=new vv;class vo{constructor(t,i,l,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?l(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ut{constructor(t,i,l,o,f){this.key=t,this.value=i,this.color=l??ut.RED,this.left=o??Ot.EMPTY_NODE,this.right=f??Ot.EMPTY_NODE}copy(t,i,l,o,f){return new ut(t??this.key,i??this.value,l??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,l){let o=this;const f=l(t,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(t,i,l),null):f===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ot.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let l,o;if(l=this,i(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(t,l.key)===0){if(l.right.isEmpty())return Ot.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ut.RED=!0;ut.BLACK=!1;class fC{copy(t,i,l,o,f){return this}insert(t,i,l){return new ut(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ot{constructor(t,i=Ot.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Ot(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,ut.BLACK,null,null))}remove(t){return new Ot(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ut.BLACK,null,null))}get(t){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(t,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(t){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(t,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new vo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new vo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new vo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new vo(this.root_,null,this.comparator_,!0,t)}}Ot.EMPTY_NODE=new fC;function hC(a,t){return ga(a.name,t.name)}function Ch(a,t){return ga(a,t)}let $f;function dC(a){$f=a}const Sv=function(a){return typeof a=="number"?"number:"+Xy(a):"string:"+a},Ev=function(a){if(a.isLeafNode()){const t=a.val();B(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Qn(t,".sv"),"Priority must be a string or number.")}else B(a===$f||a.isEmpty(),"priority of unexpected type.");B(a===$f||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let P_;class ct{static set __childrenNodeConstructor(t){P_=t}static get __childrenNodeConstructor(){return P_}constructor(t,i=ct.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ev(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ct(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ct.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return pe(t)?this:ye(t)===".priority"?this.priorityNode_:ct.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:ct.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const l=ye(t);return l===null?i:i.isEmpty()&&l!==".priority"?this:(B(l!==".priority"||Oi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,ct.__childrenNodeConstructor.EMPTY_NODE.updateChild(Be(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Sv(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Xy(this.value_):t+=this.value_,this.lazyHash_=Fy(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ct.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ct.__childrenNodeConstructor?-1:(B(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,l=typeof this.value_,o=ct.VALUE_TYPE_ORDER.indexOf(i),f=ct.VALUE_TYPE_ORDER.indexOf(l);return B(o>=0,"Unknown leaf type: "+i),B(f>=0,"Unknown leaf type: "+l),o===f?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ct.VALUE_TYPE_ORDER=["object","boolean","number","string"];let bv,Tv;function mC(a){bv=a}function pC(a){Tv=a}class gC extends Zo{compare(t,i){const l=t.node.getPriority(),o=i.node.getPriority(),f=l.compareTo(o);return f===0?ga(t.name,i.name):f}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(us,new ct("[PRIORITY-POST]",Tv))}makePost(t,i){const l=bv(t);return new fe(i,new ct("[PRIORITY-POST]",l))}toString(){return".priority"}}const Ke=new gC;const _C=Math.log(2);class yC{constructor(t){const i=f=>parseInt(Math.log(f)/_C,10),l=f=>parseInt(Array(f+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=l(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Mo=function(a,t,i,l){a.sort(t);const o=function(g,p){const b=p-g;let v,S;if(b===0)return null;if(b===1)return v=a[g],S=i?i(v):v,new ut(S,v.node,ut.BLACK,null,null);{const D=parseInt(b/2,10)+g,I=o(g,D),H=o(D+1,p);return v=a[D],S=i?i(v):v,new ut(S,v.node,ut.BLACK,I,H)}},f=function(g){let p=null,b=null,v=a.length;const S=function(I,H){const ne=v-I,j=v;v-=I;const $=o(ne+1,j),ee=a[ne],Ne=i?i(ee):ee;D(new ut(Ne,ee.node,H,null,$))},D=function(I){p?(p.left=I,p=I):(b=I,p=I)};for(let I=0;I<g.count;++I){const H=g.nextBitIsOne(),ne=Math.pow(2,g.count-(I+1));H?S(ne,ut.BLACK):(S(ne,ut.BLACK),S(ne,ut.RED))}return b},h=new yC(a.length),m=f(h);return new Ot(l||t,m)};let zf;const ea={};class Hn{static get Default(){return B(ea&&Ke,"ChildrenNode.ts has not been loaded"),zf=zf||new Hn({".priority":ea},{".priority":Ke}),zf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=ra(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Ot?i:null}hasIndex(t){return Qn(this.indexSet_,t.toString())}addIndex(t,i){B(t!==ia,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const f=i.getIterator(fe.Wrap);let h=f.getNext();for(;h;)o=o||t.isDefinedOn(h.node),l.push(h),h=f.getNext();let m;o?m=Mo(l,t.getCompare()):m=ea;const g=t.toString(),p={...this.indexSet_};p[g]=t;const b={...this.indexes_};return b[g]=m,new Hn(b,p)}addToIndexes(t,i){const l=Ro(this.indexes_,(o,f)=>{const h=ra(this.indexSet_,f);if(B(h,"Missing index implementation for "+f),o===ea)if(h.isDefinedOn(t.node)){const m=[],g=i.getIterator(fe.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&m.push(p),p=g.getNext();return m.push(t),Mo(m,h.getCompare())}else return ea;else{const m=i.get(t.name);let g=o;return m&&(g=g.remove(new fe(t.name,m))),g.insert(t,t.node)}});return new Hn(l,this.indexSet_)}removeFromIndexes(t,i){const l=Ro(this.indexes_,o=>{if(o===ea)return o;{const f=i.get(t.name);return f?o.remove(new fe(t.name,f)):o}});return new Hn(l,this.indexSet_)}}let El;class te{static get EMPTY_NODE(){return El||(El=new te(new Ot(Ch),null,Hn.Default))}constructor(t,i,l){this.children_=t,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Ev(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||El}updatePriority(t){return this.children_.isEmpty()?this:new te(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?El:i}}getChild(t){const i=ye(t);return i===null?this:this.getImmediateChild(i).getChild(Be(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(B(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const l=new fe(t,i);let o,f;i.isEmpty()?(o=this.children_.remove(t),f=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(t,i),f=this.indexMap_.addToIndexes(l,this.children_));const h=o.isEmpty()?El:this.priorityNode_;return new te(o,h,f)}}updateChild(t,i){const l=ye(t);if(l===null)return i;{B(ye(t)!==".priority"||Oi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(Be(t),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let l=0,o=0,f=!0;if(this.forEachChild(Ke,(h,m)=>{i[h]=m.val(t),l++,f&&te.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!t&&f&&o<2*l){const h=[];for(const m in i)h[m]=i[m];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Sv(this.getPriority().val())+":"),this.forEachChild(Ke,(i,l)=>{const o=l.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Fy(t)}return this.lazyHash_}getPredecessorChildName(t,i,l){const o=this.resolveIndex_(l);if(o){const f=o.getPredecessorKey(new fe(t,i));return f?f.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new fe(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new fe(i,this.children_.get(i)):null}forEachChild(t,i){const l=this.resolveIndex_(t);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,fe.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,fe.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)>0;)o.getNext(),f=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Yl?-1:0}withIndex(t){if(t===ia||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new te(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ia||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator(Ke),o=i.getIterator(Ke);let f=l.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=l.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===ia?null:this.indexMap_.get(t.toString())}}te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vC extends te{constructor(){super(new Ot(Ch),te.EMPTY_NODE,Hn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return te.EMPTY_NODE}isEmpty(){return!1}}const Yl=new vC;Object.defineProperties(fe,{MIN:{value:new fe(ca,te.EMPTY_NODE)},MAX:{value:new fe(us,Yl)}});vv.__EMPTY_NODE=te.EMPTY_NODE;ct.__childrenNodeConstructor=te;dC(Yl);pC(Yl);const SC=!0;function ft(a,t=null){if(a===null)return te.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(t=a[".priority"]),B(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const i=a;return new ct(i,ft(t))}if(!(a instanceof Array)&&SC){const i=[];let l=!1;if(It(a,(h,m)=>{if(h.substring(0,1)!=="."){const g=ft(m);g.isEmpty()||(l=l||!g.getPriority().isEmpty(),i.push(new fe(h,g)))}}),i.length===0)return te.EMPTY_NODE;const f=Mo(i,hC,h=>h.name,Ch);if(l){const h=Mo(i,Ke.getCompare());return new te(f,ft(t),new Hn({".priority":h},{".priority":Ke}))}else return new te(f,ft(t),Hn.Default)}else{let i=te.EMPTY_NODE;return It(a,(l,o)=>{if(Qn(a,l)&&l.substring(0,1)!=="."){const f=ft(o);(f.isLeafNode()||!f.isEmpty())&&(i=i.updateImmediateChild(l,f))}}),i.updatePriority(ft(t))}}mC(ft);class EC extends Zo{constructor(t){super(),this.indexPath_=t,B(!pe(t)&&ye(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const l=this.extractChild(t.node),o=this.extractChild(i.node),f=l.compareTo(o);return f===0?ga(t.name,i.name):f}makePost(t,i){const l=ft(t),o=te.EMPTY_NODE.updateChild(this.indexPath_,l);return new fe(i,o)}maxPost(){const t=te.EMPTY_NODE.updateChild(this.indexPath_,Yl);return new fe(us,t)}toString(){return pv(this.indexPath_,0).join("/")}}class bC extends Zo{compare(t,i){const l=t.node.compareTo(i.node);return l===0?ga(t.name,i.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(t,i){const l=ft(t);return new fe(i,l)}toString(){return".value"}}const TC=new bC;function Cv(a){return{type:"value",snapshotNode:a}}function ua(a,t){return{type:"child_added",snapshotNode:t,childName:a}}function kl(a,t){return{type:"child_removed",snapshotNode:t,childName:a}}function Ll(a,t,i){return{type:"child_changed",snapshotNode:t,childName:a,oldSnap:i}}function CC(a,t){return{type:"child_moved",snapshotNode:t,childName:a}}class wh{constructor(t){this.index_=t}updateChild(t,i,l,o,f,h){B(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(h!=null&&(l.isEmpty()?t.hasChild(i)?h.trackChildChange(kl(i,m)):B(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(ua(i,l)):h.trackChildChange(Ll(i,l,m))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(t,i,l){return l!=null&&(t.isLeafNode()||t.forEachChild(Ke,(o,f)=>{i.hasChild(o)||l.trackChildChange(kl(o,f))}),i.isLeafNode()||i.forEachChild(Ke,(o,f)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(f)||l.trackChildChange(Ll(o,f,h))}else l.trackChildChange(ua(o,f))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?te.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zl{constructor(t){this.indexedFilter_=new wh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=zl.getStartPost_(t),this.endPost_=zl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&l}updateChild(t,i,l,o,f,h){return this.matches(new fe(i,l))||(l=te.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,l,o,f,h)}updateFullNode(t,i,l){i.isLeafNode()&&(i=te.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(te.EMPTY_NODE);const f=this;return i.forEachChild(Ke,(h,m)=>{f.matches(new fe(h,m))||(o=o.updateImmediateChild(h,te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class wC{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new zl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,l,o,f,h){return this.rangedFilter_.matches(new fe(i,l))||(l=te.EMPTY_NODE),t.getImmediateChild(i).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,l,o,f,h):this.fullLimitUpdateChild_(t,i,l,f,h)}updateFullNode(t,i,l){let o;if(i.isLeafNode()||i.isEmpty())o=te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=te.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(te.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,l,o,f){let h;if(this.reverse_){const v=this.index_.getCompare();h=(S,D)=>v(D,S)}else h=this.index_.getCompare();const m=t;B(m.numChildren()===this.limit_,"");const g=new fe(i,l),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),b=this.rangedFilter_.matches(g);if(m.hasChild(i)){const v=m.getImmediateChild(i);let S=o.getChildAfterChild(this.index_,p,this.reverse_);for(;S!=null&&(S.name===i||m.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const D=S==null?1:h(S,g);if(b&&!l.isEmpty()&&D>=0)return f?.trackChildChange(Ll(i,l,v)),m.updateImmediateChild(i,l);{f?.trackChildChange(kl(i,v));const H=m.updateImmediateChild(i,te.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(f?.trackChildChange(ua(S.name,S.node)),H.updateImmediateChild(S.name,S.node)):H}}else return l.isEmpty()?t:b&&h(p,g)>=0?(f!=null&&(f.trackChildChange(kl(p.name,p.node)),f.trackChildChange(ua(i,l))),m.updateImmediateChild(i,l).updateImmediateChild(p.name,te.EMPTY_NODE)):t}}class Ah{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ca}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ke}copy(){const t=new Ah;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function AC(a){return a.loadsAllData()?new wh(a.getIndex()):a.hasLimit()?new wC(a):new zl(a)}function q_(a){const t={};if(a.isDefault())return t;let i;if(a.index_===Ke?i="$priority":a.index_===TC?i="$value":a.index_===ia?i="$key":(B(a.index_ instanceof EC,"Unrecognized index type!"),i=a.index_.toString()),t.orderBy=st(i),a.startSet_){const l=a.startAfterSet_?"startAfter":"startAt";t[l]=st(a.indexStartValue_),a.startNameSet_&&(t[l]+=","+st(a.indexStartName_))}if(a.endSet_){const l=a.endBeforeSet_?"endBefore":"endAt";t[l]=st(a.indexEndValue_),a.endNameSet_&&(t[l]+=","+st(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?t.limitToFirst=a.limit_:t.limitToLast=a.limit_),t}function G_(a){const t={};if(a.startSet_&&(t.sp=a.indexStartValue_,a.startNameSet_&&(t.sn=a.indexStartName_),t.sin=!a.startAfterSet_),a.endSet_&&(t.ep=a.indexEndValue_,a.endNameSet_&&(t.en=a.indexEndName_),t.ein=!a.endBeforeSet_),a.limitSet_){t.l=a.limit_;let i=a.viewFrom_;i===""&&(a.isViewFromLeft()?i="l":i="r"),t.vf=i}return a.index_!==Ke&&(t.i=a.index_.toString()),t}class Io extends hv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(B(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,l,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=Vl("p:rest:"),this.listens_={}}listen(t,i,l,o){const f=t._path.toString();this.log_("Listen called for "+f+" "+t._queryIdentifier);const h=Io.getListenId_(t,l),m={};this.listens_[h]=m;const g=q_(t._queryParams);this.restRequest_(f+".json",g,(p,b)=>{let v=b;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(f,v,!1,l),ra(this.listens_,h)===m){let S;p?p===401?S="permission_denied":S="rest_error:"+p:S="ok",o(S,null)}})}unlisten(t,i){const l=Io.getListenId_(t,i);delete this.listens_[l]}get(t){const i=q_(t._queryParams),l=t._path.toString(),o=new Ko;return this.restRequest_(l+".json",i,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(i.auth=o.accessToken),f&&f.token&&(i.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ma(i);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=xl(m.responseText)}catch{Mt("Failed to parse JSON response for "+h+": "+m.responseText)}l(null,g)}else m.status!==401&&m.status!==404&&Mt("Got unsuccessful REST response for "+h+" Status: "+m.status),l(m.status);l=null}},m.open("GET",h,!0),m.send()})}}class NC{constructor(){this.rootNode_=te.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function ko(){return{value:null,children:new Map}}function wv(a,t,i){if(pe(t))a.value=i,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(t,i);else{const l=ye(t);a.children.has(l)||a.children.set(l,ko());const o=a.children.get(l);t=Be(t),wv(o,t,i)}}function eh(a,t,i){a.value!==null?i(t,a.value):RC(a,(l,o)=>{const f=new Ue(t.toString()+"/"+l);eh(o,f,i)})}function RC(a,t){a.children.forEach((i,l)=>{t(l,i)})}class DC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&It(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=t,i}}const V_=10*1e3,OC=30*1e3,xC=300*1e3;class MC{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new DC(t);const l=V_+(OC-V_)*Math.random();Al(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),i={};let l=!1;It(t,(o,f)=>{f>0&&Qn(this.statsToReport_,o)&&(i[o]=f,l=!0)}),l&&this.server_.reportStats(i),Al(this.reportStats_.bind(this),Math.floor(Math.random()*2*xC))}}var cn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cn||(cn={}));function Av(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Nh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Rh(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class Lo{constructor(t,i,l){this.path=t,this.affectedTree=i,this.revert=l,this.type=cn.ACK_USER_WRITE,this.source=Av()}operationForChild(t){if(pe(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ue(t));return new Lo(Ae(),i,this.revert)}}else return B(ye(this.path)===t,"operationForChild called for unrelated child."),new Lo(Be(this.path),this.affectedTree,this.revert)}}class jl{constructor(t,i){this.source=t,this.path=i,this.type=cn.LISTEN_COMPLETE}operationForChild(t){return pe(this.path)?new jl(this.source,Ae()):new jl(this.source,Be(this.path))}}class fs{constructor(t,i,l){this.source=t,this.path=i,this.snap=l,this.type=cn.OVERWRITE}operationForChild(t){return pe(this.path)?new fs(this.source,Ae(),this.snap.getImmediateChild(t)):new fs(this.source,Be(this.path),this.snap)}}class Ul{constructor(t,i,l){this.source=t,this.path=i,this.children=l,this.type=cn.MERGE}operationForChild(t){if(pe(this.path)){const i=this.children.subtree(new Ue(t));return i.isEmpty()?null:i.value?new fs(this.source,Ae(),i.value):new Ul(this.source,Ae(),i)}else return B(ye(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ul(this.source,Be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xi{constructor(t,i,l){this.node_=t,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(pe(t))return this.isFullyInitialized()&&!this.filtered_;const i=ye(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class IC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function kC(a,t,i,l){const o=[],f=[];return t.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(CC(h.childName,h.snapshotNode))}),bl(a,o,"child_removed",t,l,i),bl(a,o,"child_added",t,l,i),bl(a,o,"child_moved",f,l,i),bl(a,o,"child_changed",t,l,i),bl(a,o,"value",t,l,i),o}function bl(a,t,i,l,o,f){const h=l.filter(m=>m.type===i);h.sort((m,g)=>zC(a,m,g)),h.forEach(m=>{const g=LC(a,m,f);o.forEach(p=>{p.respondsTo(m.type)&&t.push(p.createEvent(g,a.query_))})})}function LC(a,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,a.index_)),t}function zC(a,t,i){if(t.childName==null||i.childName==null)throw ha("Should only compare child_ events.");const l=new fe(t.childName,t.snapshotNode),o=new fe(i.childName,i.snapshotNode);return a.index_.compare(l,o)}function Jo(a,t){return{eventCache:a,serverCache:t}}function Nl(a,t,i,l){return Jo(new xi(t,i,l),a.serverCache)}function Nv(a,t,i,l){return Jo(a.eventCache,new xi(t,i,l))}function zo(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function hs(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let jf;const jC=()=>(jf||(jf=new Ot(b1)),jf);class qe{static fromObject(t){let i=new qe(null);return It(t,(l,o)=>{i=i.set(new Ue(l),o)}),i}constructor(t,i=jC()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:Ae(),value:this.value};if(pe(t))return null;{const l=ye(t),o=this.children.get(l);if(o!==null){const f=o.findRootMostMatchingPathAndValue(Be(t),i);return f!=null?{path:at(new Ue(l),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(pe(t))return this;{const i=ye(t),l=this.children.get(i);return l!==null?l.subtree(Be(t)):new qe(null)}}set(t,i){if(pe(t))return new qe(i,this.children);{const l=ye(t),f=(this.children.get(l)||new qe(null)).set(Be(t),i),h=this.children.insert(l,f);return new qe(this.value,h)}}remove(t){if(pe(t))return this.children.isEmpty()?new qe(null):new qe(null,this.children);{const i=ye(t),l=this.children.get(i);if(l){const o=l.remove(Be(t));let f;return o.isEmpty()?f=this.children.remove(i):f=this.children.insert(i,o),this.value===null&&f.isEmpty()?new qe(null):new qe(this.value,f)}else return this}}get(t){if(pe(t))return this.value;{const i=ye(t),l=this.children.get(i);return l?l.get(Be(t)):null}}setTree(t,i){if(pe(t))return i;{const l=ye(t),f=(this.children.get(l)||new qe(null)).setTree(Be(t),i);let h;return f.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,f),new qe(this.value,h)}}fold(t){return this.fold_(Ae(),t)}fold_(t,i){const l={};return this.children.inorderTraversal((o,f)=>{l[o]=f.fold_(at(t,o),i)}),i(t,this.value,l)}findOnPath(t,i){return this.findOnPath_(t,Ae(),i)}findOnPath_(t,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(pe(t))return null;{const f=ye(t),h=this.children.get(f);return h?h.findOnPath_(Be(t),at(i,f),l):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,Ae(),i)}foreachOnPath_(t,i,l){if(pe(t))return this;{this.value&&l(i,this.value);const o=ye(t),f=this.children.get(o);return f?f.foreachOnPath_(Be(t),at(i,o),l):new qe(null)}}foreach(t){this.foreach_(Ae(),t)}foreach_(t,i){this.children.inorderTraversal((l,o)=>{o.foreach_(at(t,l),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,l)=>{l.value&&t(i,l.value)})}}class fn{constructor(t){this.writeTree_=t}static empty(){return new fn(new qe(null))}}function Rl(a,t,i){if(pe(t))return new fn(new qe(i));{const l=a.writeTree_.findRootMostValueAndPath(t);if(l!=null){const o=l.path;let f=l.value;const h=Et(o,t);return f=f.updateChild(h,i),new fn(a.writeTree_.set(o,f))}else{const o=new qe(i),f=a.writeTree_.setTree(t,o);return new fn(f)}}}function Y_(a,t,i){let l=a;return It(i,(o,f)=>{l=Rl(l,at(t,o),f)}),l}function F_(a,t){if(pe(t))return fn.empty();{const i=a.writeTree_.setTree(t,new qe(null));return new fn(i)}}function th(a,t){return ps(a,t)!=null}function ps(a,t){const i=a.writeTree_.findRootMostValueAndPath(t);return i!=null?a.writeTree_.get(i.path).getChild(Et(i.path,t)):null}function Q_(a){const t=[],i=a.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ke,(l,o)=>{t.push(new fe(l,o))}):a.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&t.push(new fe(l,o.value))}),t}function Ni(a,t){if(pe(t))return a;{const i=ps(a,t);return i!=null?new fn(new qe(i)):new fn(a.writeTree_.subtree(t))}}function nh(a){return a.writeTree_.isEmpty()}function fa(a,t){return Rv(Ae(),a.writeTree_,t)}function Rv(a,t,i){if(t.value!=null)return i.updateChild(a,t.value);{let l=null;return t.children.inorderTraversal((o,f)=>{o===".priority"?(B(f.value!==null,"Priority writes must always be leaf nodes"),l=f.value):i=Rv(at(a,o),f,i)}),!i.getChild(a).isEmpty()&&l!==null&&(i=i.updateChild(at(a,".priority"),l)),i}}function Wo(a,t){return Mv(t,a)}function UC(a,t,i,l,o){B(l>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:t,snap:i,writeId:l,visible:o}),o&&(a.visibleWrites=Rl(a.visibleWrites,t,i)),a.lastWriteId=l}function BC(a,t){for(let i=0;i<a.allWrites.length;i++){const l=a.allWrites[i];if(l.writeId===t)return l}return null}function HC(a,t){const i=a.allWrites.findIndex(m=>m.writeId===t);B(i>=0,"removeWrite called with nonexistent writeId.");const l=a.allWrites[i];a.allWrites.splice(i,1);let o=l.visible,f=!1,h=a.allWrites.length-1;for(;o&&h>=0;){const m=a.allWrites[h];m.visible&&(h>=i&&PC(m,l.path)?o=!1:on(l.path,m.path)&&(f=!0)),h--}if(o){if(f)return qC(a),!0;if(l.snap)a.visibleWrites=F_(a.visibleWrites,l.path);else{const m=l.children;It(m,g=>{a.visibleWrites=F_(a.visibleWrites,at(l.path,g))})}return!0}else return!1}function PC(a,t){if(a.snap)return on(a.path,t);for(const i in a.children)if(a.children.hasOwnProperty(i)&&on(at(a.path,i),t))return!0;return!1}function qC(a){a.visibleWrites=Dv(a.allWrites,GC,Ae()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function GC(a){return a.visible}function Dv(a,t,i){let l=fn.empty();for(let o=0;o<a.length;++o){const f=a[o];if(t(f)){const h=f.path;let m;if(f.snap)on(i,h)?(m=Et(i,h),l=Rl(l,m,f.snap)):on(h,i)&&(m=Et(h,i),l=Rl(l,Ae(),f.snap.getChild(m)));else if(f.children){if(on(i,h))m=Et(i,h),l=Y_(l,m,f.children);else if(on(h,i))if(m=Et(h,i),pe(m))l=Y_(l,Ae(),f.children);else{const g=ra(f.children,ye(m));if(g){const p=g.getChild(Be(m));l=Rl(l,Ae(),p)}}}else throw ha("WriteRecord should have .snap or .children")}}return l}function Ov(a,t,i,l,o){if(!l&&!o){const f=ps(a.visibleWrites,t);if(f!=null)return f;{const h=Ni(a.visibleWrites,t);if(nh(h))return i;if(i==null&&!th(h,Ae()))return null;{const m=i||te.EMPTY_NODE;return fa(h,m)}}}else{const f=Ni(a.visibleWrites,t);if(!o&&nh(f))return i;if(!o&&i==null&&!th(f,Ae()))return null;{const h=function(p){return(p.visible||o)&&(!l||!~l.indexOf(p.writeId))&&(on(p.path,t)||on(t,p.path))},m=Dv(a.allWrites,h,t),g=i||te.EMPTY_NODE;return fa(m,g)}}}function VC(a,t,i){let l=te.EMPTY_NODE;const o=ps(a.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Ke,(f,h)=>{l=l.updateImmediateChild(f,h)}),l;if(i){const f=Ni(a.visibleWrites,t);return i.forEachChild(Ke,(h,m)=>{const g=fa(Ni(f,new Ue(h)),m);l=l.updateImmediateChild(h,g)}),Q_(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}else{const f=Ni(a.visibleWrites,t);return Q_(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}}function YC(a,t,i,l,o){B(l||o,"Either existingEventSnap or existingServerSnap must exist");const f=at(t,i);if(th(a.visibleWrites,f))return null;{const h=Ni(a.visibleWrites,f);return nh(h)?o.getChild(i):fa(h,o.getChild(i))}}function FC(a,t,i,l){const o=at(t,i),f=ps(a.visibleWrites,o);if(f!=null)return f;if(l.isCompleteForChild(i)){const h=Ni(a.visibleWrites,o);return fa(h,l.getNode().getImmediateChild(i))}else return null}function QC(a,t){return ps(a.visibleWrites,t)}function KC(a,t,i,l,o,f,h){let m;const g=Ni(a.visibleWrites,t),p=ps(g,Ae());if(p!=null)m=p;else if(i!=null)m=fa(g,i);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const b=[],v=h.getCompare(),S=f?m.getReverseIteratorFrom(l,h):m.getIteratorFrom(l,h);let D=S.getNext();for(;D&&b.length<o;)v(D,l)!==0&&b.push(D),D=S.getNext();return b}else return[]}function XC(){return{visibleWrites:fn.empty(),allWrites:[],lastWriteId:-1}}function jo(a,t,i,l){return Ov(a.writeTree,a.treePath,t,i,l)}function Dh(a,t){return VC(a.writeTree,a.treePath,t)}function K_(a,t,i,l){return YC(a.writeTree,a.treePath,t,i,l)}function Uo(a,t){return QC(a.writeTree,at(a.treePath,t))}function ZC(a,t,i,l,o,f){return KC(a.writeTree,a.treePath,t,i,l,o,f)}function Oh(a,t,i){return FC(a.writeTree,a.treePath,t,i)}function xv(a,t){return Mv(at(a.treePath,t),a.writeTree)}function Mv(a,t){return{treePath:a,writeTree:t}}class JC{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,l=t.childName;B(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),B(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const f=o.type;if(i==="child_added"&&f==="child_removed")this.changeMap.set(l,Ll(l,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&f==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&f==="child_changed")this.changeMap.set(l,kl(l,o.oldSnap));else if(i==="child_changed"&&f==="child_added")this.changeMap.set(l,ua(l,t.snapshotNode));else if(i==="child_changed"&&f==="child_changed")this.changeMap.set(l,Ll(l,t.snapshotNode,o.oldSnap));else throw ha("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}class WC{getCompleteChild(t){return null}getChildAfterChild(t,i,l){return null}}const Iv=new WC;class xh{constructor(t,i,l=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new xi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Oh(this.writes_,t,l)}}getChildAfterChild(t,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hs(this.viewCache_),f=ZC(this.writes_,o,i,1,l,t);return f.length===0?null:f[0]}}function $C(a){return{filter:a}}function ew(a,t){B(t.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),B(t.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function tw(a,t,i,l,o){const f=new JC;let h,m;if(i.type===cn.OVERWRITE){const p=i;p.source.fromUser?h=ih(a,t,p.path,p.snap,l,o,f):(B(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered()&&!pe(p.path),h=Bo(a,t,p.path,p.snap,l,o,m,f))}else if(i.type===cn.MERGE){const p=i;p.source.fromUser?h=iw(a,t,p.path,p.children,l,o,f):(B(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered(),h=sh(a,t,p.path,p.children,l,o,m,f))}else if(i.type===cn.ACK_USER_WRITE){const p=i;p.revert?h=lw(a,t,p.path,l,o,f):h=sw(a,t,p.path,p.affectedTree,l,o,f)}else if(i.type===cn.LISTEN_COMPLETE)h=aw(a,t,i.path,l,f);else throw ha("Unknown operation type: "+i.type);const g=f.getChanges();return nw(t,h,g),{viewCache:h,changes:g}}function nw(a,t,i){const l=t.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),f=zo(a);(i.length>0||!a.eventCache.isFullyInitialized()||o&&!l.getNode().equals(f)||!l.getNode().getPriority().equals(f.getPriority()))&&i.push(Cv(zo(t)))}}function kv(a,t,i,l,o,f){const h=t.eventCache;if(Uo(l,i)!=null)return t;{let m,g;if(pe(i))if(B(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=hs(t),b=p instanceof te?p:te.EMPTY_NODE,v=Dh(l,b);m=a.filter.updateFullNode(t.eventCache.getNode(),v,f)}else{const p=jo(l,hs(t));m=a.filter.updateFullNode(t.eventCache.getNode(),p,f)}else{const p=ye(i);if(p===".priority"){B(Oi(i)===1,"Can't have a priority with additional path components");const b=h.getNode();g=t.serverCache.getNode();const v=K_(l,i,b,g);v!=null?m=a.filter.updatePriority(b,v):m=h.getNode()}else{const b=Be(i);let v;if(h.isCompleteForChild(p)){g=t.serverCache.getNode();const S=K_(l,i,h.getNode(),g);S!=null?v=h.getNode().getImmediateChild(p).updateChild(b,S):v=h.getNode().getImmediateChild(p)}else v=Oh(l,p,t.serverCache);v!=null?m=a.filter.updateChild(h.getNode(),p,v,b,o,f):m=h.getNode()}}return Nl(t,m,h.isFullyInitialized()||pe(i),a.filter.filtersNodes())}}function Bo(a,t,i,l,o,f,h,m){const g=t.serverCache;let p;const b=h?a.filter:a.filter.getIndexedFilter();if(pe(i))p=b.updateFullNode(g.getNode(),l,null);else if(b.filtersNodes()&&!g.isFiltered()){const D=g.getNode().updateChild(i,l);p=b.updateFullNode(g.getNode(),D,null)}else{const D=ye(i);if(!g.isCompleteForPath(i)&&Oi(i)>1)return t;const I=Be(i),ne=g.getNode().getImmediateChild(D).updateChild(I,l);D===".priority"?p=b.updatePriority(g.getNode(),ne):p=b.updateChild(g.getNode(),D,ne,I,Iv,null)}const v=Nv(t,p,g.isFullyInitialized()||pe(i),b.filtersNodes()),S=new xh(o,v,f);return kv(a,v,i,o,S,m)}function ih(a,t,i,l,o,f,h){const m=t.eventCache;let g,p;const b=new xh(o,t,f);if(pe(i))p=a.filter.updateFullNode(t.eventCache.getNode(),l,h),g=Nl(t,p,!0,a.filter.filtersNodes());else{const v=ye(i);if(v===".priority")p=a.filter.updatePriority(t.eventCache.getNode(),l),g=Nl(t,p,m.isFullyInitialized(),m.isFiltered());else{const S=Be(i),D=m.getNode().getImmediateChild(v);let I;if(pe(S))I=l;else{const H=b.getCompleteChild(v);H!=null?mv(S)===".priority"&&H.getChild(gv(S)).isEmpty()?I=H:I=H.updateChild(S,l):I=te.EMPTY_NODE}if(D.equals(I))g=t;else{const H=a.filter.updateChild(m.getNode(),v,I,S,b,h);g=Nl(t,H,m.isFullyInitialized(),a.filter.filtersNodes())}}}return g}function X_(a,t){return a.eventCache.isCompleteForChild(t)}function iw(a,t,i,l,o,f,h){let m=t;return l.foreach((g,p)=>{const b=at(i,g);X_(t,ye(b))&&(m=ih(a,m,b,p,o,f,h))}),l.foreach((g,p)=>{const b=at(i,g);X_(t,ye(b))||(m=ih(a,m,b,p,o,f,h))}),m}function Z_(a,t,i){return i.foreach((l,o)=>{t=t.updateChild(l,o)}),t}function sh(a,t,i,l,o,f,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;pe(i)?p=l:p=new qe(null).setTree(i,l);const b=t.serverCache.getNode();return p.children.inorderTraversal((v,S)=>{if(b.hasChild(v)){const D=t.serverCache.getNode().getImmediateChild(v),I=Z_(a,D,S);g=Bo(a,g,new Ue(v),I,o,f,h,m)}}),p.children.inorderTraversal((v,S)=>{const D=!t.serverCache.isCompleteForChild(v)&&S.value===null;if(!b.hasChild(v)&&!D){const I=t.serverCache.getNode().getImmediateChild(v),H=Z_(a,I,S);g=Bo(a,g,new Ue(v),H,o,f,h,m)}}),g}function sw(a,t,i,l,o,f,h){if(Uo(o,i)!=null)return t;const m=t.serverCache.isFiltered(),g=t.serverCache;if(l.value!=null){if(pe(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return Bo(a,t,i,g.getNode().getChild(i),o,f,m,h);if(pe(i)){let p=new qe(null);return g.getNode().forEachChild(ia,(b,v)=>{p=p.set(new Ue(b),v)}),sh(a,t,i,p,o,f,m,h)}else return t}else{let p=new qe(null);return l.foreach((b,v)=>{const S=at(i,b);g.isCompleteForPath(S)&&(p=p.set(b,g.getNode().getChild(S)))}),sh(a,t,i,p,o,f,m,h)}}function aw(a,t,i,l,o){const f=t.serverCache,h=Nv(t,f.getNode(),f.isFullyInitialized()||pe(i),f.isFiltered());return kv(a,h,i,l,Iv,o)}function lw(a,t,i,l,o,f){let h;if(Uo(l,i)!=null)return t;{const m=new xh(l,t,o),g=t.eventCache.getNode();let p;if(pe(i)||ye(i)===".priority"){let b;if(t.serverCache.isFullyInitialized())b=jo(l,hs(t));else{const v=t.serverCache.getNode();B(v instanceof te,"serverChildren would be complete if leaf node"),b=Dh(l,v)}b=b,p=a.filter.updateFullNode(g,b,f)}else{const b=ye(i);let v=Oh(l,b,t.serverCache);v==null&&t.serverCache.isCompleteForChild(b)&&(v=g.getImmediateChild(b)),v!=null?p=a.filter.updateChild(g,b,v,Be(i),m,f):t.eventCache.getNode().hasChild(b)?p=a.filter.updateChild(g,b,te.EMPTY_NODE,Be(i),m,f):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=jo(l,hs(t)),h.isLeafNode()&&(p=a.filter.updateFullNode(p,h,f)))}return h=t.serverCache.isFullyInitialized()||Uo(l,Ae())!=null,Nl(t,p,h,a.filter.filtersNodes())}}class rw{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new wh(l.getIndex()),f=AC(l);this.processor_=$C(f);const h=i.serverCache,m=i.eventCache,g=o.updateFullNode(te.EMPTY_NODE,h.getNode(),null),p=f.updateFullNode(te.EMPTY_NODE,m.getNode(),null),b=new xi(g,h.isFullyInitialized(),o.filtersNodes()),v=new xi(p,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=Jo(v,b),this.eventGenerator_=new IC(this.query_)}get query(){return this.query_}}function ow(a){return a.viewCache_.serverCache.getNode()}function cw(a){return zo(a.viewCache_)}function uw(a,t){const i=hs(a.viewCache_);return i&&(a.query._queryParams.loadsAllData()||!pe(t)&&!i.getImmediateChild(ye(t)).isEmpty())?i.getChild(t):null}function J_(a){return a.eventRegistrations_.length===0}function fw(a,t){a.eventRegistrations_.push(t)}function W_(a,t,i){const l=[];if(i){B(t==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(i,o);h&&l.push(h)})}if(t){let o=[];for(let f=0;f<a.eventRegistrations_.length;++f){const h=a.eventRegistrations_[f];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return l}function $_(a,t,i,l){t.type===cn.MERGE&&t.source.queryId!==null&&(B(hs(a.viewCache_),"We should always have a full cache before handling merges"),B(zo(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,f=tw(a.processor_,o,t,i,l);return ew(a.processor_,f.viewCache),B(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,Lv(a,f.changes,f.viewCache.eventCache.getNode(),null)}function hw(a,t){const i=a.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ke,(f,h)=>{l.push(ua(f,h))}),i.isFullyInitialized()&&l.push(Cv(i.getNode())),Lv(a,l,i.getNode(),t)}function Lv(a,t,i,l){const o=l?[l]:a.eventRegistrations_;return kC(a.eventGenerator_,t,i,o)}let Ho;class zv{constructor(){this.views=new Map}}function dw(a){B(!Ho,"__referenceConstructor has already been defined"),Ho=a}function mw(){return B(Ho,"Reference.ts has not been loaded"),Ho}function pw(a){return a.views.size===0}function Mh(a,t,i,l){const o=t.source.queryId;if(o!==null){const f=a.views.get(o);return B(f!=null,"SyncTree gave us an op for an invalid query."),$_(f,t,i,l)}else{let f=[];for(const h of a.views.values())f=f.concat($_(h,t,i,l));return f}}function jv(a,t,i,l,o){const f=t._queryIdentifier,h=a.views.get(f);if(!h){let m=jo(i,o?l:null),g=!1;m?g=!0:l instanceof te?(m=Dh(i,l),g=!1):(m=te.EMPTY_NODE,g=!1);const p=Jo(new xi(m,g,!1),new xi(l,o,!1));return new rw(t,p)}return h}function gw(a,t,i,l,o,f){const h=jv(a,t,l,o,f);return a.views.has(t._queryIdentifier)||a.views.set(t._queryIdentifier,h),fw(h,i),hw(h,i)}function _w(a,t,i,l){const o=t._queryIdentifier,f=[];let h=[];const m=Mi(a);if(o==="default")for(const[g,p]of a.views.entries())h=h.concat(W_(p,i,l)),J_(p)&&(a.views.delete(g),p.query._queryParams.loadsAllData()||f.push(p.query));else{const g=a.views.get(o);g&&(h=h.concat(W_(g,i,l)),J_(g)&&(a.views.delete(o),g.query._queryParams.loadsAllData()||f.push(g.query)))}return m&&!Mi(a)&&f.push(new(mw())(t._repo,t._path)),{removed:f,events:h}}function Uv(a){const t=[];for(const i of a.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Ri(a,t){let i=null;for(const l of a.views.values())i=i||uw(l,t);return i}function Bv(a,t){if(t._queryParams.loadsAllData())return $o(a);{const l=t._queryIdentifier;return a.views.get(l)}}function Hv(a,t){return Bv(a,t)!=null}function Mi(a){return $o(a)!=null}function $o(a){for(const t of a.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Po;function yw(a){B(!Po,"__referenceConstructor has already been defined"),Po=a}function vw(){return B(Po,"Reference.ts has not been loaded"),Po}let Sw=1;class ey{constructor(t){this.listenProvider_=t,this.syncPointTree_=new qe(null),this.pendingWriteTree_=XC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Pv(a,t,i,l,o){return UC(a.pendingWriteTree_,t,i,l,o),o?Ql(a,new fs(Av(),t,i)):[]}function ls(a,t,i=!1){const l=BC(a.pendingWriteTree_,t);if(HC(a.pendingWriteTree_,t)){let f=new qe(null);return l.snap!=null?f=f.set(Ae(),!0):It(l.children,h=>{f=f.set(new Ue(h),!0)}),Ql(a,new Lo(l.path,f,i))}else return[]}function Fl(a,t,i){return Ql(a,new fs(Nh(),t,i))}function Ew(a,t,i){const l=qe.fromObject(i);return Ql(a,new Ul(Nh(),t,l))}function bw(a,t){return Ql(a,new jl(Nh(),t))}function Tw(a,t,i){const l=kh(a,i);if(l){const o=Lh(l),f=o.path,h=o.queryId,m=Et(f,t),g=new jl(Rh(h),m);return zh(a,f,g)}else return[]}function qv(a,t,i,l,o=!1){const f=t._path,h=a.syncPointTree_.get(f);let m=[];if(h&&(t._queryIdentifier==="default"||Hv(h,t))){const g=_w(h,t,i,l);pw(h)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const p=g.removed;if(m=g.events,!o){const b=p.findIndex(S=>S._queryParams.loadsAllData())!==-1,v=a.syncPointTree_.findOnPath(f,(S,D)=>Mi(D));if(b&&!v){const S=a.syncPointTree_.subtree(f);if(!S.isEmpty()){const D=Nw(S);for(let I=0;I<D.length;++I){const H=D[I],ne=H.query,j=Fv(a,H);a.listenProvider_.startListening(Dl(ne),Bl(a,ne),j.hashFn,j.onComplete)}}}!v&&p.length>0&&!l&&(b?a.listenProvider_.stopListening(Dl(t),null):p.forEach(S=>{const D=a.queryToTagMap.get(ec(S));a.listenProvider_.stopListening(Dl(S),D)}))}Rw(a,p)}return m}function Gv(a,t,i,l){const o=kh(a,l);if(o!=null){const f=Lh(o),h=f.path,m=f.queryId,g=Et(h,t),p=new fs(Rh(m),g,i);return zh(a,h,p)}else return[]}function Cw(a,t,i,l){const o=kh(a,l);if(o){const f=Lh(o),h=f.path,m=f.queryId,g=Et(h,t),p=qe.fromObject(i),b=new Ul(Rh(m),g,p);return zh(a,h,b)}else return[]}function ww(a,t,i,l=!1){const o=t._path;let f=null,h=!1;a.syncPointTree_.foreachOnPath(o,(S,D)=>{const I=Et(S,o);f=f||Ri(D,I),h=h||Mi(D)});let m=a.syncPointTree_.get(o);m?(h=h||Mi(m),f=f||Ri(m,Ae())):(m=new zv,a.syncPointTree_=a.syncPointTree_.set(o,m));let g;f!=null?g=!0:(g=!1,f=te.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((D,I)=>{const H=Ri(I,Ae());H&&(f=f.updateImmediateChild(D,H))}));const p=Hv(m,t);if(!p&&!t._queryParams.loadsAllData()){const S=ec(t);B(!a.queryToTagMap.has(S),"View does not exist, but we have a tag");const D=Dw();a.queryToTagMap.set(S,D),a.tagToQueryMap.set(D,S)}const b=Wo(a.pendingWriteTree_,o);let v=gw(m,t,i,b,f,g);if(!p&&!h&&!l){const S=Bv(m,t);v=v.concat(Ow(a,t,S))}return v}function Ih(a,t,i){const o=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(t,(h,m)=>{const g=Et(h,t),p=Ri(m,g);if(p)return p});return Ov(o,t,f,i,!0)}function Aw(a,t){const i=t._path;let l=null;a.syncPointTree_.foreachOnPath(i,(p,b)=>{const v=Et(p,i);l=l||Ri(b,v)});let o=a.syncPointTree_.get(i);o?l=l||Ri(o,Ae()):(o=new zv,a.syncPointTree_=a.syncPointTree_.set(i,o));const f=l!=null,h=f?new xi(l,!0,!1):null,m=Wo(a.pendingWriteTree_,t._path),g=jv(o,t,m,f?h.getNode():te.EMPTY_NODE,f);return cw(g)}function Ql(a,t){return Vv(t,a.syncPointTree_,null,Wo(a.pendingWriteTree_,Ae()))}function Vv(a,t,i,l){if(pe(a.path))return Yv(a,t,i,l);{const o=t.get(Ae());i==null&&o!=null&&(i=Ri(o,Ae()));let f=[];const h=ye(a.path),m=a.operationForChild(h),g=t.children.get(h);if(g&&m){const p=i?i.getImmediateChild(h):null,b=xv(l,h);f=f.concat(Vv(m,g,p,b))}return o&&(f=f.concat(Mh(o,a,l,i))),f}}function Yv(a,t,i,l){const o=t.get(Ae());i==null&&o!=null&&(i=Ri(o,Ae()));let f=[];return t.children.inorderTraversal((h,m)=>{const g=i?i.getImmediateChild(h):null,p=xv(l,h),b=a.operationForChild(h);b&&(f=f.concat(Yv(b,m,g,p)))}),o&&(f=f.concat(Mh(o,a,l,i))),f}function Fv(a,t){const i=t.query,l=Bl(a,i);return{hashFn:()=>(ow(t)||te.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?Tw(a,i._path,l):bw(a,i._path);{const f=w1(o,i);return qv(a,i,null,f)}}}}function Bl(a,t){const i=ec(t);return a.queryToTagMap.get(i)}function ec(a){return a._path.toString()+"$"+a._queryIdentifier}function kh(a,t){return a.tagToQueryMap.get(t)}function Lh(a){const t=a.indexOf("$");return B(t!==-1&&t<a.length-1,"Bad queryKey."),{queryId:a.substr(t+1),path:new Ue(a.substr(0,t))}}function zh(a,t,i){const l=a.syncPointTree_.get(t);B(l,"Missing sync point for query tag that we're tracking");const o=Wo(a.pendingWriteTree_,t);return Mh(l,i,o,null)}function Nw(a){return a.fold((t,i,l)=>{if(i&&Mi(i))return[$o(i)];{let o=[];return i&&(o=Uv(i)),It(l,(f,h)=>{o=o.concat(h)}),o}})}function Dl(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(vw())(a._repo,a._path):a}function Rw(a,t){for(let i=0;i<t.length;++i){const l=t[i];if(!l._queryParams.loadsAllData()){const o=ec(l),f=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(f)}}}function Dw(){return Sw++}function Ow(a,t,i){const l=t._path,o=Bl(a,t),f=Fv(a,i),h=a.listenProvider_.startListening(Dl(t),o,f.hashFn,f.onComplete),m=a.syncPointTree_.subtree(l);if(o)B(!Mi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((p,b,v)=>{if(!pe(p)&&b&&Mi(b))return[$o(b).query];{let S=[];return b&&(S=S.concat(Uv(b).map(D=>D.query))),It(v,(D,I)=>{S=S.concat(I)}),S}});for(let p=0;p<g.length;++p){const b=g[p];a.listenProvider_.stopListening(Dl(b),Bl(a,b))}}return h}class jh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new jh(i)}node(){return this.node_}}class Uh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=at(this.path_,t);return new Uh(this.syncTree_,i)}node(){return Ih(this.syncTree_,this.path_)}}const xw=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},ty=function(a,t,i){if(!a||typeof a!="object")return a;if(B(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return Mw(a[".sv"],t,i);if(typeof a[".sv"]=="object")return Iw(a[".sv"],t);B(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},Mw=function(a,t,i){if(a==="timestamp")return i.timestamp;B(!1,"Unexpected server value: "+a)},Iw=function(a,t,i){a.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const l=a.increment;typeof l!="number"&&B(!1,"Unexpected increment value: "+l);const o=t.node();if(B(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const h=o.getValue();return typeof h!="number"?l:h+l},kw=function(a,t,i,l){return Bh(t,new Uh(i,a),l)},Qv=function(a,t,i){return Bh(a,new jh(t),i)};function Bh(a,t,i){const l=a.getPriority().val(),o=ty(l,t.getImmediateChild(".priority"),i);let f;if(a.isLeafNode()){const h=a,m=ty(h.getValue(),t,i);return m!==h.getValue()||o!==h.getPriority().val()?new ct(m,ft(o)):a}else{const h=a;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new ct(o))),h.forEachChild(Ke,(m,g)=>{const p=Bh(g,t.getImmediateChild(m),i);p!==g&&(f=f.updateImmediateChild(m,p))}),f}}class Hh{constructor(t="",i=null,l={children:{},childCount:0}){this.name=t,this.parent=i,this.node=l}}function Ph(a,t){let i=t instanceof Ue?t:new Ue(t),l=a,o=ye(i);for(;o!==null;){const f=ra(l.node.children,o)||{children:{},childCount:0};l=new Hh(o,l,f),i=Be(i),o=ye(i)}return l}function ya(a){return a.node.value}function Kv(a,t){a.node.value=t,ah(a)}function Xv(a){return a.node.childCount>0}function Lw(a){return ya(a)===void 0&&!Xv(a)}function tc(a,t){It(a.node.children,(i,l)=>{t(new Hh(i,a,l))})}function Zv(a,t,i,l){i&&t(a),tc(a,o=>{Zv(o,t,!0)})}function zw(a,t,i){let l=a.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function Kl(a){return new Ue(a.parent===null?a.name:Kl(a.parent)+"/"+a.name)}function ah(a){a.parent!==null&&jw(a.parent,a.name,a)}function jw(a,t,i){const l=Lw(i),o=Qn(a.node.children,t);l&&o?(delete a.node.children[t],a.node.childCount--,ah(a)):!l&&!o&&(a.node.children[t]=i.node,a.node.childCount++,ah(a))}const Uw=/[\[\].#$\/\u0000-\u001F\u007F]/,Bw=/[\[\].#$\u0000-\u001F\u007F]/,Uf=10*1024*1024,Jv=function(a){return typeof a=="string"&&a.length!==0&&!Uw.test(a)},Wv=function(a){return typeof a=="string"&&a.length!==0&&!Bw.test(a)},Hw=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Wv(a)},Pw=function(a,t,i,l){qh(ph(a,"value"),t,i)},qh=function(a,t,i){const l=i instanceof Ue?new sC(i,a):i;if(t===void 0)throw new Error(a+"contains undefined "+ss(l));if(typeof t=="function")throw new Error(a+"contains a function "+ss(l)+" with contents = "+t.toString());if(Qy(t))throw new Error(a+"contains "+t.toString()+" "+ss(l));if(typeof t=="string"&&t.length>Uf/3&&Xo(t)>Uf)throw new Error(a+"contains a string greater than "+Uf+" utf8 bytes "+ss(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,f=!1;if(It(t,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!Jv(h)))throw new Error(a+" contains an invalid key ("+h+") "+ss(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);aC(l,h),qh(a,m,l),lC(l)}),o&&f)throw new Error(a+' contains ".value" child '+ss(l)+" in addition to actual children.")}},$v=function(a,t,i,l){if(!Wv(i))throw new Error(ph(a,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},qw=function(a,t,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),$v(a,t,i)},Gw=function(a,t){if(ye(t)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},Vw=function(a,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Jv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!Hw(i))throw new Error(ph(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class Yw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eS(a,t){let i=null;for(let l=0;l<t.length;l++){const o=t[l],f=o.getPath();i!==null&&!_v(f,i.path)&&(a.eventLists_.push(i),i=null),i===null&&(i={events:[],path:f}),i.events.push(o)}i&&a.eventLists_.push(i)}function yn(a,t,i){eS(a,i),Fw(a,l=>on(l,t)||on(t,l))}function Fw(a,t){a.recursionDepth_++;let i=!0;for(let l=0;l<a.eventLists_.length;l++){const o=a.eventLists_[l];if(o){const f=o.path;t(f)?(Qw(a.eventLists_[l]),a.eventLists_[l]=null):i=!1}}i&&(a.eventLists_=[]),a.recursionDepth_--}function Qw(a){for(let t=0;t<a.events.length;t++){const i=a.events[t];if(i!==null){a.events[t]=null;const l=i.getEventRunner();wl&&vt("event: "+i.toString()),_a(l)}}}const Kw="repo_interrupt",Xw=25;class Zw{constructor(t,i,l,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ko(),this.transactionQueueTree_=new Hh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Jw(a,t,i){if(a.stats_=Eh(a.repoInfo_),a.forceRestClient_||D1())a.server_=new Io(a.repoInfo_,(l,o,f,h)=>{ny(a,l,o,f,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>iy(a,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{st(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}a.persistentConnection_=new Gn(a.repoInfo_,t,(l,o,f,h)=>{ny(a,l,o,f,h)},l=>{iy(a,l)},l=>{$w(a,l)},a.authTokenProvider_,a.appCheckProvider_,i),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(l=>{a.server_.refreshAuthToken(l)}),a.appCheckProvider_.addTokenChangeListener(l=>{a.server_.refreshAppCheckToken(l.token)}),a.statsReporter_=k1(a.repoInfo_,()=>new MC(a.stats_,a.server_)),a.infoData_=new NC,a.infoSyncTree_=new ey({startListening:(l,o,f,h)=>{let m=[];const g=a.infoData_.getNode(l._path);return g.isEmpty()||(m=Fl(a.infoSyncTree_,l._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),Vh(a,"connected",!1),a.serverSyncTree_=new ey({startListening:(l,o,f,h)=>(a.server_.listen(l,f,o,(m,g)=>{const p=h(m,g);yn(a.eventQueue_,l._path,p)}),[]),stopListening:(l,o)=>{a.server_.unlisten(l,o)}})}function Ww(a){const i=a.infoData_.getNode(new Ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Gh(a){return xw({timestamp:Ww(a)})}function ny(a,t,i,l,o){a.dataUpdateCount++;const f=new Ue(t);i=a.interceptServerDataCallback_?a.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(l){const g=Ro(i,p=>ft(p));h=Cw(a.serverSyncTree_,f,g,o)}else{const g=ft(i);h=Gv(a.serverSyncTree_,f,g,o)}else if(l){const g=Ro(i,p=>ft(p));h=Ew(a.serverSyncTree_,f,g)}else{const g=ft(i);h=Fl(a.serverSyncTree_,f,g)}let m=f;h.length>0&&(m=ic(a,f)),yn(a.eventQueue_,m,h)}function iy(a,t){Vh(a,"connected",t),t===!1&&nA(a)}function $w(a,t){It(t,(i,l)=>{Vh(a,i,l)})}function Vh(a,t,i){const l=new Ue("/.info/"+t),o=ft(i);a.infoData_.updateSnapshot(l,o);const f=Fl(a.infoSyncTree_,l,o);yn(a.eventQueue_,l,f)}function tS(a){return a.nextWriteId_++}function eA(a,t,i){const l=Aw(a.serverSyncTree_,t);return l!=null?Promise.resolve(l):a.server_.get(t).then(o=>{const f=ft(o).withIndex(t._queryParams.getIndex());ww(a.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=Fl(a.serverSyncTree_,t._path,f);else{const m=Bl(a.serverSyncTree_,t);h=Gv(a.serverSyncTree_,t._path,f,m)}return yn(a.eventQueue_,t._path,h),qv(a.serverSyncTree_,t,i,null,!0),f},o=>(nc(a,"get for query "+st(t)+" failed: "+o),Promise.reject(new Error(o))))}function tA(a,t,i,l,o){nc(a,"set",{path:t.toString(),value:i,priority:l});const f=Gh(a),h=ft(i,l),m=Ih(a.serverSyncTree_,t),g=Qv(h,m,f),p=tS(a),b=Pv(a.serverSyncTree_,t,g,p,!0);eS(a.eventQueue_,b),a.server_.put(t.toString(),h.val(!0),(S,D)=>{const I=S==="ok";I||Mt("set at "+t+" failed: "+S);const H=ls(a.serverSyncTree_,p,!I);yn(a.eventQueue_,t,H),sA(a,o,S,D)});const v=lS(a,t);ic(a,v),yn(a.eventQueue_,v,[])}function nA(a){nc(a,"onDisconnectEvents");const t=Gh(a),i=ko();eh(a.onDisconnect_,Ae(),(o,f)=>{const h=kw(o,f,a.serverSyncTree_,t);wv(i,o,h)});let l=[];eh(i,Ae(),(o,f)=>{l=l.concat(Fl(a.serverSyncTree_,o,f));const h=lS(a,o);ic(a,h)}),a.onDisconnect_=ko(),yn(a.eventQueue_,Ae(),l)}function iA(a){a.persistentConnection_&&a.persistentConnection_.interrupt(Kw)}function nc(a,...t){let i="";a.persistentConnection_&&(i=a.persistentConnection_.id+":"),vt(i,...t)}function sA(a,t,i,l){t&&_a(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let f=o;l&&(f+=": "+l);const h=new Error(f);h.code=o,t(h)}})}function nS(a,t,i){return Ih(a.serverSyncTree_,t,i)||te.EMPTY_NODE}function Yh(a,t=a.transactionQueueTree_){if(t||sc(a,t),ya(t)){const i=sS(a,t);B(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&aA(a,Kl(t),i)}else Xv(t)&&tc(t,i=>{Yh(a,i)})}function aA(a,t,i){const l=i.map(p=>p.currentWriteId),o=nS(a,t,l);let f=o;const h=o.hash();for(let p=0;p<i.length;p++){const b=i[p];B(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const v=Et(t,b.path);f=f.updateChild(v,b.currentOutputSnapshotRaw)}const m=f.val(!0),g=t;a.server_.put(g.toString(),m,p=>{nc(a,"transaction put response",{path:g.toString(),status:p});let b=[];if(p==="ok"){const v=[];for(let S=0;S<i.length;S++)i[S].status=2,b=b.concat(ls(a.serverSyncTree_,i[S].currentWriteId)),i[S].onComplete&&v.push(()=>i[S].onComplete(null,!0,i[S].currentOutputSnapshotResolved)),i[S].unwatcher();sc(a,Ph(a.transactionQueueTree_,t)),Yh(a,a.transactionQueueTree_),yn(a.eventQueue_,t,b);for(let S=0;S<v.length;S++)_a(v[S])}else{if(p==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{Mt("transaction at "+g.toString()+" failed: "+p);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=p}ic(a,t)}},h)}function ic(a,t){const i=iS(a,t),l=Kl(i),o=sS(a,i);return lA(a,o,l),l}function lA(a,t,i){if(t.length===0)return;const l=[];let o=[];const h=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const g=t[m],p=Et(i,g.path);let b=!1,v;if(B(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)b=!0,v=g.abortReason,o=o.concat(ls(a.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=Xw)b=!0,v="maxretry",o=o.concat(ls(a.serverSyncTree_,g.currentWriteId,!0));else{const S=nS(a,g.path,h);g.currentInputSnapshot=S;const D=t[m].update(S.val());if(D!==void 0){qh("transaction failed: Data returned ",D,g.path);let I=ft(D);typeof D=="object"&&D!=null&&Qn(D,".priority")||(I=I.updatePriority(S.getPriority()));const ne=g.currentWriteId,j=Gh(a),$=Qv(I,S,j);g.currentOutputSnapshotRaw=I,g.currentOutputSnapshotResolved=$,g.currentWriteId=tS(a),h.splice(h.indexOf(ne),1),o=o.concat(Pv(a.serverSyncTree_,g.path,$,g.currentWriteId,g.applyLocally)),o=o.concat(ls(a.serverSyncTree_,ne,!0))}else b=!0,v="nodata",o=o.concat(ls(a.serverSyncTree_,g.currentWriteId,!0))}yn(a.eventQueue_,i,o),o=[],b&&(t[m].status=2,(function(S){setTimeout(S,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(v==="nodata"?l.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):l.push(()=>t[m].onComplete(new Error(v),!1,null))))}sc(a,a.transactionQueueTree_);for(let m=0;m<l.length;m++)_a(l[m]);Yh(a,a.transactionQueueTree_)}function iS(a,t){let i,l=a.transactionQueueTree_;for(i=ye(t);i!==null&&ya(l)===void 0;)l=Ph(l,i),t=Be(t),i=ye(t);return l}function sS(a,t){const i=[];return aS(a,t,i),i.sort((l,o)=>l.order-o.order),i}function aS(a,t,i){const l=ya(t);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);tc(t,o=>{aS(a,o,i)})}function sc(a,t){const i=ya(t);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,Kv(t,i.length>0?i:void 0)}tc(t,l=>{sc(a,l)})}function lS(a,t){const i=Kl(iS(a,t)),l=Ph(a.transactionQueueTree_,t);return zw(l,o=>{Bf(a,o)}),Bf(a,l),Zv(l,o=>{Bf(a,o)}),i}function Bf(a,t){const i=ya(t);if(i){const l=[];let o=[],f=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(B(f===h-1,"All SENT items should be at beginning of queue."),f=h,i[h].status=3,i[h].abortReason="set"):(B(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(ls(a.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&l.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Kv(t,void 0):i.length=f+1,yn(a.eventQueue_,Kl(t),o);for(let h=0;h<l.length;h++)_a(l[h])}}function rA(a){let t="";const i=a.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function oA(a){const t={};a.charAt(0)==="?"&&(a=a.substring(1));for(const i of a.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Mt(`Invalid query segment '${i}' in query '${a}'`)}return t}const sy=function(a,t){const i=cA(a),l=i.namespace;i.domain==="firebase.com"&&Yn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&Yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||S1();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new av(i.host,i.secure,l,o,t,"",l!==i.subdomain),path:new Ue(i.pathString)}},cA=function(a){let t="",i="",l="",o="",f="",h=!0,m="https",g=443;if(typeof a=="string"){let p=a.indexOf("//");p>=0&&(m=a.substring(0,p-1),a=a.substring(p+2));let b=a.indexOf("/");b===-1&&(b=a.length);let v=a.indexOf("?");v===-1&&(v=a.length),t=a.substring(0,Math.min(b,v)),b<v&&(o=rA(a.substring(b,v)));const S=oA(a.substring(Math.min(a.length,v)));p=t.indexOf(":"),p>=0?(h=m==="https"||m==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const D=t.slice(0,p);if(D.toLowerCase()==="localhost")i="localhost";else if(D.split(".").length<=2)i=D;else{const I=t.indexOf(".");l=t.substring(0,I).toLowerCase(),i=t.substring(I+1),f=l}"ns"in S&&(f=S.ns)}return{host:t,port:g,domain:i,subdomain:l,secure:h,scheme:m,pathString:o,namespace:f}};class uA{constructor(t,i,l,o){this.eventType=t,this.eventRegistration=i,this.snapshot=l,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+st(this.snapshot.exportVal())}}class fA{constructor(t,i,l){this.eventRegistration=t,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class hA{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Fh{constructor(t,i,l,o){this._repo=t,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return pe(this._path)?null:mv(this._path)}get ref(){return new Kn(this._repo,this._path)}get _queryIdentifier(){const t=G_(this._queryParams),i=vh(t);return i==="{}"?"default":i}get _queryObject(){return G_(this._queryParams)}isEqual(t){if(t=kt(t),!(t instanceof Fh))return!1;const i=this._repo===t._repo,l=_v(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+iC(this._path)}}class Kn extends Fh{constructor(t,i){super(t,i,new Ah,!1)}get parent(){const t=gv(this._path);return t===null?null:new Kn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Hl{constructor(t,i,l){this._node=t,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Ue(t),l=lh(this.ref,t);return new Hl(this._node.getChild(i),l,Ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>t(new Hl(o,lh(this.ref,l),Ke)))}hasChild(t){const i=new Ue(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function rS(a,t){return a=kt(a),a._checkNotDeleted("ref"),t!==void 0?lh(a._root,t):a._root}function lh(a,t){return a=kt(a),ye(a._path)===null?qw("child","path",t):$v("child","path",t),new Kn(a._repo,at(a._path,t))}function dA(a,t){a=kt(a),Gw("set",a._path),Pw("set",t,a._path);const i=new Ko;return tA(a._repo,a._path,t,null,i.wrapCallback(()=>{})),i.promise}function mA(a){a=kt(a);const t=new hA(()=>{}),i=new Qh(t);return eA(a._repo,a,i).then(l=>new Hl(l,new Kn(a._repo,a._path),a._queryParams.getIndex()))}class Qh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const l=i._queryParams.getIndex();return new uA("value",this,new Hl(t.snapshotNode,new Kn(i._repo,i._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new fA(this,t,i):null}matches(t){return t instanceof Qh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}dw(Kn);yw(Kn);const pA="FIREBASE_DATABASE_EMULATOR_HOST",rh={};let gA=!1;function _A(a,t,i,l){const o=t.lastIndexOf(":"),f=t.substring(0,o),h=da(f);a.repoInfo_=new av(t,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,i),l&&(a.authTokenProvider_=l)}function yA(a,t,i,l,o){let f=l||a.options.databaseURL;f===void 0&&(a.options.projectId||Yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=sy(f,o),m=h.repoInfo,g;typeof process<"u"&&w_&&(g=w_[pA]),g?(f=`http://${g}?ns=${m.namespace}`,h=sy(f,o),m=h.repoInfo):h.repoInfo.secure;const p=new x1(a.name,a.options,t);Vw("Invalid Firebase Database URL",h),pe(h.path)||Yn("Database URL must point to the root of a Firebase Database (not including a child path).");const b=SA(m,a,p,new O1(a,i));return new EA(b,a)}function vA(a,t){const i=rh[t];(!i||i[a.key]!==a)&&Yn(`Database ${t}(${a.repoInfo_}) has already been deleted.`),iA(a),delete i[a.key]}function SA(a,t,i,l){let o=rh[t.name];o||(o={},rh[t.name]=o);let f=o[a.toURLString()];return f&&Yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new Zw(a,gA,i,l),o[a.toURLString()]=f,f}class EA{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Jw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kn(this._repo,Ae())),this._rootInternal}_delete(){return this._rootInternal!==null&&(vA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Yn("Cannot call "+t+" on a deleted database.")}}function bA(a=Py(),t){const i=yh(a,"database").getImmediate({identifier:t});if(!i._instanceStarted){const l=Ub("database");l&&TA(i,...l)}return i}function TA(a,t,i,l={}){a=kt(a),a._checkNotDeleted("useEmulator");const o=`${t}:${i}`,f=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&os(l,f.repoInfo_.emulatorOptions))return;Yn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)l.mockUserToken&&Yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Eo(Eo.OWNER);else if(l.mockUserToken){const m=typeof l.mockUserToken=="string"?l.mockUserToken:Bb(l.mockUserToken,a.app.options.projectId);h=new Eo(m)}da(t)&&(ky(t),Ly("Database",!0)),_A(f,o,l,h)}function CA(a){m1(pa),oa(new cs("database",(t,{instanceIdentifier:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),f=t.getProvider("app-check-internal");return yA(l,o,f,i)},"PUBLIC").setMultipleInstances(!0)),Ai(A_,N_,a),Ai(A_,N_,"esm2020")}Gn.prototype.simpleListen=function(a,t){this.sendRequest("q",{p:a},t)};Gn.prototype.echo=function(a,t){this.sendRequest("echo",{d:a},t)};CA();function oS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wA=oS,cS=new ql("auth","Firebase",oS());const qo=new gh("@firebase/auth");function AA(a,...t){qo.logLevel<=Le.WARN&&qo.warn(`Auth (${pa}): ${a}`,...t)}function bo(a,...t){qo.logLevel<=Le.ERROR&&qo.error(`Auth (${pa}): ${a}`,...t)}function vn(a,...t){throw Xh(a,...t)}function hn(a,...t){return Xh(a,...t)}function Kh(a,t,i){const l={...wA(),[t]:i};return new ql("auth","Firebase",l).create(t,{appName:a.name})}function Di(a){return Kh(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NA(a,t,i){const l=i;if(!(t instanceof l))throw l.name!==t.constructor.name&&vn(a,"argument-error"),Kh(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xh(a,...t){if(typeof a!="string"){const i=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=a.name),a._errorFactory.create(i,...l)}return cS.create(a,...t)}function ae(a,t,...i){if(!a)throw Xh(t,...i)}function Pn(a){const t="INTERNAL ASSERTION FAILED: "+a;throw bo(t),new Error(t)}function Fn(a,t){a||Pn(t)}function oh(){return typeof self<"u"&&self.location?.href||""}function RA(){return ay()==="http:"||ay()==="https:"}function ay(){return typeof self<"u"&&self.location?.protocol||null}function DA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RA()||Gb()||"connection"in navigator)?navigator.onLine:!0}function OA(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Fn(i>t,"Short delay should be less than long delay!"),this.isMobile=mh()||zy()}get(){return DA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zh(a,t){Fn(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class uS{static initialize(t,i,l){this.fetchImpl=t,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const MA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IA=new Xl(3e4,6e4);function ac(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function va(a,t,i,l,o={}){return fS(a,o,async()=>{let f={},h={};l&&(t==="GET"?h=l:f={body:JSON.stringify(l)});const m=ma({key:a.config.apiKey,...h}).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const p={method:t,headers:g,...f};return qb()||(p.referrerPolicy="no-referrer"),a.emulatorConfig&&da(a.emulatorConfig.host)&&(p.credentials="include"),uS.fetch()(await dS(a,a.config.apiHost,i,m),p)})}async function fS(a,t,i){a._canInitEmulator=!1;const l={...xA,...t};try{const o=new kA(a),f=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await f.json();if("needConfirmation"in h)throw So(a,"account-exists-with-different-credential",h);if(f.ok&&!("errorMessage"in h))return h;{const m=f.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw So(a,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw So(a,"email-already-in-use",h);if(g==="USER_DISABLED")throw So(a,"user-disabled",h);const b=l[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Kh(a,b,p);vn(a,b)}}catch(o){if(o instanceof ki)throw o;vn(a,"network-request-failed",{message:String(o)})}}async function hS(a,t,i,l,o={}){const f=await va(a,t,i,l,o);return"mfaPendingCredential"in f&&vn(a,"multi-factor-auth-required",{_serverResponse:f}),f}async function dS(a,t,i,l){const o=`${t}${i}?${l}`,f=a,h=f.config.emulator?Zh(a.config,o):`${a.config.apiScheme}://${o}`;return MA.includes(i)&&(await f._persistenceManagerAvailable,f._getPersistenceType()==="COOKIE")?f._getPersistence()._getFinalTarget(h).toString():h}class kA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(hn(this.auth,"network-request-failed")),IA.get())})}}function So(a,t,i){const l={appName:a.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=hn(a,t,l);return o.customData._tokenResponse=i,o}async function LA(a,t){return va(a,"POST","/v1/accounts:delete",t)}async function Go(a,t){return va(a,"POST","/v1/accounts:lookup",t)}function Ol(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zA(a,t=!1){const i=kt(a),l=await i.getIdToken(t),o=Jh(l);ae(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const f=typeof o.firebase=="object"?o.firebase:void 0,h=f?.sign_in_provider;return{claims:o,token:l,authTime:Ol(Hf(o.auth_time)),issuedAtTime:Ol(Hf(o.iat)),expirationTime:Ol(Hf(o.exp)),signInProvider:h||null,signInSecondFactor:f?.sign_in_second_factor||null}}function Hf(a){return Number(a)*1e3}function Jh(a){const[t,i,l]=a.split(".");if(t===void 0||i===void 0||l===void 0)return bo("JWT malformed, contained fewer than 3 sections"),null;try{const o=No(i);return o?JSON.parse(o):(bo("Failed to decode base64 JWT payload"),null)}catch(o){return bo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ly(a){const t=Jh(a);return ae(t,"internal-error"),ae(typeof t.exp<"u","internal-error"),ae(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Pl(a,t,i=!1){if(i)return t;try{return await t}catch(l){throw l instanceof ki&&jA(l)&&a.auth.currentUser===a&&await a.auth.signOut(),l}}function jA({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class UA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ch{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Vo(a){const t=a.auth,i=await a.getIdToken(),l=await Pl(a,Go(t,{idToken:i}));ae(l?.users.length,t,"internal-error");const o=l.users[0];a._notifyReloadListener(o);const f=o.providerUserInfo?.length?mS(o.providerUserInfo):[],h=HA(a.providerData,f),m=a.isAnonymous,g=!(a.email&&o.passwordHash)&&!h?.length,p=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ch(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(a,b)}async function BA(a){const t=kt(a);await Vo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HA(a,t){return[...a.filter(l=>!t.some(o=>o.providerId===l.providerId)),...t]}function mS(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function PA(a,t){const i=await fS(a,{},async()=>{const l=ma({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:f}=a.config,h=await dS(a,o,"/v1/token",`key=${f}`),m=await a._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:l};return a.emulatorConfig&&da(a.emulatorConfig.host)&&(g.credentials="include"),uS.fetch()(h,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function qA(a,t){return va(a,"POST","/v2/accounts:revokeToken",ac(a,t))}class sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ae(t.idToken,"internal-error"),ae(typeof t.idToken<"u","internal-error"),ae(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ly(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){ae(t.length!==0,"internal-error");const i=ly(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:l,refreshToken:o,expiresIn:f}=await PA(t,i);this.updateTokensAndExpiration(l,o,Number(f))}updateTokensAndExpiration(t,i,l){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,i){const{refreshToken:l,accessToken:o,expirationTime:f}=i,h=new sa;return l&&(ae(typeof l=="string","internal-error",{appName:t}),h.refreshToken=l),o&&(ae(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),f&&(ae(typeof f=="number","internal-error",{appName:t}),h.expirationTime=f),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new sa,this.toJSON())}_performRefresh(){return Pn("not implemented")}}function Si(a,t){ae(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class un{constructor({uid:t,auth:i,stsTokenManager:l,...o}){this.providerId="firebase",this.proactiveRefresh=new UA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ch(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,t));return ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return zA(this,t)}reload(){return BA(this)}_assign(t){this!==t&&(ae(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new un({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),i&&await Vo(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(Di(this.auth));const t=await this.getIdToken();return await Pl(this,LA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const l=i.displayName??void 0,o=i.email??void 0,f=i.phoneNumber??void 0,h=i.photoURL??void 0,m=i.tenantId??void 0,g=i._redirectEventId??void 0,p=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:v,emailVerified:S,isAnonymous:D,providerData:I,stsTokenManager:H}=i;ae(v&&H,t,"internal-error");const ne=sa.fromJSON(this.name,H);ae(typeof v=="string",t,"internal-error"),Si(l,t.name),Si(o,t.name),ae(typeof S=="boolean",t,"internal-error"),ae(typeof D=="boolean",t,"internal-error"),Si(f,t.name),Si(h,t.name),Si(m,t.name),Si(g,t.name),Si(p,t.name),Si(b,t.name);const j=new un({uid:v,auth:t,email:o,emailVerified:S,displayName:l,isAnonymous:D,photoURL:h,phoneNumber:f,tenantId:m,stsTokenManager:ne,createdAt:p,lastLoginAt:b});return I&&Array.isArray(I)&&(j.providerData=I.map($=>({...$}))),g&&(j._redirectEventId=g),j}static async _fromIdTokenResponse(t,i,l=!1){const o=new sa;o.updateFromServerResponse(i);const f=new un({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:l});return await Vo(f),f}static async _fromGetAccountInfoResponse(t,i,l){const o=i.users[0];ae(o.localId!==void 0,"internal-error");const f=o.providerUserInfo!==void 0?mS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!f?.length,m=new sa;m.updateFromIdToken(l);const g=new un({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ch(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!f?.length};return Object.assign(g,p),g}}const ry=new Map;function qn(a){Fn(a instanceof Function,"Expected a class definition");let t=ry.get(a);return t?(Fn(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,ry.set(a,t),t)}class pS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}pS.type="NONE";const oy=pS;function To(a,t,i){return`firebase:${a}:${t}:${i}`}class aa{constructor(t,i,l){this.persistence=t,this.auth=i,this.userKey=l;const{config:o,name:f}=this.auth;this.fullUserKey=To(this.userKey,o.apiKey,f),this.fullPersistenceKey=To("persistence",o.apiKey,f),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Go(this.auth,{idToken:t}).catch(()=>{});return i?un._fromGetAccountInfoResponse(this.auth,i,t):null}return un._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,l="authUser"){if(!i.length)return new aa(qn(oy),t,l);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let f=o[0]||qn(oy);const h=To(l,t.config.apiKey,t.name);let m=null;for(const p of i)try{const b=await p._get(h);if(b){let v;if(typeof b=="string"){const S=await Go(t,{idToken:b}).catch(()=>{});if(!S)break;v=await un._fromGetAccountInfoResponse(t,S,b)}else v=un._fromJSON(t,b);p!==f&&(m=v),f=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!f._shouldAllowMigration||!g.length?new aa(f,t,l):(f=g[0],m&&await f._set(h,m.toJSON()),await Promise.all(i.map(async p=>{if(p!==f)try{await p._remove(h)}catch{}})),new aa(f,t,l))}}function cy(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ES(t))return"Blackberry";if(bS(t))return"Webos";if(_S(t))return"Safari";if((t.includes("chrome/")||yS(t))&&!t.includes("edge/"))return"Chrome";if(SS(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=a.match(i);if(l?.length===2)return l[1]}return"Other"}function gS(a=bt()){return/firefox\//i.test(a)}function _S(a=bt()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yS(a=bt()){return/crios\//i.test(a)}function vS(a=bt()){return/iemobile/i.test(a)}function SS(a=bt()){return/android/i.test(a)}function ES(a=bt()){return/blackberry/i.test(a)}function bS(a=bt()){return/webos/i.test(a)}function Wh(a=bt()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function GA(a=bt()){return Wh(a)&&!!window.navigator?.standalone}function VA(){return Vb()&&document.documentMode===10}function TS(a=bt()){return Wh(a)||SS(a)||bS(a)||ES(a)||/windows phone/i.test(a)||vS(a)}function CS(a,t=[]){let i;switch(a){case"Browser":i=cy(bt());break;case"Worker":i=`${cy(bt())}-${a}`;break;default:i=a}const l=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${pa}/${l}`}class YA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const l=f=>new Promise((h,m)=>{try{const g=t(f);h(g)}catch(g){m(g)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const l of this.queue)await l(t),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}}}async function FA(a,t={}){return va(a,"GET","/v2/passwordPolicy",ac(a,t))}const QA=6;class KA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??QA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=t.length>=l),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<t.length;o++)l=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,i,l,o,f){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=f))}}class XA{constructor(t,i,l,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uy(this),this.idTokenSubscription=new uy(this),this.beforeStateQueue=new YA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(f=>this._resolvePersistenceManagerAvailable=f)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=qn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await aa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Go(this,{idToken:t}),l=await un._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(tn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=this.redirectUser?._redirectEventId,h=l?._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===h)&&m?.user&&(l=m.user,o=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Vo(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=OA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(tn(this.app))return Promise.reject(Di(this));const i=t?kt(t):null;return i&&ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&ae(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return tn(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await FA(this),i=new KA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,i,l){return this.registerStateListener(this.authStateSubscription,t,i,l)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,l){return this.registerStateListener(this.idTokenSubscription,t,i,l)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await qA(this,l)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const l=await this.getOrInitRedirectPersistenceManager(i);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&qn(t)||this._popupRedirectResolver;ae(i,this,"argument-error"),this.redirectPersistenceManager=await aa.create(this,[qn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,l,o){if(this._deleted)return()=>{};const f=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(m,this,"internal-error"),m.then(()=>{h||f(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,l,o);return()=>{h=!0,g()}}else{const g=t.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=CS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&AA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Zl(a){return kt(a)}class uy{constructor(t){this.auth=t,this.observer=null,this.addObserver=eT(i=>this.observer=i)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZA(a){$h=a}function JA(a){return $h.loadJS(a)}function WA(){return $h.gapiScript}function $A(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function eN(a,t){const i=yh(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),f=i.getOptions();if(os(f,t??{}))return o;vn(o,"already-initialized")}return i.initialize({options:t})}function tN(a,t){const i=t?.persistence||[],l=(Array.isArray(i)?i:[i]).map(qn);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(l,t?.popupRedirectResolver)}function nN(a,t,i){const l=Zl(a);ae(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const o=!1,f=wS(t),{host:h,port:m}=iN(t),g=m===null?"":`:${m}`,p={url:`${f}//${h}${g}/`},b=Object.freeze({host:h,port:m,protocol:f.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!l._canInitEmulator){ae(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),ae(os(p,l.config.emulator)&&os(b,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=p,l.emulatorConfig=b,l.settings.appVerificationDisabledForTesting=!0,da(h)?(ky(`${f}//${h}${g}`),Ly("Auth",!0)):sN()}function wS(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function iN(a){const t=wS(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const f=o[1];return{host:f,port:fy(l.substr(f.length+1))}}else{const[f,h]=l.split(":");return{host:f,port:fy(h)}}}function fy(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function sN(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class AS{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Pn("not implemented")}_getIdTokenResponse(t){return Pn("not implemented")}_linkToIdToken(t,i){return Pn("not implemented")}_getReauthenticationResolver(t){return Pn("not implemented")}}async function la(a,t){return hS(a,"POST","/v1/accounts:signInWithIdp",ac(a,t))}const aN="http://localhost";class ds extends AS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ds(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):vn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:o,...f}=i;if(!l||!o)return null;const h=new ds(l,o);return h.idToken=f.idToken||void 0,h.accessToken=f.accessToken||void 0,h.secret=f.secret,h.nonce=f.nonce,h.pendingToken=f.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return la(t,i)}_linkToIdToken(t,i){const l=this.buildRequest();return l.idToken=i,la(t,l)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,la(t,i)}buildRequest(){const t={requestUri:aN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ma(i)}return t}}class ed{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends ed{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ei extends Jl{constructor(){super("facebook.com")}static credential(t){return ds._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ei.credentialFromTaggedObject(t)}static credentialFromError(t){return Ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ei.credential(t.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";class Bn extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ds._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Bn.credentialFromTaggedObject(t)}static credentialFromError(t){return Bn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:l}=t;if(!i&&!l)return null;try{return Bn.credential(i,l)}catch{return null}}}Bn.GOOGLE_SIGN_IN_METHOD="google.com";Bn.PROVIDER_ID="google.com";class bi extends Jl{constructor(){super("github.com")}static credential(t){return ds._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bi.credentialFromTaggedObject(t)}static credentialFromError(t){return bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bi.credential(t.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";class Ti extends Jl{constructor(){super("twitter.com")}static credential(t,i){return ds._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ti.credentialFromTaggedObject(t)}static credentialFromError(t){return Ti.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=t;if(!i||!l)return null;try{return Ti.credential(i,l)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";async function lN(a,t){return hS(a,"POST","/v1/accounts:signUp",ac(a,t))}class Ii{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,l,o=!1){const f=await un._fromIdTokenResponse(t,l,o),h=hy(l);return new Ii({user:f,providerId:h,_tokenResponse:l,operationType:i})}static async _forOperation(t,i,l){await t._updateTokensIfNecessary(l,!0);const o=hy(l);return new Ii({user:t,providerId:o,_tokenResponse:l,operationType:i})}}function hy(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function rN(a){if(tn(a.app))return Promise.reject(Di(a));const t=Zl(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ii({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await lN(t,{returnSecureToken:!0}),l=await Ii._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(l.user),l}class Yo extends ki{constructor(t,i,l,o){super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,Yo.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,i,l,o){return new Yo(t,i,l,o)}}function NS(a,t,i,l){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(f=>{throw f.code==="auth/multi-factor-auth-required"?Yo._fromErrorAndOperation(a,f,t,l):f})}async function oN(a,t,i=!1){const l=await Pl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Ii._forOperation(a,"link",l)}async function cN(a,t,i=!1){const{auth:l}=a;if(tn(l.app))return Promise.reject(Di(l));const o="reauthenticate";try{const f=await Pl(a,NS(l,o,t,a),i);ae(f.idToken,l,"internal-error");const h=Jh(f.idToken);ae(h,l,"internal-error");const{sub:m}=h;return ae(a.uid===m,l,"user-mismatch"),Ii._forOperation(a,o,f)}catch(f){throw f?.code==="auth/user-not-found"&&vn(l,"user-mismatch"),f}}async function uN(a,t,i=!1){if(tn(a.app))return Promise.reject(Di(a));const l="signIn",o=await NS(a,l,t),f=await Ii._fromIdTokenResponse(a,l,o);return i||await a._updateCurrentUser(f.user),f}function fN(a,t,i,l){return kt(a).onIdTokenChanged(t,i,l)}function hN(a,t,i){return kt(a).beforeAuthStateChanged(t,i)}function dN(a,t,i,l){return kt(a).onAuthStateChanged(t,i,l)}function mN(a){return kt(a).signOut()}const Fo="__sak";class RS{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Fo,"1"),this.storage.removeItem(Fo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const pN=1e3,gN=10;class DS extends RS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&t(i,o,l)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const l=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(l);!i&&this.localCache[l]===h||this.notifyListeners(l,h)},f=this.storage.getItem(l);VA()&&f!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,gN):o()}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:l}),!0)})},pN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}DS.type="LOCAL";const _N=DS;class OS extends RS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}OS.type="SESSION";const xS=OS;function yN(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class lc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const l=new lc(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:l,eventType:o,data:f}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const m=Array.from(h).map(async p=>p(i.origin,f)),g=await yN(m);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lc.receivers=[];function td(a="",t=10){let i="";for(let l=0;l<t;l++)i+=Math.floor(Math.random()*10);return a+i}class vN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let f,h;return new Promise((m,g)=>{const p=td("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},l);h={messageChannel:o,onMessage(v){const S=v;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(b),f=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(f),m(S.data.response);break;default:clearTimeout(b),clearTimeout(f),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function _n(){return window}function SN(a){_n().location.href=a}function MS(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function EN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bN(){return navigator?.serviceWorker?.controller||null}function TN(){return MS()?self:null}const IS="firebaseLocalStorageDb",CN=1,Qo="firebaseLocalStorage",kS="fbase_key";class Wl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rc(a,t){return a.transaction([Qo],t?"readwrite":"readonly").objectStore(Qo)}function wN(){const a=indexedDB.deleteDatabase(IS);return new Wl(a).toPromise()}function uh(){const a=indexedDB.open(IS,CN);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const l=a.result;try{l.createObjectStore(Qo,{keyPath:kS})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const l=a.result;l.objectStoreNames.contains(Qo)?t(l):(l.close(),await wN(),t(await uh()))})})}async function dy(a,t,i){const l=rc(a,!0).put({[kS]:t,value:i});return new Wl(l).toPromise()}async function AN(a,t){const i=rc(a,!1).get(t),l=await new Wl(i).toPromise();return l===void 0?null:l.value}function my(a,t){const i=rc(a,!0).delete(t);return new Wl(i).toPromise()}const NN=800,RN=3;class LS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uh(),this.db)}async _withRetries(t){let i=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(i++>RN)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lc._getInstance(TN()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EN(),!this.activeServiceWorker)return;this.sender=new vN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||bN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await uh();return await dy(t,Fo,"1"),await my(t,Fo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>dy(l,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(l=>AN(l,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>my(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const f=rc(o,!1).getAll();return new Wl(f).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(t.length!==0)for(const{fbase_key:o,value:f}of t)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(f)&&(this.notifyListeners(o,f),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LS.type="LOCAL";const DN=LS;new Xl(3e4,6e4);function zS(a,t){return t?qn(t):(ae(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class nd extends AS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return la(t,this._buildIdpRequest())}_linkToIdToken(t,i){return la(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return la(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function ON(a){return uN(a.auth,new nd(a),a.bypassAuthState)}function xN(a){const{auth:t,user:i}=a;return ae(i,t,"internal-error"),cN(i,new nd(a),a.bypassAuthState)}async function MN(a){const{auth:t,user:i}=a;return ae(i,t,"internal-error"),oN(i,new nd(a),a.bypassAuthState)}class jS{constructor(t,i,l,o,f=!1){this.auth=t,this.resolver=l,this.user=o,this.bypassAuthState=f,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:l,postBody:o,tenantId:f,error:h,type:m}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:l,tenantId:f||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ON;case"linkViaPopup":case"linkViaRedirect":return MN;case"reauthViaPopup":case"reauthViaRedirect":return xN;default:vn(this.auth,"internal-error")}}resolve(t){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const IN=new Xl(2e3,1e4);async function kN(a,t,i){if(tn(a.app))return Promise.reject(hn(a,"operation-not-supported-in-this-environment"));const l=Zl(a);NA(a,t,ed);const o=zS(l,i);return new rs(l,"signInViaPopup",t,o).executeNotNull()}class rs extends jS{constructor(t,i,l,o,f){super(t,i,o,f),this.provider=l,this.authWindow=null,this.pollId=null,rs.currentPopupAction&&rs.currentPopupAction.cancel(),rs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ae(t,this.auth,"internal-error"),t}async onExecution(){Fn(this.filter.length===1,"Popup operations only handle one event");const t=td();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,IN.get())};t()}}rs.currentPopupAction=null;const LN="pendingRedirect",Co=new Map;class zN extends jS{constructor(t,i,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let t=Co.get(this.auth._key());if(!t){try{const l=await jN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(i){t=()=>Promise.reject(i)}Co.set(this.auth._key(),t)}return this.bypassAuthState||Co.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jN(a,t){const i=HN(t),l=BN(a);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function UN(a,t){Co.set(a._key(),t)}function BN(a){return qn(a._redirectPersistence)}function HN(a){return To(LN,a.config.apiKey,a.name)}async function PN(a,t,i=!1){if(tn(a.app))return Promise.reject(Di(a));const l=Zl(a),o=zS(l,t),h=await new zN(l,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await l._persistUserIfCurrent(h.user),await l._setRedirectUser(null,t)),h}const qN=600*1e3;class GN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(i=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VN(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!US(t)){const l=t.error.code?.split("auth/")[1]||"internal-error";i.onError(hn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const l=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=qN&&this.cachedEventUids.clear(),this.cachedEventUids.has(py(t))}saveEventToCache(t){this.cachedEventUids.add(py(t)),this.lastProcessedEventTime=Date.now()}}function py(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function US({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function VN(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return US(a);default:return!1}}async function YN(a,t={}){return va(a,"GET","/v1/projects",t)}const FN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QN=/^https?/;async function KN(a){if(a.config.emulator)return;const{authorizedDomains:t}=await YN(a);for(const i of t)try{if(XN(i))return}catch{}vn(a,"unauthorized-domain")}function XN(a){const t=oh(),{protocol:i,hostname:l}=new URL(t);if(a.startsWith("chrome-extension://")){const h=new URL(a);return h.hostname===""&&l===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===l}if(!QN.test(i))return!1;if(FN.test(a))return l===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}const ZN=new Xl(3e4,6e4);function gy(){const a=_n().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function JN(a){return new Promise((t,i)=>{function l(){gy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gy(),i(hn(a,"network-request-failed"))},timeout:ZN.get()})}if(_n().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(_n().gapi?.load)l();else{const o=$A("iframefcb");return _n()[o]=()=>{gapi.load?l():i(hn(a,"network-request-failed"))},JA(`${WA()}?onload=${o}`).catch(f=>i(f))}}).catch(t=>{throw wo=null,t})}let wo=null;function WN(a){return wo=wo||JN(a),wo}const $N=new Xl(5e3,15e3),eR="__/auth/iframe",tR="emulator/auth/iframe",nR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sR(a){const t=a.config;ae(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Zh(t,tR):`https://${a.config.authDomain}/${eR}`,l={apiKey:t.apiKey,appName:a.name,v:pa},o=iR.get(a.config.apiHost);o&&(l.eid=o);const f=a._getFrameworks();return f.length&&(l.fw=f.join(",")),`${i}?${ma(l).slice(1)}`}async function aR(a){const t=await WN(a),i=_n().gapi;return ae(i,a,"internal-error"),t.open({where:document.body,url:sR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nR,dontclear:!0},l=>new Promise(async(o,f)=>{await l.restyle({setHideOnLeave:!1});const h=hn(a,"network-request-failed"),m=_n().setTimeout(()=>{f(h)},$N.get());function g(){_n().clearTimeout(m),o(l)}l.ping(g).then(g,()=>{f(h)})}))}const lR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rR=500,oR=600,cR="_blank",uR="http://localhost";class _y{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fR(a,t,i,l=rR,o=oR){const f=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-l)/2,0).toString();let m="";const g={...lR,width:l.toString(),height:o.toString(),top:f,left:h},p=bt().toLowerCase();i&&(m=yS(p)?cR:i),gS(p)&&(t=t||uR,g.scrollbars="yes");const b=Object.entries(g).reduce((S,[D,I])=>`${S}${D}=${I},`,"");if(GA(p)&&m!=="_self")return hR(t||"",m),new _y(null);const v=window.open(t||"",m,b);ae(v,a,"popup-blocked");try{v.focus()}catch{}return new _y(v)}function hR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}const dR="__/auth/handler",mR="emulator/auth/handler",pR=encodeURIComponent("fac");async function yy(a,t,i,l,o,f){ae(a.config.authDomain,a,"auth-domain-config-required"),ae(a.config.apiKey,a,"invalid-api-key");const h={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:l,v:pa,eventId:o};if(t instanceof ed){t.setDefaultLanguage(a.languageCode),h.providerId=t.providerId||"",Yf(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,v]of Object.entries({}))h[b]=v}if(t instanceof Jl){const b=t.getScopes().filter(v=>v!=="");b.length>0&&(h.scopes=b.join(","))}a.tenantId&&(h.tid=a.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await a._getAppCheckToken(),p=g?`#${pR}=${encodeURIComponent(g)}`:"";return`${gR(a)}?${ma(m).slice(1)}${p}`}function gR({config:a}){return a.emulator?Zh(a,mR):`https://${a.authDomain}/${dR}`}const Pf="webStorageSupport";class _R{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xS,this._completeRedirectFn=PN,this._overrideRedirectResult=UN}async _openPopup(t,i,l,o){Fn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const f=await yy(t,i,l,oh(),o);return fR(t,f,td())}async _openRedirect(t,i,l,o){await this._originValidation(t);const f=await yy(t,i,l,oh(),o);return SN(f),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:f}=this.eventManagers[i];return o?Promise.resolve(o):(Fn(f,"If manager is not set, promise should be"),f)}const l=this.initAndGetManager(t);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(t){const i=await aR(t),l=new GN(t);return i.register("authEvent",o=>(ae(o?.authEvent,t,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=i,l}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Pf,{type:Pf},o=>{const f=o?.[0]?.[Pf];f!==void 0&&i(!!f),vn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=KN(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return TS()||_S()||Wh()}}const yR=_R;var vy="@firebase/auth",Sy="1.12.0";class vR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(l=>{t(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ER(a){oa(new cs("auth",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),f=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=l.options;ae(h&&!h.includes(":"),"invalid-api-key",{appName:l.name});const g={apiKey:h,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CS(a)},p=new XA(l,o,f,g);return tN(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,l)=>{t.getProvider("auth-internal").initialize()})),oa(new cs("auth-internal",t=>{const i=Zl(t.getProvider("auth").getImmediate());return(l=>new vR(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(vy,Sy,SR(a)),Ai(vy,Sy,"esm2020")}const bR=300,TR=Iy("authIdTokenMaxAge")||bR;let Ey=null;const CR=a=>async t=>{const i=t&&await t.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>TR)return;const o=i?.token;Ey!==o&&(Ey=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wR(a=Py()){const t=yh(a,"auth");if(t.isInitialized())return t.getImmediate();const i=eN(a,{popupRedirectResolver:yR,persistence:[DN,_N,xS]}),l=Iy("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const f=new URL(l,location.origin);if(location.origin===f.origin){const h=CR(f.toString());hN(i,h,()=>h(i.currentUser)),fN(i,m=>h(m))}}const o=xy("auth");return o&&nN(i,`http://${o}`),i}function AR(){return document.getElementsByTagName("head")?.[0]??document}ZA({loadJS(a){return new Promise((t,i)=>{const l=document.createElement("script");l.setAttribute("src",a),l.onload=t,l.onerror=o=>{const f=hn("internal-error");f.customData=o,i(f)},l.type="text/javascript",l.charset="UTF-8",AR().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ER("Browser");const ns={firebase:{apiKey:"AIzaSyBVlkuqYomFKQIeFR_MCF8ZE4y9M99tw_Q",authDomain:"cost-visualisation.firebaseapp.com",projectId:"cost-visualisation",storageBucket:"cost-visualisation.firebasestorage.app",messagingSenderId:"175479822391",appId:"1:175479822391:web:e208aaf08eebdfe9d647b2",databaseURL:"https://cost-visualisation-default-rtdb.europe-west1.firebasedatabase.app/"}},qf={apiKey:ns.firebase.apiKey,authDomain:ns.firebase.authDomain,projectId:ns.firebase.projectId,storageBucket:ns.firebase.storageBucket,messagingSenderId:ns.firebase.messagingSenderId,appId:ns.firebase.appId,databaseURL:ns.firebase.databaseURL};let Gf,ms,xt;try{qf.apiKey?(console.log("Initializing Firebase with config:",qf),Gf=Hy(qf),ms=bA(Gf),xt=wR(Gf),console.log("Firebase initialized, db:",ms)):console.warn("Firebase config missing. Save to Cloud will be disabled.")}catch(a){console.error("Error initializing Firebase:",a)}const NR=a=>a?a.replace(/[^\p{L}\p{N}\s]/gu,"").replace(/\s+/g,"").toUpperCase()||"OTHER":"",by=a=>a.map(({id:t,...i})=>({...i,type:NR(i.type)})),RR=new Bn;let Tl=null;const DR=async()=>xt?xt.currentUser?xt.currentUser:Tl||(Tl=(async()=>{try{return console.log("Starting anonymous login..."),(await rN(xt)).user}catch(a){throw console.error("Error signing in anonymously:",a),a}finally{Tl=null}})(),Tl):null,OR=async()=>{if(!xt)return null;try{return(await kN(xt,RR)).user}catch(a){throw console.error("Error signing in with Google:",a),a}},xR=async()=>{if(xt)try{await mN(xt)}catch(a){throw console.error("Error signing out:",a),a}},MR=a=>xt?dN(xt,a):()=>{},BS=()=>xt?xt.currentUser:null,IR=async a=>{if(!ms)throw new Error("Firebase is not configured. Please check your .env file.");try{const t=BS();if(!t)throw new Error("User not authenticated. Please sign in.");const i=t.uid;return console.log("Saving data to:","transactions/"+i),await dA(rS(ms,"transactions/"+i),a),console.log("Save successful"),{success:!0}}catch(t){throw console.error("Error in saveTransactions:",t),t}},kR=async()=>{if(!ms)throw new Error("Firebase is not configured. Please check your .env file.");try{const a=BS();if(!a)return console.warn("fetchTransactions: No user logged in."),null;const t=a.uid;return await HS(t)}catch(a){throw console.error("Error in fetchTransactions:",a),a}},HS=async a=>{if(!ms)throw new Error("Firebase is not configured.");try{console.log("Fetching public data from:","transactions/"+a);const t=await mA(rS(ms,"transactions/"+a));return t.exists()?(console.log("Data retrieved successfully"),t.val()):(console.log("No data available"),null)}catch(t){throw console.error("Error in fetchPublicTransactions:",t),t}},Vf=(a,t="Budget")=>{const i=[],l=[];return Array.isArray(a)?(a.forEach((o,f)=>{const h=[];o.date||h.push("Missing date"),o.name||h.push("Missing name"),(o.amount===void 0||o.amount===null)&&h.push("Missing amount");const m=o.type||"OTHER";o.amount&&isNaN(parseFloat(o.amount))&&h.push("Amount is not a number"),h.length>0?l.push({index:f,item:o,messages:h}):i.push({...o,type:m,id:o.id||(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"id-"+Math.random().toString(36).substring(2,15)),amount:parseFloat(o.amount),project:o.project||t})}),{validTransactions:i,errors:l}):(l.push({message:"Retrieved data is not an array."}),{validTransactions:i,errors:l})},LR=({onAuthChange:a})=>{const[t,i]=W.useState(null),{t:l}=nn();W.useEffect(()=>{const h=MR(m=>{i(m),a&&a(m)});return()=>h()},[a]);const o=async()=>{try{await OR()}catch(h){console.error("Login failed:",h)}},f=async()=>{try{await xR()}catch(h){console.error("Logout failed:",h)}};return t&&!t.isAnonymous?y.jsxs("div",{className:"auth-container",children:[y.jsxs("div",{className:"user-profile",children:[t.photoURL&&y.jsx("img",{src:t.photoURL,alt:t.displayName,className:"user-avatar"}),y.jsx("span",{className:"user-name",children:t.displayName})]}),y.jsx("button",{className:"secondary small",onClick:f,children:l("logout")||"Logout"})]}):y.jsx("div",{className:"auth-container",children:y.jsxs("button",{className:"primary small g-auth-btn",onClick:o,children:[y.jsxs("svg",{className:"g-icon",viewBox:"0 0 24 24",width:"18",height:"18",children:[y.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),y.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.66l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l("signInWithGoogle")||"Sign in with Google"]})})};function zR(){const[a,t]=W.useState([]),[i,l]=W.useState(null),[o,f]=W.useState(""),[h,m]=W.useState(!1),[g,p]=W.useState(null),[b,v]=W.useState([]),[S,D]=W.useState(!1),[I,H]=W.useState(!0),[ne,j]=W.useState(null),[$,ee]=W.useState("transactions"),[Ne,ze]=W.useState(null),[Ee,se]=W.useState(!1),[Q,he]=W.useState(null),{language:Z,setLanguage:ie,t:q}=nn();W.useEffect(()=>{fetch("https://open.er-api.com/v6/latest/PLN").then(Ye=>Ye.json()).then(Ye=>{Ye&&Ye.rates&&p(Ye.rates)}).catch(Ye=>console.error("Failed to fetch rates:",Ye));const Te=new URLSearchParams(window.location.search).get("share");Te&&(se(!0),he(Te),ee("dashboard"),ue(Te))},[]);const[ht,nt]=W.useState(null),Je=Y=>{Y?Y.uid!==ht&&(nt(Y.uid),be()):DR()},[O,U]=W.useState("All"),[K,Se]=W.useState([]),[De,C]=W.useState(!1),L=W.useMemo(()=>{const Y=a.map(Te=>Te.project).filter(Boolean);return["All",...new Set([...Y,...K])].sort()},[a,K]),P=()=>{C(!0)},V=Y=>{Y&&!L.includes(Y)?(Se(Te=>[...Te,Y]),U(Y),j({message:`${q("addProject")}: ${Y}`,type:"success"})):L.includes(Y)&&j({message:q("duplicateProject")||"Project already exists",type:"error"}),C(!1)},le=W.useMemo(()=>O==="All"?a:a.filter(Y=>Y.project===O),[a,O]);W.useEffect(()=>{document.title=O==="All"?q("appTitle"):`${O} - ${q("appTitle")}`},[O,q]);const ue=async Y=>{H(!0);try{const Te=await HS(Y);if(Te){const{validTransactions:Ye,errors:ji}=Vf(Te);t(Ye),v(ji)}}catch(Te){console.error("Failed to load shared data:",Te),j({message:q("sharedLoadError"),type:"error"})}finally{H(!1)}},be=async()=>{H(!0);try{const Y=await kR();if(Y){const{validTransactions:Te,errors:Ye}=Vf(Y);t(Te),v(Ye),D(!1)}else D(!0)}catch(Y){console.error("Failed to load data:",Y)}finally{H(!1)}},lt=Y=>{try{const Te=JSON.parse(Y),Ye=O==="All"?"Budget":O,{validTransactions:ji,errors:Ca}=Vf(Te,Ye);ji.length>0?(t(ji),v(Ca),D(!1),j({message:q("importSuccess",{count:ji.length}),type:"success"})):(j({message:q("importNoValid"),type:"error"}),Ca.length>0&&v(Ca))}catch{j({message:q("importInvalidJson"),type:"error"})}},Ve=W.useMemo(()=>{const Y=a.map(Te=>Te.type).filter(Boolean);return[...new Set(Y)].sort()},[a]),Li=Y=>{i?(t(Te=>Te.map(Ye=>Ye.id===i?{...Y,id:i}:Ye)),l(null)):t(Te=>[...Te,{...Y,id:crypto.randomUUID()}]),D(!1)},zi=Y=>{l(Y.id),window.scrollTo({top:0,behavior:"smooth"})},Sa=()=>{l(null)},Ea=Y=>{ze(Y)},Sn=()=>{Ne&&(t(Y=>{const Te=Y.filter(Ye=>Ye.id!==Ne);return Te.length===0&&D(!0),Te}),i===Ne&&l(null),ze(null),j({message:q("deleteSuccess")||"Transaction deleted successfully",type:"success"}))},ba=()=>{const Y=by(a);f(JSON.stringify(Y,null,2)),m(!1)},Ta=async()=>{try{const Y=by(a);await IR(Y),j({message:q("saveSuccess"),type:"success"})}catch(Y){j({message:Y.message||q("saveError"),type:"error"})}},oc=()=>{const Y=xt.currentUser;if(!Y){j({message:q("shareError"),type:"error"});return}const Te=`${window.location.origin}${window.location.pathname}?share=${Y.uid}`;navigator.clipboard.writeText(Te),j({message:q("shareSuccess"),type:"success"})},$l=a.find(Y=>Y.id===i);return y.jsxs("div",{className:"app-container",children:[y.jsxs("div",{className:"header-actions",children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",marginRight:"1rem"},children:[y.jsx("select",{value:O,onChange:Y=>U(Y.target.value),className:"project-switcher",style:{marginRight:"0.5rem"},children:L.map(Y=>y.jsx("option",{value:Y,children:Y==="All"?q("allProjects"):Y},Y))}),y.jsx("button",{className:"secondary small",onClick:P,title:q("addProject")||"Add Project",children:"+"})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[y.jsx(LR,{onAuthChange:Je}),y.jsxs("select",{value:Z,onChange:Y=>ie(Y.target.value),className:"language-switcher",children:[y.jsx("option",{value:"pl",children:"Polski"}),y.jsx("option",{value:"en",children:"English"}),y.jsx("option",{value:"uk",children:""}),y.jsx("option",{value:"ru",children:""})]})]})]}),y.jsx("h1",{children:O==="All"?q("appTitle"):O}),ne&&y.jsx(bb,{message:ne.message,type:ne.type,onClose:()=>j(null)}),b.length>0&&y.jsx(Eb,{errors:b,onClose:()=>v([])}),Ee&&y.jsxs("div",{className:"share-banner",children:[y.jsx("span",{children:q("sharedBanner")}),y.jsx("button",{className:"secondary small",onClick:()=>{window.location.href=window.location.origin+window.location.pathname},children:q("goToMyDashboard")})]}),y.jsxs("div",{className:"nav-tabs",children:[y.jsx("button",{className:`nav-tab ${$==="transactions"?"active":""}`,onClick:()=>ee("transactions"),children:q("navTransactions")}),y.jsx("button",{className:`nav-tab ${$==="dashboard"?"active":""}`,onClick:()=>ee("dashboard"),children:q("navDashboard")})]}),$==="transactions"?y.jsxs("div",{className:"dashboard-grid",children:[!Ee&&y.jsx("div",{className:"transaction-form-container",children:y.jsx(Sb,{onSave:Li,editingTransaction:$l,onCancel:Sa,existingTypes:Ve,existingProjects:L.filter(Y=>Y!=="All"),defaultProject:O==="All"?"Budget":O})}),y.jsx("div",{className:"transaction-list-container",children:I?y.jsx("div",{className:"card animate-fade-in",children:q("loading")}):y.jsxs(y.Fragment,{children:[le.length===0&&!Ee?y.jsx(Ay,{onImport:lt}):y.jsx(wy,{transactions:le,onEdit:zi,onDelete:Ea,rates:g}),a.length>0&&!Ee&&y.jsxs("div",{className:"card animate-fade-in",children:[y.jsx("button",{onClick:ba,style:{width:"100%",marginBottom:"1rem"},children:q("generateJson")}),y.jsx("button",{onClick:Ta,style:{width:"100%",marginBottom:"1rem"},className:"primary",children:q("saveToCloud")}),o&&y.jsxs("div",{className:"json-output-container",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[y.jsx("h3",{style:{margin:0},children:q("jsonOutput")}),y.jsx("button",{className:"secondary small",onClick:()=>m(!h),children:q(h?"showLess":"showAll")})]}),y.jsx("pre",{className:`json-output ${h?"expanded":"minimized"}`,children:o}),y.jsx("button",{className:"secondary",onClick:()=>{navigator.clipboard.writeText(o),j({message:q("copied"),type:"success"})},style:{marginTop:"0.5rem",fontSize:"0.8em",width:"100%"},children:q("copyToClipboard")})]})]})]})})]}):y.jsxs("div",{className:"dashboard-view-container",children:[!Ee&&a.length>0&&y.jsx("div",{className:"dashboard-actions",children:y.jsx("button",{className:"secondary share-btn",onClick:oc,children:q("shareDashboard")})}),y.jsx(Ab,{transactions:le,onEdit:zi,onDelete:Ea,selectedProject:O,onImport:lt})]}),y.jsx(Nb,{isOpen:!!Ne,title:q("confirmDeleteTitle"),message:q("confirmDeleteMsg"),onConfirm:Sn,onCancel:()=>ze(null)}),y.jsx(Rb,{isOpen:De,title:q("addProject"),message:q("enterProjectName"),onConfirm:V,onCancel:()=>C(!1),confirmText:q("add")||"Add",placeholder:q("projectName")||"Project Name"})]})}_b.createRoot(document.getElementById("root")).render(y.jsx(W.StrictMode,{children:y.jsx(vb,{children:y.jsx(zR,{})})}));
